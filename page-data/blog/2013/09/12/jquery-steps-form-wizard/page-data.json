{"componentChunkName":"component---src-templates-blog-article-template-tsx","path":"/blog/2013/09/12/jquery-steps-form-wizard","result":{"data":{"mdx":{"excerpt":"This blog article was previously published on  http://www.rafaelstaib.com/post/How-to-create-a-Form-Wizard-using-jQuery-Steps . Motivationâ€¦","frontmatter":{"featuredImage":null,"path":"/blog/2013/09/12/jquery-steps-form-wizard","title":"How to create a Form Wizard using jQuery Steps","tags":["jquery-steps","jquery","wizard","forms"],"author":"Rafael Staib","authorImageUrl":"https://avatars0.githubusercontent.com/u/4325318?s=100&v=4","authorUrl":"https://github.com/rstaib","date":"September 12, 2013"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"path\": \"/blog/2013/09/12/jquery-steps-form-wizard\",\n  \"date\": \"2013-09-12\",\n  \"title\": \"How to create a Form Wizard using jQuery Steps\",\n  \"tags\": [\"jquery-steps\", \"jquery\", \"wizard\", \"forms\"],\n  \"author\": \"Rafael Staib\",\n  \"authorUrl\": \"https://github.com/rstaib\",\n  \"authorImageUrl\": \"https://avatars0.githubusercontent.com/u/4325318?s=100&v=4\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This blog article was previously published on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.rafaelstaib.com/post/How-to-create-a-Form-Wizard-using-jQuery-Steps\"\n  }), \"http://www.rafaelstaib.com/post/How-to-create-a-Form-Wizard-using-jQuery-Steps\"), \".\"), mdx(\"h2\", null, \"Motivation\"), mdx(\"p\", null, \"Sometimes it's better to separate a large or complex form into different sections. It\\u2019s because your form looks much cleaner and less difficult. Despite that fact people want to be guided through complex processes without understanding those deeply.\"), mdx(\"h2\", null, \"Situation\"), mdx(\"p\", null, \"There are many options to realize such a form wizard. You could use for example just static HTML files for each step one and link them together. But this, actually, could be really frustrating for you and the people visiting your site. Think of maintaining an existing wizard (e.g. adding a new step or changing links) then you have to touch in worst case all the existing steps that are involved. On the other hand your visitors get frustrated because of the many page requests and their accompanying latency time. However, all this isn\\u2019t probably new for you. Therefore, let\\u2019s step over!\"), mdx(\"h2\", null, \"Solution\"), mdx(\"p\", null, \"Let me explain you how I usually solve this problem. I prefer using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Steps\"), \" a jQuery UI plugin because of its simplicity and feature-richness. And most important it\\u2019s free (open source). Just grab and use it!\"), mdx(\"p\", null, \"But for now enough words - let\\u2019s get our hands dirty!\"), mdx(\"p\", null, \"First of all, we will download \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Steps\"), \" from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.jquery-steps.com\"\n  }), \"here\"), \" and take the basic example markup from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.jquery-steps.com/GettingStarted#basic\"\n  }), \"there\"), \" \\u2013 done. Not really but it isn\\u2019t far away from being done.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html>\\n  <head>\\n    <title>Demo</title>\\n    <meta charset=\\\"utf-8\\\" />\\n    <script src=\\\"jquery.js\\\"></script>\\n    <script src=\\\"jquery.steps.js\\\"></script>\\n    <link href=\\\"jquery.steps.css\\\" rel=\\\"stylesheet\\\" />\\n  </head>\\n  <body>\\n    <script>\\n      $(\\\"#wizard\\\").steps();\\n    </script>\\n    <div id=\\\"wizard\\\"></div>\\n  </body>\\n</html>\\n\")), mdx(\"p\", null, \"What else? We have to replace this \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div id=\\\"wizard\\\"></div>\"), \" part by our own form markup and override the bodyTag property on initialization.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<form id=\\\"form-3\\\" action=\\\"#\\\">\\n  <h1>Account</h1>\\n  <fieldset>\\n    <legend>Account Information</legend>\\n\\n    <label for=\\\"userName\\\">User name *</label>\\n    <input id=\\\"userName\\\" name=\\\"userName\\\" type=\\\"text\\\" class=\\\"required\\\" />\\n    <label for=\\\"password\\\">Password *</label>\\n    <input id=\\\"password\\\" name=\\\"password\\\" type=\\\"text\\\" class=\\\"required\\\" />\\n    <label for=\\\"confirm\\\">Confirm Password *</label>\\n    <input id=\\\"confirm\\\" name=\\\"confirm\\\" type=\\\"text\\\" class=\\\"required\\\" />\\n    <p>(*) Mandatory</p>\\n  </fieldset>\\n\\n  <h1>Profile</h1>\\n  <fieldset>\\n    <legend>Profile Information</legend>\\n\\n    <label for=\\\"name\\\">First name *</label>\\n    <input id=\\\"name\\\" name=\\\"name\\\" type=\\\"text\\\" class=\\\"required\\\" />\\n    <label for=\\\"surname\\\">Last name *</label>\\n    <input id=\\\"surname\\\" name=\\\"surname\\\" type=\\\"text\\\" class=\\\"required\\\" />\\n    <label for=\\\"email\\\">Email *</label>\\n    <input id=\\\"email\\\" name=\\\"email\\\" type=\\\"text\\\" class=\\\"required email\\\" />\\n    <label for=\\\"address\\\">Address</label>\\n    <input id=\\\"address\\\" name=\\\"address\\\" type=\\\"text\\\" />\\n    <label for=\\\"age\\\"\\n      >Age (The warning step will show up if age is less than 18) *</label\\n    >\\n    <input id=\\\"age\\\" name=\\\"age\\\" type=\\\"text\\\" class=\\\"required number\\\" />\\n    <p>(*) Mandatory</p>\\n  </fieldset>\\n\\n  <h1>Warning</h1>\\n  <fieldset>\\n    <legend>You are to young</legend>\\n\\n    <p>Please go away ;-)</p>\\n  </fieldset>\\n\\n  <h1>Finish</h1>\\n  <fieldset>\\n    <legend>Terms and Conditions</legend>\\n\\n    <input\\n      id=\\\"acceptTerms\\\"\\n      name=\\\"acceptTerms\\\"\\n      type=\\\"checkbox\\\"\\n      class=\\\"required\\\"\\n    />\\n    <label for=\\\"acceptTerms\\\">I agree with the Terms and Conditions.</label>\\n  </fieldset>\\n</form>\\n\")), mdx(\"p\", null, \"This is just a normal form which you should be familiar with. The small difference \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.jquery-steps.com/Examples#advanced-form\"\n  }), \"here\"), \" is that we use a h1 tag on top of each fieldset tag. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Steps\"), \" needs that to build the wizard navigation. I grabbed that from here and there you can also see how it works in action.\"), mdx(\"p\", null, \"The following code shows how to override the bodyTag property in order to tell \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Steps\"), \" to use the fieldset tag as body container instead of div.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$(\\\"#wizard\\\").steps({\\n  bodyTag: \\\"fieldset\\\",\\n});\\n\")), mdx(\"p\", null, \"Actually, we are done but to offer users a rich and intuitive experience we will add an additional jQuery plugin which all of you very probably already know; \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Validation\"), \" (for more Information see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://jqueryvalidation.org/\"\n  }), \"here\"), \"). It's a plugin for doing form input validation. Furthermore, we will attach four event handler functions containing some extra magic. Finally, we will initialize \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery Validation\"), \". Since both plugins are built on top of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"jQuery\"), \", we can make use of chaining (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$(\\\"#form\\\").steps().validate()\"), \"). Okay, before we start adding more code take a brief look on the following table that explains the four events we will shortly add.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Event\"), mdx(\"th\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"onStepChanging\")), mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Fires before the step changes and can be used to prevent step changing by returning \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"false\"), \". Very useful for form validation or checking preconditions.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"onStepChanged\")), mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Fires after the step has change.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"onFinishing\")), mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Fires before finishing and can be used to prevent completion by returning \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"false\"), \". Very useful for form validation or checking preconditions.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"onFinished\")), mdx(\"td\", _extends({\n    parentName: \"tr\"\n  }, {\n    \"align\": null\n  }), \"Fires after completion.\")))), mdx(\"p\", null, \"These useful events will help us realizing pretty neat functionality. So the events ending on -ing will be invoked right after an user interaction but before any internal logic gets executed. Those events will be very helpful to prevent step changing and submission. The events ending with -ed will happen after everything is executed and let us execute custom logic (e.g. skipping a step and submitting a form via AJAX).\"), mdx(\"p\", null, \"Internally, it's implemented like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"if (wizard.triggerHandler(\\\"stepChanging\\\", [state.currentIndex, index])) {\\n  // Internal logic\\n\\n  wizard.triggerHandler(\\\"stepChanged\\\", [index, oldIndex]);\\n}\\n\")), mdx(\"p\", null, \"With that in mind you know how it works. The first event function we are going to add to the settings is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onStepChanging\"), \". This Implementation allows us to react before things are going to change.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"onStepChanging: function (event, currentIndex, newIndex)\\n{\\n    // Always allow going backward even if the current step contains invalid fields!\\n    if (currentIndex > newIndex)\\n    {\\n        return true;\\n    }\\n\\n    // Forbid suppressing \\\"Warning\\\" step if the user is to young\\n    if (newIndex === 3 && Number($(\\\"#age\\\").val()) < 18)\\n    {\\n        return false;\\n    }\\n\\n    var form = $(this);\\n\\n    // Clean up if user went backward before\\n    if (currentIndex < newIndex)\\n    {\\n        // To remove error styles\\n        $(\\\".body:eq(\\\" + newIndex + \\\") label.error\\\", form).remove();\\n        $(\\\".body:eq(\\\" + newIndex + \\\") .error\\\", form).removeClass(\\\"error\\\");\\n    }\\n\\n    // Disable validation on fields that are disabled or hidden.\\n    form.validate().settings.ignore = \\\":disabled,:hidden\\\";\\n\\n    // Start validation; Prevent going forward if false\\n    return form.valid();\\n}\\n\")), mdx(\"p\", null, \"The second event function contains some logic to skip the warning step we added before.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"onStepChanged: function (event, currentIndex, priorIndex)\\n{\\n    // Suppress (skip) \\\"Warning\\\" step if the user is old enough and wants to the previous step.\\n    if (currentIndex === 2 && priorIndex === 3)\\n    {\\n        $(this).steps(\\\"previous\\\");\\n        return;\\n    }\\n\\n    // Suppress (skip) \\\"Warning\\\" step if the user is old enough.\\n    if (currentIndex === 2 && Number($(\\\"#age\\\").val()) >= 18)\\n    {\\n        $(this).steps(\\\"next\\\");\\n    }\\n}\\n\")), mdx(\"p\", null, \"The next two event functions allow us to handle submission and submission prevention.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"onFinishing: function (event, currentIndex)\\n{\\n    var form = $(this);\\n\\n    // Disable validation on fields that are disabled.\\n    // At this point it's recommended to do an overall check (mean ignoring only disabled fields)\\n    form.validate().settings.ignore = \\\":disabled\\\";\\n\\n    // Start validation; Prevent form submission if false\\n    return form.valid();\\n}\\n\")), mdx(\"p\", null, \"The latter event function is required for form submission.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"onFinished: function (event, currentIndex)\\n{\\n    var form = $(this);\\n\\n    // Submit form input\\n    form.submit();\\n}\\n\")), mdx(\"p\", null, \"The final JavaScript code looks like this after we stick everything together.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$(\\\"#form\\\")\\n  .steps({\\n    bodyTag: \\\"fieldset\\\",\\n    onStepChanging: function (event, currentIndex, newIndex) {\\n      // Always allow going backward even if the current step contains invalid fields!\\n      if (currentIndex > newIndex) {\\n        return true;\\n      }\\n\\n      // Forbid suppressing \\\"Warning\\\" step if the user is to young\\n      if (newIndex === 3 && Number($(\\\"#age\\\").val()) < 18) {\\n        return false;\\n      }\\n\\n      var form = $(this);\\n\\n      // Clean up if user went backward before\\n      if (currentIndex < newIndex) {\\n        // To remove error styles\\n        $(\\\".body:eq(\\\" + newIndex + \\\") label.error\\\", form).remove();\\n        $(\\\".body:eq(\\\" + newIndex + \\\") .error\\\", form).removeClass(\\\"error\\\");\\n      }\\n\\n      // Disable validation on fields that are disabled or hidden.\\n      form.validate().settings.ignore = \\\":disabled,:hidden\\\";\\n\\n      // Start validation; Prevent going forward if false\\n      return form.valid();\\n    },\\n    onStepChanged: function (event, currentIndex, priorIndex) {\\n      // Suppress (skip) \\\"Warning\\\" step if the user is old enough and wants to the previous step.\\n      if (currentIndex === 2 && priorIndex === 3) {\\n        $(this).steps(\\\"previous\\\");\\n        return;\\n      }\\n\\n      // Suppress (skip) \\\"Warning\\\" step if the user is old enough.\\n      if (currentIndex === 2 && Number($(\\\"#age\\\").val()) >= 18) {\\n        $(this).steps(\\\"next\\\");\\n      }\\n    },\\n    onFinishing: function (event, currentIndex) {\\n      var form = $(this);\\n\\n      // Disable validation on fields that are disabled.\\n      // At this point it's recommended to do an overall check (mean ignoring only disabled fields)\\n      form.validate().settings.ignore = \\\":disabled\\\";\\n\\n      // Start validation; Prevent form submission if false\\n      return form.valid();\\n    },\\n    onFinished: function (event, currentIndex) {\\n      var form = $(this);\\n\\n      // Submit form input\\n      form.submit();\\n    },\\n  })\\n  .validate({\\n    errorPlacement: function (error, element) {\\n      element.before(error);\\n    },\\n    rules: {\\n      confirm: {\\n        equalTo: \\\"#password\\\",\\n      },\\n    },\\n  });\\n\")), mdx(\"p\", null, \"Any questions or comments are very welcome!\"));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"readingTime":{"text":"7 min read"}}},"site":{"siteMetadata":{"siteUrl":"https://chillicream.com","author":"Chilli_Cream"}}},"pageContext":{}},"staticQueryHashes":["1014893094","2890364758","4218812017"]}