(this["webpackJsonp@banana-cake-pop/main"]=this["webpackJsonp@banana-cake-pop/main"]||[]).push([[6],{179:function(e,n,t){"use strict";var r=t(262);t.o(r,"LogLevel")&&t.d(n,"LogLevel",(function(){return r.LogLevel}));var i=t(263);t.o(i,"LogLevel")&&t.d(n,"LogLevel",(function(){return i.LogLevel}));var a=t(264);t.o(a,"LogLevel")&&t.d(n,"LogLevel",(function(){return a.LogLevel}));var o=t(265);t.o(o,"LogLevel")&&t.d(n,"LogLevel",(function(){return o.LogLevel}));var c=t(266);t.o(c,"LogLevel")&&t.d(n,"LogLevel",(function(){return c.LogLevel}));var s=t(267);t.o(s,"LogLevel")&&t.d(n,"LogLevel",(function(){return s.LogLevel}));var u=t(268);t.d(n,"LogLevel",(function(){return u.a}));t(269),t(270),t(271),t(272),t(273),t(274)},262:function(e,n){},263:function(e,n){},264:function(e,n){},265:function(e,n){},266:function(e,n){},267:function(e,n){},268:function(e,n,t){"use strict";var r;t.d(n,"a",(function(){return r})),function(e){e[e.error=0]="error",e[e.warning=1]="warning",e[e.info=2]="info"}(r||(r={}))},269:function(e,n){},270:function(e,n){},271:function(e,n){},272:function(e,n){},273:function(e,n){},274:function(e,n){},275:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(57);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"id",void 0),i(this,"type",void 0),i(this,"createdAt",void 0),i(this,"payload",void 0),this.id=n.id||Object(r.b)(),this.type=n.type,this.createdAt=n.createdAt||Object(r.e)(),this.payload=n.payload}},276:function(e,n){},277:function(e,n,t){"use strict";t(278),t(279),t(280),t(281),t(282),t(283),t(284),t(285),t(286),t(287),t(288),t(289),t(290),t(291)},278:function(e,n){},279:function(e,n){},280:function(e,n){},281:function(e,n){},282:function(e,n){},283:function(e,n){},284:function(e,n){},285:function(e,n){},286:function(e,n){},287:function(e,n){},288:function(e,n){},289:function(e,n){},290:function(e,n){},291:function(e,n){},359:function(e,n){},360:function(e,n){},57:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return c})),t.d(n,"d",(function(){return s})),t.d(n,"e",(function(){return d})),t.d(n,"c",(function(){return u}));var r=t(313),i=t.n(r);function a(){for(var e=new i.a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.forEach((function(n){return e=e.update(n)})),e.digest("hex")}var o=t(258);function c(e){return e&&e.length>0?"".concat(e,"|").concat(Object(o.a)()):Object(o.a)()}function s(e){return"OperationDefinition"===e.kind}function u(e,n){if(e>n)throw new Error("'start' must be smaller than 'end'.");return n-e}function d(){return Date.now()}},58:function(e,n,t){"use strict";var r=t(275);t.d(n,"Message",(function(){return r.a}));t(276),t(277)},843:function(e,n,t){"use strict";t.r(n);var r=t(57),i=t(933),a=t(934),o=t(935),c=t(58),s=t(937),u=t(936),d=t(8),l=t.n(d);function p(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=[0,1,1,2,3,5,8,13,21,34],y=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.execute=n,m(this,"count",0),m(this,"running",!1),m(this,"timeout",void 0)}var n,t,r;return n=e,(t=[{key:"start",value:function(e){var n=this,t=function(){var r,i=(r=l.a.mark((function r(){var i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.running=!0,r.prev=1,r.next=4,n.execute(n.count++);case 4:if(!r.sent){r.next=7;break}n.stop(),e();case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:n.running&&(n.count<10?(i=Math.floor(Math.random()*v[n.count]*250),n.timeout=self.setTimeout(t,i)):e());case 13:case"end":return r.stop()}}),r,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(t,i){var a=r.apply(e,n);function o(e){p(a,t,i,o,c,"next",e)}function c(e){p(a,t,i,o,c,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();t()}},{key:"stop",value:function(){this.running=!1,self.clearTimeout(this.timeout)}}])&&f(n.prototype,t),r&&f(n,r),e}();function h(e){var n=[];return e&&e.definitions.forEach((function(e){var t;Object(r.d)(e)&&(null===(t=e.name)||void 0===t?void 0:t.value)&&n.push({name:e.name.value,type:e.operation})})),n}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var S=new i.a({});function j(){Hn("document-cache-delete-item",(function(e,n){!function(e){S.next(g(g({},S.value),{},k({},e,void 0)))}(n.session.documentId)})),Hn("document-cache-set-item",(function(e,n){var t=e.payload;!function(e,n){S.next(g(g({},S.value),{},k({},e,n)))}(n.session.documentId,t)}))}function x(e){return S.value[e]}function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function T(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var E=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.port=n,P(this,"id",Object(r.b)("context")),P(this,"session$",new i.a({documentId:"",httpMethod:"POST",schemaEndpoint:""})),P(this,"subscriptions",[]),this.initialize()}var n,t,d;return n=e,(t=[{key:"dispose",value:function(){this.session$.complete(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"initialize",value:function(){var e,n=this;Hn("set-session",(function(e){var t=e.payload;n.session$.next(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){P(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t))})),this.subscriptions.push((e=this,Object(s.a)([e.select((function(e){return e.documentId})),S]).pipe(Object(a.a)((function(e){var n=O(e,2),t=n[0];return{documentId:t,document:n[1][t]}})),Object(o.a)(),Object(u.a)((function(e){var n=e.document,t=e.documentId;return!!n&&""!==t}))).subscribe((function(n){var t=n.document;e.sendMessage(new c.Message({type:"document-operations-update",payload:h(t)}))}))))}},{key:"select",value:function(e){return this.session$.pipe(Object(a.a)(e),Object(o.a)())}},{key:"sendMessage",value:function(e){this.port.postMessage(e)}},{key:"session",get:function(){return this.session$.value}}])&&T(n.prototype,t),d&&T(n,d),e}();function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){M(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var D={};function L(){Hn("http-headers-cache-delete-item",(function(e,n){!function(e){D=I(I({},D),{},M({},e,void 0))}(n.session.documentId)})),Hn("http-headers-cache-set-item",(function(e,n){var t=e.payload;!function(e,n){D=I(I({},D),{},M({},e,n))}(n.session.documentId,t)}))}function R(e){return D[e]}var _=t(336),C=t(941),q=t(334);function A(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function V(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){A(a,r,i,o,c,"next",e)}function c(e){A(a,r,i,o,c,"throw",e)}o(void 0)}))}}function G(e){return Q.apply(this,arguments)}function Q(){return(Q=V(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.next=5,t.get("schema",n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,n){return $.apply(this,arguments)}function $(){return($=V(l.a.mark((function e(n,t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return r=e.sent,e.next=5,r.put("schema",t,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return Object(q.a)("bcp-schema",1,{upgrade:function(e){e.createObjectStore("document"),e.createObjectStore("schema")}})}function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){K(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function W(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){H(a,r,i,o,c,"next",e)}function c(e){H(a,r,i,o,c,"throw",e)}o(void 0)}))}}var X={};function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=W(l.a.mark((function e(n){var t,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.session.schemaEndpoint,!(r=X[t])){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,G(t);case 6:return(i=e.sent)&&te(n,t,i.schema,i.hash),e.abrupt("return",X[t]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,n){return ne.apply(this,arguments)}function ne(){return(ne=W(l.a.mark((function e(n,t){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.session.schemaEndpoint,e.next=3,Y(n);case 3:if(a=e.sent,o=Object(r.a)(JSON.stringify(t)),a&&a.hash===o){e.next=9;break}return te(n,i,t,o),e.next=9,J(i,{hash:o,schema:t});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,n,t,r){var i=Object(C.a)(t);se(e,{endpoint:n,exists:!0,hash:r,hasMutationType:!!i.getMutationType(),hasSubscriptionType:!!i.getSubscriptionType()}),X=z(z({},X),{},K({},n,{hash:r,schema:i}))}function re(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function ie(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){re(a,r,i,o,c,"next",e)}function c(e){re(a,r,i,o,c,"throw",e)}o(void 0)}))}}var ae={"GraphQL: Validation":"validation","GraphQL: Deprecation":"deprecation","GraphQL: Syntax":"syntax"};function oe(){Hn("auto-suggestions",function(){var e=ie(l.a.mark((function e(n,t){var r,i,a,o,s,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=i.content,o=i.cursor,s=n.type,e.next=3,Y(t);case 3:u=e.sent,d=[],u&&(p=Object(_.a)(u.schema,a,o),d=p.map((function(e){var n=e.label;return{label:n,kind:e.kind,detail:e.detail,documentation:e.documentation,insertText:n}}))),t.sendMessage(new c.Message({id:r,type:s,payload:d}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Hn("diagnostics",function(){var e=ie(l.a.mark((function e(n,t){var r,i,a,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=n.type,e.next=3,Y(t);case 3:o=e.sent,s=Object(_.b)(i||"",o?o.schema:void 0),u=s.map((function(e){var n=e.message,t=e.range,r=e.severity,i=e.source;return{message:n,severity:r?ce(r):1,source:i?ae[i]:void 0,startLineNumber:t.start.line+1,startColumn:t.start.character+1,endLineNumber:t.end.line+1,endColumn:t.end.character+1}})),t.sendMessage(new c.Message({id:r,type:a,payload:u}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Hn("hover-information",function(){var e=ie(l.a.mark((function e(n,t){var r,i,a,o,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=i.content,o=i.cursor,s=n.type,e.next=3,Y(t);case 3:u=e.sent,d=void 0,u&&(d=Object(_.c)(u.schema,a,o)),t.sendMessage(new c.Message({id:r,type:s,payload:d}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function ce(e){return[8,4,2,1][e-1]}function se(e,n){e.sendMessage(new c.Message({type:"schema-update",payload:n}))}var ue=t(179);function de(e,n,t,r){var i=r||e.session.documentId;e.sendMessage(new c.Message({type:"log",payload:{tabId:i,level:ue.LogLevel.error,message:n,details:t}}))}function le(e,n,t,r){var i=r||e.session.documentId;e.sendMessage(new c.Message({type:"log",payload:{tabId:i,level:ue.LogLevel.info,message:n,details:t}}))}t(830);var pe=t(93);function fe(e){return(fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=ye(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function ve(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||ye(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,n){if(e){if("string"===typeof e)return he(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?he(e,n):void 0}}function he(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?be(Object(t),!0).forEach((function(n){ke(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ke(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oe(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function we(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){Oe(a,r,i,o,c,"next",e)}function c(e){Oe(a,r,i,o,c,"throw",e)}o(void 0)}))}}var Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"introspection_phase_1"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"schema"},name:{kind:"Name",value:"__type"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"__Schema",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"directive"},name:{kind:"Name",value:"__type"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"__Directive",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:199,source:{body:'query introspection_phase_1 {\n  schema: __type(name: "__Schema") {\n    name\n    fields {\n      name\n    }\n  }\n\n  directive: __type(name: "__Directive") {\n    name\n    fields {\n      name\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function je(e,n,t){return xe.apply(this,arguments)}function xe(){return(xe=we(l.a.mark((function e(n,t,r){var i,a,o,c,s,u,d,p,f,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(n,t,r);case 2:if(i=e.sent,a=i.response,o=a.isMultipart,(c=a.responseOrError)instanceof Response){e.next=6;break}return e.abrupt("return",{isMultipart:o,request:i.request,response:{error:c}});case 6:if(!o){e.next=9;break}return s=Ne({},c),e.abrupt("return",{isMultipart:o,request:i.request,response:s});case 9:return e.next=11,qe(c);case 11:if(u=e.sent,d=u.data,!(p=u.error)){e.next=17;break}return f=Te(p,c),e.abrupt("return",{isMultipart:o,request:i.request,response:f});case 17:return m=Ne(d,c),e.abrupt("return",{isMultipart:o,request:i.request,response:m});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,n){return{parsedBody:e,headers:Pe(n.headers),statusCode:n.status,statusText:n.statusText}}function Te(e,n){return{error:e,headers:Pe(n.headers),statusCode:n.status,statusText:n.statusText}}function Pe(e){var n=Object.create(null);return e.forEach((function(e,t){n[t]=e})),n}function Ee(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=we(l.a.mark((function e(n){var t,r,i,a,o,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(n,{query:Se,variables:{},operationName:"introspection_phase_1"});case 2:if(t=e.sent,(r=t.response.responseOrError)instanceof Response){e.next=6;break}return e.abrupt("return",r);case 6:return e.next=8,qe(r);case 8:if(!(i=e.sent).error){e.next=11;break}return e.abrupt("return",i.error);case 11:return a=Je(i.data.data),o=Ge(a),e.next=15,Ie(n,{query:o,variables:{},operationName:"introspection_phase_2"});case 15:if(c=e.sent,(s=c.response.responseOrError)instanceof Response){e.next=19;break}return e.abrupt("return",s);case 19:return e.next=21,qe(s);case 21:if(!(u=e.sent).error){e.next=24;break}return e.abrupt("return",u.error);case 24:return e.abrupt("return",u.data.data);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,n,t){var r=e.credentials||"omit",i=n.extensions,a=n.operationName,o=n.variables,c={cache:"no-cache",credentials:r,referrerPolicy:"no-referrer"};if(e.useGET){var s=function(e,n){var t=[],r=function(e,n){t.push("".concat(e,"=").concat(encodeURIComponent(n)))};n.query&&r("query",Object(pe.print)(n.query));n.operationName&&r("operationName",n.operationName);n.variables&&r("variables",JSON.stringify(n.variables));n.extensions&&r("extensions",JSON.stringify(n.extensions));var i="",a=e,o=e.indexOf("#");-1!==o&&(i=e.substr(o),a=e.substr(0,o));var c=-1===a.indexOf("?")?"?":"&";return a+c+t.join("&")+i}(e.uri,n),u=ge(ge({},c),{},{method:"GET",headers:e.headers});return self.fetch(s,u).catch(De).then((function(e){return Le(e,t)})).then((function(n){return Me(s,"GET",n,e.headers,u.credentials)}))}var d={extensions:i,operationName:a,query:Object(pe.print)(n.query),variables:o},l=JSON.stringify(d),p=ge(ge({},e.headers),{},{"Content-Type":"application/json"}),f=ge(ge({},c),{},{method:"POST",headers:p,body:l});return self.fetch(e.uri,f).catch(De).then((function(e){return Le(e,t)})).then((function(n){return Me(e.uri,"POST",n,p,f.credentials,d)}))}function Me(e,n,t,r,i,a){return{request:{uri:e,cache:"no-cache",credentials:i,headers:r,method:n,referrerPolicy:"no-referrer",body:a},response:t}}function De(e){return e instanceof TypeError?Ae("Server Not Reachable",e.message):Ae("Server Not Reachable")}function Le(e,n){var t=!1;if(e instanceof Response&&n){var r=!!e.headers&&e.headers.get("Content-Type")||"";if(e.status<300&&r.indexOf("multipart/mixed")>=0)t=!0,function(e,n,t){var r=t.onComplete,i=t.onError,a=t.onNext,o=e.body.getReader(),c=new TextDecoder;o.read().then(function(){var t=we(l.a.mark((function t(u){var d,p,f,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=u.value,!u.done){t.next=5;break}r(),t.next=9;break;case 5:p="";try{p=c.decode(d),f=Re(p,n),a(f)}catch(l){m=Ve(e,l,p),i(m)}return t.next=9,o.read().then(s);case 9:case"end":return t.stop()}}),t)})));function s(e){return t.apply(this,arguments)}return s}())}(e,function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.split(";"),r=me(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=(i||"").trim().split("="),o=ve(a,2),c=o[0],s=o[1];if("boundary"===c&&s)return'"'===s[0]&&'"'===s[s.length-1]?s.substr(1,s.length-2):s}}catch(u){r.e(u)}finally{r.f()}return"-"}(r),n)}return{isMultipart:t,responseOrError:e}}function Re(e,n){for(var t=function(e){return"--".concat(e,"--\r\n")}(n),r=function(e){return"--".concat(e,"\r\n")}(n),i=ve(Ce(e.replace(t,""),r),2),a=ve(Ce(i[1],r),2),o=a[0],c=a[1],s=[];""!==o&&(s.push(_e(o)),c);){var u=ve(Ce(c,r),2);o=u[0],c=u[1]}return s}function _e(e){var n=ve(Ce(e,"\r\n\r\n"),2),t=n[0],r=n[1],i=t.split("\r\n"),a=function(e){var n=e.find((function(e){return e.toLowerCase().indexOf("content-type:")>=0}));if(void 0===n)throw new Error("Invalid MultiPart Response, no content-type header");var t=n.split(":");if(2!==t.length)throw new Error("Invalid MultiPart Response, could not parse content-type");return t[1].trim()}(i),o=function(e){var n=e.find((function(e){return e.toLowerCase().indexOf("content-length:")>=0}));if(void 0===n)throw new Error("Invalid MultiPart Response, no content-length header");var t=n.split(":");if(2!==t.length)throw new Error("Invalid MultiPart Response, could not parse content-length");var r=parseInt(t[1]);if(isNaN(r))throw new Error("Invalid MultiPart Response, could not parse content-length");return r}(i);if(-1===a.indexOf("application/json; charset=utf-8"))throw new Error("Invalid content type");if(o!==(r=r.replace("\r\n\r\n","")).length)throw new Error("Invalid content length");return JSON.parse(r)}function Ce(e,n){var t=e.indexOf(n);return t<0?[e]:[e.substring(0,t),e.substring(t+n.length)]}function qe(e){return e.text().then((function(n){try{var t=JSON.parse(n);return"object"===fe(t)&&(t.data||t.errors)?{data:t}:{error:function(e,n,t){var r=new Error(t);return r.name="ServerError",r.statusCode=e.status,r.statusText=e.statusText,r.bodyText=n,r}(e,n,"Response not successful: Received status code ".concat(e.status))}}catch(r){return{error:Ve(e,r,n)}}}))}function Ae(e,n){var t=new Error(e);return t.name="ServerNetworkError",t.statusText=n,t}function Ve(e,n,t){var r=n;return r.name="ServerParseError",r.statusCode=e.status,r.statusText=e.statusText,r.bodyText=t,r}function Ge(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"introspection_phase_2"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__schema"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mutationType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FullType"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"directives"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"args"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FullType"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__Type"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDeprecated"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"args"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDeprecated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deprecationReason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"inputFields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interfaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"enumValues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDeprecated"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDeprecated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deprecationReason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"possibleTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"InputValue"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__InputValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultValue"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TypeRef"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__Type"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1138,source:{body:"query introspection_phase_2 {\n  __schema {\n    queryType {\n      name\n    }\n    mutationType {\n      name\n    }\n    subscriptionType {\n      name\n    }\n    types {\n      ...FullType\n    }\n    directives {\n      name\n      description\n      args {\n        ...InputValue\n      }\n    }\n  }\n}\n\nfragment FullType on __Type {\n  kind\n  name\n  description\n  fields(includeDeprecated: true) {\n    name\n    description\n    args {\n      ...InputValue\n    }\n    type {\n      ...TypeRef\n    }\n    isDeprecated\n    deprecationReason\n  }\n  inputFields {\n    ...InputValue\n  }\n  interfaces {\n    ...TypeRef\n  }\n  enumValues(includeDeprecated: true) {\n    name\n    description\n    isDeprecated\n    deprecationReason\n  }\n  possibleTypes {\n    ...TypeRef\n  }\n}\n\nfragment InputValue on __InputValue {\n  name\n  description\n  type {\n    ...TypeRef\n  }\n  defaultValue\n}\n\nfragment TypeRef on __Type {\n  kind\n  name\n  ofType {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},t=n.definitions.find((function(e){return"OperationDefinition"===e.kind})).selectionSet.selections.find((function(e){return"Field"===e.kind}));return function(e,n){var t=[];e.selectionSet.selections.forEach((function(e){return t.push(e)})),n.isRepeatable&&t.push(Qe("isRepeatable"));n.locations?t.push(Qe("locations")):(t.push(Qe("onField")),t.push(Qe("onFragment")),t.push(Qe("onOperation")));e.selectionSet.selections=t}(t.selectionSet.selections.find((function(e){return"Field"===e.kind&&"directives"===e.name.value})),e),function(e,n){if(!n.subscription){var t=[];e.selectionSet.selections.forEach((function(e){"Field"===e.kind&&"subscriptionType"===e.name.value||t.push(e)})),e.selectionSet.selections=t}}(t,e),n}function Qe(e){return{kind:"Field",name:{kind:"Name",value:e},directives:[],arguments:[]}}function Je(e){var n=e.directive;return{isRepeatable:!!n.fields.find((function(e){return"isRepeatable"===e.name})),locations:!!n.fields.find((function(e){return"locations"===e.name})),subscription:!!e.schema.fields.find((function(e){return"subscriptionType"===e.name}))}}function $e(e,n,t,r,i){e.sendMessage(new c.Message({type:"new-history-item",payload:{documentId:n,operationFailed:t,operationName:i,operationType:r}}))}function Ue(e,n,t){e.sendMessage(new c.Message({type:"new-result",payload:{documentId:n,result:t}}))}function Be(e,n,t,r){e.sendMessage(new c.Message({type:"new-result-patch",payload:{documentId:n,resultId:t,patch:r}}))}function ze(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ke(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ze(Object(t),!0).forEach((function(n){He(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function He(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var We={};function Xe(){Hn("variables-cache-delete-item",(function(e){!function(e){We=Ke(Ke({},We),{},He({},e,void 0))}(e.payload.documentId)})),Hn("variables-cache-set-item",(function(e){var n=e.payload;!function(e,n){We=Ke(Ke({},We),{},He({},e,n))}(n.documentId,n.variables)}))}function Ye(e){return We[e]}function Ze(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return en(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return en(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function en(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function nn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nn(Object(t),!0).forEach((function(n){on(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function rn(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function an(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var cn=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),on(this,"runningOperations",{})}var n,t,i;return n=e,(t=[{key:"isExecuting",value:function(e){return!!this.runningOperations[e.session.documentId]}},{key:"cancel",value:function(e){var n=e.session.documentId,t=this.runningOperations[n];t&&(this.stop(e,n),le(e,t.operationName?"Cancelled ".concat(t.operationType,' operation "').concat(t.operationName,'".'):"Cancelled ".concat(t.operationType," operation.")))}},{key:"execute",value:function(e,n,t){var r=e.session;if(!this.runningOperations[r.documentId]&&r&&r.schemaEndpoint.length>0){var i=r.documentId,a=R(i)||{};this.executeCore(e,{documentId:i,httpOptions:{headers:a,uri:r.schemaEndpoint,useGET:"GET"===r.httpMethod,credentials:r.credentials},operationName:t},n)}}},{key:"executeCore",value:function(){var e,n=(e=l.a.mark((function e(n,t,i){var a,o,s,u,d,p,f,m,v,y,h,b,g,k,O,w,S,j=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.httpOptions,o=t.documentId,s=t.operationName,!(u=x(o))){e.next=22;break}return p=Object(r.e)(),f=Ye(o)||{},this.runningOperations=tn(tn({},this.runningOperations),{},on({},o,{operationName:s,operationType:i})),n.sendMessage(new c.Message({type:"operation-execution",payload:{documentId:o,isExecuting:!0,isSubscription:!1}})),le(n,s?"Starting ".concat(i,' operation "').concat(s,'".'):"Starting ".concat(i," operation."),void 0,o),m=Object(r.b)(),v="query"===i?"Query":"Mutation",y=s?'"'.concat(s,'" '):"",e.next=13,je(a,{operationName:s,query:u,variables:f},{onComplete:function(){le(n,"Patch completed.",void 0,o),j.stop(n,o)},onError:function(e){Be(n,o,m,{payload:e,success:!1,timestamp:Object(r.e)()}),de(n,"Patch failed.",e,o)},onNext:function(e){var t,i=Object(r.e)(),a=Ze(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,s=c.data,u=c.errors,d=c.extensions,l=c.hasNext,p=c.path;Be(n,o,m,{payload:{data:s,errors:u,extensions:d,hasNext:l,path:p},success:!0,timestamp:i})}}catch(f){a.e(f)}finally{a.f()}le(n,"Incoming patches.",e,o)}});case 13:h=e.sent,b=Object(r.e)(),g=h.response,k=g.parsedBody,O=g.error,w=!!O||!!(null===(d=k.errors)||void 0===d?void 0:d.length)||!1,$e(n,o,w,i,s),Ue(n,o,{id:m,payload:h,duration:Object(r.c)(p,b),operationName:s,operationType:i,success:!w,timestamp:p}),S="".concat(v," operation ").concat(y),w?de(n,"".concat(S," failed."),O||k.errors,o):le(n,"".concat(S," succeeded."),void 0,o),h.isMultipart||this.stop(n,o);case 22:case"end":return e.stop()}}),e,this)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){rn(a,r,i,o,c,"next",e)}function c(e){rn(a,r,i,o,c,"throw",e)}o(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}()},{key:"stop",value:function(e,n){this.runningOperations=tn(tn({},this.runningOperations),{},on({},n,void 0)),e.sendMessage(new c.Message({type:"operation-execution",payload:{documentId:n,isExecuting:!1,isSubscription:!1}}))}}])&&an(n.prototype,t),i&&an(n,i),e}(),sn=t(400);function un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function dn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?un(Object(t),!0).forEach((function(n){pn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ln(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var fn=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),pn(this,"runningSubscriptions",{})}var n,t,i;return n=e,i=[{key:"getSchemaEndpoint",value:function(e){return!e.subscriptionEndpoint&&e.schemaEndpoint?e.schemaEndpoint.replace(/^http/i,"ws"):e.subscriptionEndpoint||""}}],(t=[{key:"isExecuting",value:function(e){return!!this.runningSubscriptions[e.session.documentId]}},{key:"cancel",value:function(e){var n=e.session;if(n){var t=this.runningSubscriptions[n.documentId];if(t){var r=t.operationName,i=t.unsubscribe;le(e,r?'Cancelled subscription operation "'.concat(r,'".'):"Cancelled subscription operation.",void 0,n.documentId),i(),this.runningSubscriptions=dn(dn({},this.runningSubscriptions),{},pn({},n.documentId,void 0)),e.sendMessage(new c.Message({type:"operation-execution",payload:{documentId:n.documentId,isExecuting:!1,isSubscription:!0}}))}}}},{key:"execute",value:function(n,t,r){var i=n.session;if(i&&!this.runningSubscriptions[i.documentId]){var a=R(i.documentId)||{},o=e.getSchemaEndpoint(i);o.length&&this.executeCore(n,{documentId:i.documentId,httpOptions:{headers:a,uri:o,useGET:"GET"===i.httpMethod,credentials:i.credentials},operationName:r},t)}}},{key:"executeCore",value:function(e,n,t){var i=this,a=n.documentId,o=n.httpOptions,s=n.operationName,u=x(a);if(u){le(e,s?'Subscribing to subscription "'.concat(s,'".'):"Subscribing to subscription.",void 0,a);var d=Ye(a)||{},l=new sn.SubscriptionClient(o.uri,{lazy:!0});l.onConnected((function(){i.runningSubscriptions=dn(dn({},i.runningSubscriptions),{},pn({},a,p)),e.sendMessage(new c.Message({type:"operation-execution",payload:{documentId:a,isExecuting:!0,isSubscription:!0}})),$e(e,a,!1,t,s)})),l.onError((function(n){de(e,s?'Subscribing to subscription "'.concat(s,'" failed.'):"Subscribing to subscription failed.",n,a),$e(e,a,!0,t,s)}));var p=l.request({operationName:s,query:u,variables:d}).subscribe({next:function(n){var i=n&&n.errors&&n.errors.length>0||!1;i?de(e,"New subscription result arrived.",n.errors,a):le(e,"New subscription result arrived.",void 0,a),Ue(e,a,{id:Object(r.b)(),payload:{raw:n},duration:0,operationName:s,operationType:t,success:!i,timestamp:Object(r.e)()})},error:function(n){de(e,"A subscription result ended up in an error.",n,a),Ue(e,a,{id:Object(r.b)(),payload:{error:n},duration:0,operationName:s,operationType:t,success:!1,timestamp:Object(r.e)()})},complete:function(){le(e,s?'Unsubscribing from subscription "'.concat(s,'".'):"Unsubscribing from subscription.",void 0,a)}})}}}])&&ln(n.prototype,t),i&&ln(n,i),e}(),mn=new cn,vn=new fn,yn=new Map([["query",mn],["mutation",mn],["subscription",vn]]);function hn(){Hn("cancel-operation-execution",(function(e,n){!function(e){mn.isExecuting(e)&&mn.cancel(e),vn.isExecuting(e)&&vn.cancel(e)}(n)})),Hn("begin-operation-execution",(function(e,n){!function(e,n){if(!mn.isExecuting(e)&&!vn.isExecuting(e)){var t=x(e.session.documentId);if(t){var r=function(e,n){var t=e.definitions.map((function(e){return e})).filter((function(e){return!!e})),r=1===t.length?t[0]:t.find((function(e){return e.name&&e.name.value===n||!1}));return r?r.operation:"query"}(t,n),i=yn.get(r);i&&i.execute(e,r,n)}}}(n,e.payload.operationName)}))}var bn=t(22);function gn(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function kn(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){gn(a,r,i,o,c,"next",e)}function c(e){gn(a,r,i,o,c,"throw",e)}o(void 0)}))}}function On(){Hn("fetch-schema-field-type",function(){var e=kn(l.a.mark((function e(n,t){var r,i,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=n.type,e.next=3,Y(t);case 3:o=e.sent,s=void 0,o&&(s=wn(o.schema,i.typeName,i.fieldName)),t.sendMessage(new c.Message({id:r,type:a,payload:s}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Hn("fetch-schema-field-types",function(){var e=kn(l.a.mark((function e(n,t){var r,i,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=n.type,e.next=3,Y(t);case 3:o=e.sent,s=void 0,o&&(s=Sn(o.schema,i)),t.sendMessage(new c.Message({id:r,type:a,payload:s}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Hn("fetch-schema-type",function(){var e=kn(l.a.mark((function e(n,t){var r,i,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.payload,a=n.type,e.next=3,Y(t);case 3:o=e.sent,s=void 0,o&&(s=xn(o.schema,i)),t.sendMessage(new c.Message({id:r,type:a,payload:s}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Hn("fetch-schema-types",function(){var e=kn(l.a.mark((function e(n,t){var r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,i=n.type,e.next=3,Y(t);case 3:a=e.sent,o=void 0,a&&(o=jn(a.schema)),t.sendMessage(new c.Message({id:r,type:i,payload:o}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function wn(e,n,t){var r=e.getType(n);if(r)return function(e,n,t){if(n instanceof bn.b){var r=n.getFields()[t];if(r)return{id:"".concat(n.name,"-").concat(r.name),name:r.name,kind:"field",description:r.description||void 0,valueType:Pn(e,r.type),defaultValue:r.defaultValue}}else if(n instanceof bn.c||n instanceof bn.f){var i=n.getFields()[t];if(i){var a=0===i.args.length?void 0:i.args.map((function(t){var r=Pn(e,t.type);return{id:"".concat(n.name,"-").concat(i.name,"-").concat(t.name),name:t.name,kind:"argument",description:t.description||void 0,defaultValue:t.defaultValue||void 0,type:r}}));return{id:"".concat(n.name,"-").concat(i.name),name:i.name,kind:"field",description:i.description||void 0,arguments:a,valueType:Pn(e,i.type),isDeprecated:i.isDeprecated,deprecationReason:i.deprecationReason||void 0}}}return}(e,r,t)}function Sn(e,n){var t=e.getType(n);if(t)return function(e,n){var t=[];if(n instanceof bn.b){var r=n.getFields();for(var i in r){var a=r[i];t.push({id:"".concat(n.name,"-").concat(a.name),name:a.name,kind:"field",description:a.description||void 0,valueType:Pn(e,a.type),defaultValue:a.defaultValue})}}else if(n instanceof bn.c||n instanceof bn.f){var o=n.getFields(),c=function(r){var i=o[r],a=0===i.args.length?void 0:i.args.map((function(t){var r=Pn(e,t.type);return{id:"".concat(n.name,"-").concat(i.name,"-").concat(t.name),name:t.name,kind:"argument",description:t.description||void 0,defaultValue:t.defaultValue||void 0,type:r}}));t.push({id:"".concat(n.name,"-").concat(i.name),name:i.name,kind:"field",description:i.description||void 0,arguments:a,valueType:Pn(e,i.type),isDeprecated:i.isDeprecated,deprecationReason:i.deprecationReason||void 0})};for(var s in o)c(s)}return t}(e,t)}function jn(e){var n=[],t=e.getQueryType(),r=e.getMutationType(),i=e.getSubscriptionType();return t&&n.push(Tn(e,t)),r&&n.push(Tn(e,r)),i&&n.push(Tn(e,i)),0===n.length?void 0:n}function xn(e,n){var t=e.getType(n);if(t)return Tn(e,t)}function Nn(e){return e instanceof bn.a?"enum":e instanceof bn.b?"input-object":e instanceof bn.c?"interface":e instanceof bn.g?"scalar":e instanceof bn.h?"union":e instanceof bn.d||e instanceof bn.e?Nn(e.ofType):"object"}function Tn(e,n){var t,r,i;return n instanceof bn.a&&(t=n.getValues().map((function(e){return{id:"".concat(n.name,"-").concat(e.name),name:e.name,kind:"enum-value",description:e.description||void 0,value:e.value,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason||void 0}}))),n instanceof bn.c&&(i=e.getPossibleTypes(n).map((function(n){return Pn(e,n)}))),n instanceof bn.f&&(r=n.getInterfaces().map((function(e){return{id:e.name,name:e.name,kind:"type",description:e.description||void 0,typeKind:"interface"}}))),n instanceof bn.h&&(i=n.getTypes().map((function(n){return Pn(e,n)}))),{id:n.name,name:n.name,kind:"type",description:n.description||void 0,typeKind:Nn(n),enumValues:t,interfaces:r,types:i}}function Pn(e,n){var t,r=!1,i=!0;return n instanceof bn.e?(i=!1,n.ofType instanceof bn.d?(t=n.ofType.ofType,r=!0):t=n.ofType):n instanceof bn.d?(t=n.ofType,r=!0):t=n,{kind:"value-type",isList:r,isOptional:i,type:t instanceof bn.d||t instanceof bn.e?Pn(e,t):Tn(e,t)}}function En(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?En(Object(t),!0).forEach((function(n){In(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):En(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function In(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Mn(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function Dn(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){Mn(a,r,i,o,c,"next",e)}function c(e){Mn(a,r,i,o,c,"throw",e)}o(void 0)}))}}var Ln=new Map;function Rn(){Hn("cancel-schema-fetching",(function(e,n){!function(e){var n=Ln.get(e.id);(null===n||void 0===n?void 0:n.running)&&(n.backoff&&le(e,"Cancelled schema fetching.",void 0,n.currentId),n.timeout&&le(e,"Cancelled schema polling.",void 0,n.currentId),Un(e))}(n)})),Hn("fetch-schema",(function(e,n){!function(e){_n.apply(this,arguments)}(n)})),Hn("refetch-schema",(function(e,n){!function(e){if(!An(e.id).running){var n=e.session;if(n.schemaEndpoint.length>0&&!n.enableSchemaPolling){var t={headers:R(n.documentId)||{},uri:n.schemaEndpoint,useGETForQueries:"GET"===n.httpMethod,credentials:n.credentials};Qn(e.id,{running:!0}),le(e,"Reload schema."),Jn(e,t)}}}(n)}))}function _n(){return(_n=Dn(l.a.mark((function e(n){var t,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(An(n.id).running){e.next=14;break}if(!((t=n.session).schemaEndpoint.length>0)){e.next=13;break}return r=R(t.documentId)||{},i={headers:r,uri:t.schemaEndpoint,useGETForQueries:"GET"===t.httpMethod,credentials:t.credentials},e.next=8,Y(n);case 8:(a=e.sent)&&(se(n,{endpoint:t.schemaEndpoint,exists:!0,hash:a.hash,hasMutationType:!!a.schema.getMutationType(),hasSubscriptionType:!!a.schema.getSubscriptionType()}),le(n,"Fetched schema from cache.")),t.enableSchemaPolling?(Qn(n.id,{running:!0}),le(n,"Started schema polling."),$n(n,i,t.schemaPollingInterval||2e4)):a||(Qn(n.id,{running:!0}),le(n,"Started schema fetching."),Jn(n,i)),e.next=14;break;case 13:se(n,{endpoint:t.schemaEndpoint,exists:!1,hasMutationType:!1,hasSubscriptionType:!1});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,n,t,r){return qn.apply(this,arguments)}function qn(){return(qn=Dn(l.a.mark((function e(n,t,r,i){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentRequestId,e.next=3,Ee(i);case 3:if(o=e.sent,r!==a){e.next=14;break}if(!Vn(o)){e.next=11;break}return e.next=8,ee(n,o);case 8:le(n,"Fetched schema successfully."),e.next=14;break;case 11:return se(n,{endpoint:i.uri,exists:!1,hasMutationType:!1,hasSubscriptionType:!1}),de(n,"Fetching schema failed.",o),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){return Ln.get(e)||{fetching:!1,running:!1}}function Vn(e){return"__schema"in e}function Gn(e,n){e.sendMessage(new c.Message({type:"is-schema-fetching",payload:n}))}function Qn(e,n){var t=Fn(Fn({},An(e)),n);return Ln.set(e,t),t}function Jn(e,n){var t=e.id,i=e.session.documentId,a=Object(r.b)(),o=new y((function(r){var i=An(t);return r>0?le(e,"Retry schema fetching."):(i=Qn(t,{fetching:!0}),Gn(e,i.fetching)),Cn(e,i,a,n)}));Qn(t,{backoff:o,currentId:i,currentRequestId:a}),o.start((function(){var n=An(t);a===n.currentRequestId&&Un(e)}))}function $n(e,n,t){var i=Object(r.b)(),a=Qn(e.id,{currentId:e.session.documentId,currentRequestId:i,timeout:window.setTimeout((function(){$n(e,n,t)}),t)});Cn(e,a,i,n)}function Un(e){var n=An(e.id);n.backoff&&n.backoff.stop(),n.timeout&&window.clearTimeout(n.timeout),Gn(e,(n=Qn(e.id,{backoff:void 0,currentId:void 0,currentRequestId:void 0,fetching:!1,running:!1,timeout:void 0})).fetching)}var Bn=[],zn=[];function Kn(e){var n=new E(e);Bn.push(n),j(),L(),Xe(),oe(),On(),hn(),Rn(),e.onmessage=function(e){var t=e.data;!function(e,n){zn.filter((function(e){return e.type===n.type})).forEach((function(t){return(0,t.handle)(n,e)}))}(n,t)},e.start()}function Hn(e,n){zn.push({type:e,handle:n})}self.onconnect=function(e){return Kn(e.ports[0])}}},[[843,5,0,8]]]);