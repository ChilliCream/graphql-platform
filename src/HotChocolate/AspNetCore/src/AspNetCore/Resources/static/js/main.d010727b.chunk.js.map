{"version":3,"sources":["../../shared/dist/common/index.js","../../shared/dist/common/LogLevel.js","../../shared/dist/messaging/message.js","../../shared/dist/messaging/messages/index.js","../../shared/dist/messaging/index.js","../../shared/dist/utils/create-hash.js","../../shared/dist/utils/create-id.js","../../shared/dist/utils/is-operation-definition.js","../../shared/dist/utils/timestamp.js","../../schema/dist/schema-worker-client.js","webpack:///../schema/dist/schema.worker.js?198b","../../shared/dist/models/DocumentHeaderItemId.js","workers/schema.worker.ts","../../shared/dist/models/NavigationItemId.js","../../shared/dist/models/Tabs.js","state/db-wrapper.ts","state/utils/createDocumentId.ts","state/utils/createRequestHash.ts","state/utils/createNewRequest.ts","state/utils/createNewDocumentTab.ts","state/mutations/init.ts","state/utils/createWorkspaceId.ts","state/utils/createNewCollection.ts","state/utils/createCollectionId.ts","state/utils/nameComparer.ts","state/mutations/collection/createCollection.ts","utils/createLinkedList.ts","utils/debounce.ts","utils/getBottom.ts","utils/getLeft.ts","utils/getRight.ts","utils/getTop.ts","utils/renderMarkdown.ts","utils/graphql/prettifyGraphQL.ts","state/mutations/tab/closeTabBase.ts","state/mutations/collection/deleteCollection.ts","state/mutations/collection/renameCollection.ts","state/utils/getCollection.ts","state/mutations/tab/openDocumentTabBase.ts","state/mutations/document/createDocument.ts","state/utils/createNewDocument.ts","state/mutations/document/createDocumentByTab.ts","state/utils/flattenDocuments.ts","state/mutations/document/deleteDocument.ts","state/mutations/document/renameDocument.ts","state/mutations/history/clearHistory.ts","state/mutations/settings/changeDocumentHeaderCollapsed.ts","state/mutations/settings/changeFooterCollapsed.ts","state/mutations/settings/changeFooterHeight.ts","state/selectors/activeWorkspace.ts","state/selectors/activeTab.ts","state/selectors/activeFooterItemId.ts","state/mutations/settings/changeResultDetailWidth.ts","state/mutations/tab/closeTab.ts","state/mutations/tab/createAndOpenNewDocumentTab.ts","state/mutations/tab/openDocumentTab.ts","state/mutations/tab/openHistoryTab.ts","state/utils/createNewHistoryTab.ts","state/mutations/tab/openSchemaTab.ts","state/mutations/tab/openPreferencesTab.ts","state/mutations/tab/runSubscription.ts","services/console-log-service.ts","services/worker-context-proxy-service.ts","services/document-cache-proxy.ts","services/http-headers-cache-proxy.ts","services/language-service-proxy.ts","services/operation-executer-proxy.ts","services/result-cache.ts","services/schema-browser-proxy.ts","services/schema-fetcher-proxy.ts","services/variables-cache-proxy.ts","state/mutations/tab/saveTabCore.ts","state/mutations/tab/saveAndCloseTab.ts","state/mutations/tab/saveTab.ts","state/mutations/tab/stopSubscription.ts","state/mutations/tab/switchShowSubscriptionEndpoint.ts","state/mutations/tab/updateDocumentTab.ts","state/mutations/tab/updateSchemaTab.ts","state/mutations/tab/updateTabContent.ts","state/mutations/workspace/changeDocumentSearchTerm.ts","state/mutations/workspace/changeHistorySearchTerm.ts","state/mutations/workspace/changeSchemaSearchTerm.ts","state/Store.ts","state/mutations/history/addHistoryItem.ts","state/useInitialized.ts","state/useSelector.ts","state/selectors/activeDocumentHeaderItemId.ts","state/selectors/activeHttpHeaders.ts","state/selectors/activeHttpRequestCredentials.ts","state/selectors/activeNavigationItemId.ts","state/selectors/activeNodeId.ts","state/selectors/activeQueryResultTabId.ts","state/selectors/activeSchemaBreadCrumb.ts","state/selectors/activeSchemaEndpoint.ts","state/selectors/activeSubscriptionResultTabId.ts","state/selectors/activeTabId.ts","state/selectors/activeTabKind.ts","state/selectors/activeVariableSet.ts","state/selectors/allCollections.ts","state/selectors/allHistoryItems.ts","state/selectors/allTabs.ts","state/selectors/settings/footerCollapsed.ts","state/selectors/settings/footerHeight.ts","state/selectors/settings/documentHeaderCollapsed.ts","state/selectors/settings/documentHeaderHeight.ts","state/selectors/settings/resultDetailWidth.ts","state/selectors/settings/resultOrientation.ts","state/selectors/settings/resultSize.ts","state/selectors/settings/schemaInfoWidth.ts","state/selectors/settings/showTracingExtension.ts","state/selectors/settings/sideBarCollapsed.ts","state/selectors/settings/sideBarLocation.ts","state/selectors/settings/sideBarWidth.ts","state/selectors/settings/zoomFactor.ts","state/selectors/workspace/documentSearchTerm.ts","state/selectors/workspace/historySearchTerm.ts","state/selectors/workspace/schemaSearchTerm.ts","styled.ts","theming/defaultTheme.ts","components/GlobalStyle.tsx","components/shared/splitter/Splitter.tsx","components/shared/splitter/SplitterIds.ts","components/shared/splitter/HorizontalSplitter.tsx","components/shared/splitter/VerticalSplitter.tsx","components/shared/Content.tsx","components/shared/createVirtualScrolling.ts","components/shared/context-menu/Item.tsx","components/shared/context-menu/Menu.tsx","components/shared/context-menu/MenuIds.ts","components/shared/Footer.tsx","components/shared/FooterContent.tsx","components/shared/getVariables.ts","components/shared/Icon.ts","components/shared/Info.tsx","components/shared/operation-icons/OperationIconBase.tsx","components/shared/operation-icons/Mutation.tsx","components/shared/operation-icons/Query.tsx","components/shared/operation-icons/Subscription.tsx","components/shared/EditorContainer.tsx","../../shared/dist/language-service/Position.js","components/shared/query-editor/registerCompletionItemProvider.ts","components/shared/tryParseAndCacheDocument.ts","components/shared/tryParseAndCacheHttpHeaders.ts","components/shared/tryParseAndCacheVariables.ts","components/shared/tryExecuteOperation.ts","components/shared/query-editor/registerExecuteCodelensProvider.ts","components/shared/query-editor/registerHoverProvider.ts","components/shared/query-editor/useModel.ts","components/shared/query-editor/QueryEditor.tsx","components/shared/query-editor/useSchemaInfo.ts","components/shared/query-editor/useEditor.ts","components/shared/query-editor/registerDocumentFormattingEditProvider.ts","components/shared/registerEditorSchemas.ts","components/shared/result-editor/ResultEditor.tsx","components/shared/result-editor/useEditor.ts","components/shared/result-editor/useModel.ts","components/shared/useHeaderShadow.ts","components/shared/icons/IconContainer.tsx","components/shared/icons/ArrowLeftIcon.tsx","components/shared/icons/ArrowRightIcon.tsx","components/shared/icons/SchemaIcon.tsx","components/shared/icons/CalendarIcon.tsx","components/shared/icons/ChevronDownIcon.tsx","components/shared/icons/ChevronRightIcon.tsx","components/shared/icons/ChevronUpIcon.tsx","components/shared/icons/CircleSlashIcon.tsx","components/shared/icons/CloseIcon.tsx","components/shared/icons/CloudDownloadIcon.tsx","components/shared/icons/CodeIcon.tsx","components/shared/icons/CloudUploadIcon.tsx","components/shared/icons/ConsoleIcon.tsx","components/shared/icons/DashboardIcon.tsx","components/shared/icons/EnumIcon.tsx","components/shared/icons/EnumValueIcon.tsx","components/shared/icons/ErrorIcon.tsx","components/shared/icons/FieldIcon.tsx","components/shared/icons/FilesIcon.tsx","components/shared/icons/FlexIconContainer.tsx","components/shared/icons/HistoryIcon.tsx","components/shared/icons/InfoIcon.tsx","components/shared/icons/InputObjectIcon.tsx","components/shared/icons/InterfaceIcon.tsx","components/shared/icons/ListFlatIcon.tsx","components/shared/icons/ObjectIcon.tsx","components/shared/icons/PassIcon.tsx","components/shared/icons/ScalarIcon.tsx","components/shared/icons/UnionIcon.tsx","components/shared/icons/renderTypeIcon.tsx","components/shared/icons/ResultsIcon.tsx","components/shared/icons/SearchIcon.tsx","components/shared/icons/SettingsIcon.tsx","components/shared/icons/SplitHorizontalIcon.tsx","components/shared/icons/SplitVerticalIcon.tsx","components/shared/icons/WarningIcon.tsx","components/shared/icons/ZoomInIcon.tsx","components/shared/icons/ZoomOutIcon.tsx","components/side-bar/PanelElement.tsx","components/side-bar/SideBarHeader.tsx","components/side-bar/SideBarHeaderButton.tsx","components/side-bar/SideBarSearch.tsx","components/side-bar/SideBarTitle.tsx","components/side-bar/SideBarTitleIcon.tsx","components/shared/tree/NodeIcon.tsx","components/shared/tree/NodeIconContainer.tsx","components/shared/tree/utilities/createBatchObservable.ts","components/shared/tree/utilities/batchUpdate.ts","components/shared/tree/utilities/Path.ts","components/shared/tree/utilities/spliceTypedArray.ts","components/shared/tree/core/StructuralBase.ts","components/shared/tree/core/StructuralNode.ts","components/shared/tree/core/StructuralRoot.ts","components/shared/tree/utilities/TreeModelRegistry.ts","components/shared/tree/Tree.tsx","components/shared/tree/ExpandIcon.tsx","components/shared/tree/InputField.tsx","components/shared/tree/TreeNode.tsx","components/shared/tree/utilities/deselectCurrent.ts","components/shared/tree/abstractions/ValidationResult.ts","components/side-bar/document-panel/CollectionMenu.tsx","components/side-bar/document-panel/DocumentMenu.tsx","components/side-bar/document-panel/renderIcon.tsx","components/side-bar/document-panel/DocumentPanel.tsx","components/side-bar/document-panel/index.ts","components/side-bar/document-panel/createDataProvider.ts","state/mutations/collection/selectCollection.ts","components/side-bar/history-panel/renderIcon.tsx","components/side-bar/history-panel/HistoryPanel.tsx","components/side-bar/history-panel/useGroupedHistory.ts","components/side-bar/history-panel/createDataProvider.ts","components/side-bar/history-panel/index.ts","components/side-bar/schema-panel/createDataProvider.ts","components/side-bar/schema-panel/SchemaPanel.tsx","components/side-bar/schema-panel/index.ts","components/side-bar/index.ts","components/side-bar/SideBar.tsx","components/Spinner.tsx","components/stage/shared/content-tabs/Button.tsx","components/stage/shared/content-tabs/Tab.tsx","components/stage/shared/content-tabs/TabIcon.tsx","components/stage/shared/content-tabs/TabIconContainer.tsx","components/stage/shared/content-tabs/Tabs.tsx","components/stage/shared/ContentPanel.tsx","components/stage/shared/EmptyContent.tsx","components/stage/shared/FieldContainer.tsx","components/stage/shared/FooterContainer.tsx","components/stage/shared/Selection.tsx","components/stage/shared/HttpMethods.tsx","components/stage/shared/json-editor/JsonEditor.tsx","components/stage/shared/json-editor/useEditor.ts","components/stage/shared/json-editor/useModel.ts","components/stage/shared/Main.tsx","components/stage/shared/SchemaEndpointUrlField.tsx","components/stage/shared/Spinner.tsx","components/stage/shared/SpinnerContainer.tsx","components/stage/shared/Zoom.tsx","state/mutations/preferences/changeZoomFactor.ts","components/stage/shared/footer/Footer.tsx","state/mutations/settings/changeFooterItem.ts","state/mutations/preferences/changeResultOrientation.ts","components/stage/document-content/PanelElement.tsx","components/stage/shared/footer/console-panel/EntryDetails.tsx","components/stage/shared/footer/shared.tsx","components/stage/shared/footer/console-panel/LogEntry.tsx","components/stage/shared/footer/console-panel/Entries.tsx","components/stage/shared/footer/console-panel/ConsolePanel.tsx","components/stage/shared/footer/result-panel/QueryAndMutationErrorContent.tsx","components/stage/shared/contentList.tsx","components/stage/shared/footer/result-panel/QueryAndMutationGeneralContent.tsx","components/stage/shared/footer/result-panel/QueryAndMutationRequestContent.tsx","components/stage/shared/footer/result-panel/shared.tsx","components/stage/shared/footer/result-panel/QueryAndMutationDetails.tsx","components/stage/shared/footer/result-panel/SubscriptionErrorContent.tsx","components/stage/shared/footer/result-panel/SubscriptionDetails.tsx","components/stage/shared/footer/result-panel/ResultDetails.tsx","components/stage/shared/footer/result-panel/ResultEntry.tsx","components/stage/shared/footer/result-panel/Results.tsx","components/stage/shared/footer/result-panel/ResultPanel.tsx","components/stage/shared/footer/FooterContent.tsx","components/stage/document-content/header/Operations.tsx","components/stage/document-content/header/QueryHeader.tsx","state/mutations/tab/switchSchemaPolling.ts","components/stage/document-content/header/http-headers-panel/http-header-editor/HttpHeaderEditor.tsx","components/stage/document-content/header/http-headers-panel/http-header-editor/useEditor.ts","components/stage/document-content/header/http-headers-panel/http-header-editor/useModel.ts","components/stage/document-content/header/http-headers-panel/HttpHeadersPanel.tsx","components/stage/document-content/header/http-settings-panel/HttpSettingsPanel.tsx","components/stage/document-content/header/variables-panel/variable-editor/VariableEditor.tsx","components/stage/document-content/header/variables-panel/variable-editor/useEditor.ts","components/stage/document-content/header/variables-panel/variable-editor/useModel.ts","components/stage/document-content/header/variables-panel/VariablesPanel.tsx","components/stage/document-content/header/HeaderContentPanels.tsx","components/stage/document-content/header/HeaderContent.tsx","state/mutations/settings/changeDocumentHeaderItem.ts","components/stage/document-content/QueryAndResultPane.tsx","state/mutations/settings/changeResultSize.ts","components/stage/document-content/QueryHeaderAndContent.tsx","state/mutations/settings/changeDocumentHeaderHeight.ts","components/stage/document-content/DocumentContent.tsx","components/shared/dialog/Button.tsx","components/shared/dialog/Dialog.tsx","components/shared/dialog/DialogContentSubtitle.tsx","components/shared/dialog/DialogContentTitle.tsx","components/stage/shared/header/CreateDocumentDialog.tsx","components/stage/shared/header/SaveDocumentDialog.tsx","components/stage/shared/header/TabsMenu.tsx","components/stage/shared/header/Tab.tsx","components/stage/shared/header/Header.tsx","state/mutations/tab/activateTab.ts","components/stage/preferences-content/preferences-editor/PreferencesEditor.tsx","components/stage/preferences-content/preferences-editor/useEditor.ts","components/stage/preferences-content/preferences-editor/useModel.ts","components/stage/preferences-content/PreferencesContent.tsx","state/mutations/tab/updatePreferencesTab.ts","components/stage/schema-content/utils.ts","components/stage/schema-content/BreadCrumbNavigation.tsx","components/stage/schema-content/ColumnSearch.tsx","components/stage/schema-content/rendering.tsx","components/stage/schema-content/Column.tsx","components/stage/schema-content/Explorer.tsx","components/stage/schema-content/info/InfoArguments.tsx","components/stage/schema-content/info/InfoEnumValues.tsx","components/stage/schema-content/info/InfoFields.tsx","components/stage/schema-content/info/InfoTypes.tsx","components/stage/schema-content/info/Info.tsx","components/stage/schema-content/ExplorerAndInfo.tsx","state/mutations/settings/changeSchemaInfoWidth.ts","components/stage/schema-content/Header.tsx","components/stage/schema-content/SchemaContent.tsx","components/stage/StageContainer.tsx","components/stage/Stage.tsx","components/stage/index.ts","components/Main.tsx","state/mutations/settings/changeSideBarWidth.ts","state/mutations/settings/changeSideBarCollapsed.ts","components/Navigation.tsx","state/mutations/application/changeNavigationItem.ts","components/App.tsx","Root.tsx","serviceWorker.ts","index.tsx"],"names":["LogLevel","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Message","properties","instance","Constructor","TypeError","_classCallCheck","this","id","createId","type","createdAt","now","payload","createHash","stream","MD5","_len","arguments","length","content","Array","_key","forEach","c","update","digest","prefix","concat","nanoid","isOperationDefinition","node","kind","diff","start","end","Error","Date","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","source","getOwnPropertyDescriptors","defineProperties","clientHandlers","oneTimeClientHandlers","DocumentHeaderItemId","schemaWorkerClient","port","context","sendMessage","message","postMessage","client","sendAndReceiveMessage","subject","AsyncSubject","_ref2","next","complete","undefined","toPromise","registerReceiveMessageHandler","handle","handler","index","indexOf","splice","onmessage","_ref3","data","oneTimeHandler","_ref","handleClientMessage","createSchemaClient","SharedWorker","NavigationItemId","isDocumentTab","tab","isDocumentOrHistoryTab","isHistoryTab","isSchemaTab","isPreferencesTab","a","open","db","get","put","openDB","upgrade","database","createObjectStore","createDocumentId","createRequestHash","request","json","JSON","stringify","produce","draft","hash","createNewRequest","document","httpMethod","schemaEndpoint","variableSets","untitledIndex","createNewDocumentTab","name","new","init","selectedWorkspaceId","workspaces","collections","history","tabHistory","tabs","selectedTabId","createNewCollection","timestamp","expanded","nameComparer","b","nameA","toUpperCase","nameB","createCollection","workspace","find","w","toLowerCase","newCollection","sort","selectedNodeId","LinkedList","items","stack","pop","lastIndex","createLinkedList","debounce","execute","timeoutEndpointHandler","delay","input","window","clearTimeout","setTimeout","getBottom","initialElement","bottom","element","offsetParent","clientHeight","innerHeight","offsetTop","offsetHeight","getLeft","left","offsetLeft","getRight","right","clientWidth","innerWidth","offsetWidth","getTop","top","renderMarkdown","marked","setOptions","gfm","sanitize","prettifyGraphQL","query","options","prettier","format","parser","plugins","graphql","closeTabBase","remove","count","nextId","getFirst","newActiveTab","t","collection","documents","d","setFirst","toArray","deleteCollection","renameCollection","getCollection","path","openDocumentTabBase","preview","selectedTabIndex","findIndex","newTab","previewTab","createDocument","collectionId","documentName","n","newDocument","createNewDocument","createDocumentByTab","collectionName","closeTab","tabToModify","hasChanges","flattenDocuments","reduce","deleteDocument","renameDocument","clearHistory","changeDocumentHeaderCollapsed","collapsed","settings","documentHeaderCollapsed","changeFooterCollapsed","footerCollapsed","changeFooterHeight","height","footerHeight","activeWorkspace","state","activeTab","activeFooterItemId","selectedFooterItemId","changeResultDetailWidth","width","resultDetailWidth","createAndOpenNewDocumentTab","openDocumentTab","openHistoryTab","historyItem","h","operationName","createNewHistoryTab","openSchemaTab","typeOrField","transport","httpHeaders","credentials","breadCrumbs","infoPath","infoPosition","createNewSchemaTab","openPreferencesTab","tabId","preferences","createPreferencesTab","runSubscription","subscriptionRunning","BehaviorSubject","initialize","m","level","details","append","error","info","warning","entry","entries","selectNewest","hasNewEntries","selectedId","scrollPosition","pipe","map","cache","distinctUntilChanged","subscribe","entriesAndState","workerContextProxyService","sessionValue","documentId","modify","previousHash","existsSet","Set","operationsSubject","delete","session","has","add","headers","schemaInfoSubject","endpoint","exists","hasMutationType","hasSubscriptionType","cursor","asObservable","isExecutingSubject","isSubscriptionSubject","isExecuting","isSubscription","result","record","results","operationType","hasNewResults","resultsAndState","Map","schemaInfo","languageService","subscribeToSchemaInfoChange","clear","typeName","fieldName","cacheKey","field","set","fields","rootTypes","isFetchingSubject","variables","saveTabCore","application","parse","ajv","Ajv","validate","schema","errors","consoleLogService","tryUpdatePreferences","saveAndCloseTab","saveTab","stopSubscription","switchShowSubscriptionEndpoint","show","showSubscriptionEndpoint","updateDocumentTab","updateSchemaTab","updateTabContent","prevHash","changeDocumentSearchTerm","searchTerm","documentSearchTerm","changeHistorySearchTerm","historySearchTerm","changeSchemaSearchTerm","schemaSearchTerm","noop","initializedSubject","selectedNavigationItemId","QueryDocuments","selectedDocumentHeaderItemId","HttpHeaders","documentHeaderHeight","resultWidth","sideBarCollapsed","sideBarWidth","initializer","Observable","observer","getState","then","debounceTime","putState","persistenceReducer","observable","multicast","subscription","connect","operationFailed","dispatch","failed","unshift","originId","addHistoryItem","selector","action","prevState","newState","useInitialized","useState","initialized","updateInitialized","useEffect","store","unsubscribe","useSelector","current","selection","updateSelection","select","activeDocumentHeaderItemId","activeHttpHeaders","activeHttpRequestCredentials","activeNavigationItemId","activeNodeId","activeQueryResultTabId","activeSchemaBreadCrumb","activeSchemaEndpoint","activeSubscriptionResultTabId","activeTabId","activeTabKind","activeVariableSet","variableSet","selectedVariableSetId","allCollections","allHistoryItems","allTabs","resultOrientation","resultSize","resultHeight","schemaInfoWidth","showTracingExtension","sideBarLocation","zoomFactor","styledComponents","styled","default","createGlobalStyle","css","keyframes","ThemeProvider","withTheme","defaultTheme","headerBgColor","mainBgColor","mainBorder","createFieldBg","createFieldBorder","blue","cyan","green","orange","red","rose","yellow","resultBgColor","contentBorder","contentBorderLight","controlTextColor","controlTextActiveColor","textColor","dialogButtonBg","dialogButtonBgDisabled","dialogButtonBgHover","dialogButtonText","dialogButtonTextDisabled","dialogButtonTextHover","dialogContentBg","dialogContentText","dialogHeaderBg","dialogHeaderText","contextMenuBg","contextMenuBorder","contextMenuText","contextMenuItemBgActive","contextMenuItemTextActive","navBgColor","navBgColor2","navItemText","navItemActiveBgColor","sideBarBg","sideBarFooterBg","sideBarFooterBorder","sideBarHeaderBg","sideBarHeaderText","sideBarSearchBg","sideBarText","treeHoverBg","treeSelectedBg","tabsBg","tabsBg2","tabBgActive","tabText","tabTextActive","contentTabsBg","contentTabBgActive","contentTabText","contentTabTextActive","annotationToken","commentToken","delimiterToken","identifierToken","keywordToken","numberToken","operatorToken","stringToken","typeToken","GlobalStyle","props","theme","SplitterIds","Splitter","memo","initialSize","asideCollapsable","asideCollapsed","asideSize","dragHandle","useRef","dragHandleBackdrop","aside","persistedAsideSize","onAsideSizeChange","v","getAsideSize","asideElement","orientation","setAsideSize","size","dragHandleElement","style","flexBasis","mainPane","getDragHandleOffset","getContainerElement","parentElement","getContainerSize","containerElement","fireDomEvent","getBoundingClientRect","event","CustomEvent","detail","dimension","dispatchEvent","resizeHandler","containerSize","newSize","addEventListener","removeEventListener","Container","Pane","isMain","paneAContent","ref","showSeparator","Separator","DragHandle","onMouseDown","e","preventDefault","button","asideOffset","getAsideOffset","dragHandleBackdropElement","display","isValid","dragMoveHandler","clientY","clientX","onAsideCollapsedChange","dragStopHandler","paneBContent","createPortal","DragHandleBackdrop","getElementById","div","HorizontalSplitter","asideHeight","onAsideHeightChange","topContent","bottomContent","VerticalSplitter","asideWidth","onAsideWidthChange","leftContent","rightContent","Content","main","createVirtualScrolling","normalizeWheelDelta","deltaY","deltaX","scrollHandler","delta","scrollTop","scrollLeft","passive","Item","StyledItem","UnstyledItem","disabled","MenuIds","Menu","StyledMenu","UnstyledMenu","footer","getVariables","s","Icon","FontAwesomeIcon","color","OperationIconBase","Mutation","Query","Subscription","EditorContainer","_defineProperties","descriptor","Position","line","character","protoProps","staticProps","position","prototype","registerCompletionItemProvider","languages","provideCompletionItems","model","suggestions","getCompletionItems","getValue","lineNumber","column","rawSuggestions","label","documentation","insertText","tryParseAndCacheDocument","writeErrors","documentCache","tryParseAndCacheHttpHeaders","httpHeadersCache","tryParseAndCacheVariables","variablesCache","tryExecuteOperation","operationExecuter","registerExecuteCodelensProvider","editor","registerCodeLensProvider","provideCodeLenses","matches","findMatches","test","lenses","command","match","addCommand","title","range","dispose","registerHoverProvider","provideHover","contents","getHoverInformation","isArray","ms","getDiagnostics","markerData","Editor","setModelMarkers","QueryEditor","updateSchema","useSchemaInfo","config","contextmenu","minimap","enabled","showFoldingControls","fixedOverflowWidgets","fontSize","create","subscriptions","registerDocumentFormattingEditProvider","provideDocumentFormattingEdits","formattingOptions","getFullModelRange","printWidth","tabWidth","tabSize","useTabs","insertSpaces","text","setLayout","rect","getLayoutInfo","layout","onKeyUp","altKey","ctrlKey","metaKey","shiftKey","keyCode","KeyCode","KEY_8","trigger","useEditor","createModel","onContentChange","updateOptions","emitContentChange","setValue","onDidChangeContent","triggerValidation","useModel","registerEditorSchema","modelUri","schemas","diagnosticsOptions","jsonDefaults","uri","some","fileMatch","toString","setDiagnosticsOptions","ResultEditor","readOnly","onDidChangeModelContent","setScrollPosition","resultCache","subscribeToSelected","showTracing","response","parsedBody","raw","extensions","tracing","useHeaderShadow","header","contentElement","headerElement","boxShadow","children","defaultColor","calculatedSize","calculateSize","calculatedColor","viewBox","fill","xmlns","fillRule","clipRule","FlexIconContainer","renderTypeIcon","typeKind","PanelElement","SideBarHeader","location","SideBarHeaderButton","SideBarSearch","forwardRef","fieldRef","buttonRef","emitChange","onSearchTermChange","SearchField","placeholder","onChange","currentTarget","trim","ClearButton","onClick","IconContainer","SideBarTitle","h1","SideBarTitleIconContainer","NodeIcon","NodeIconContainer","BatchObservable","_disposed","_observers","_dispatch","batch","item","copy","batchUpdate","Path","pathes","separator","segments","split","segment","isRoot","relativePath","isRooted","slice","spliceTypedArray","deleteCount","itemsLength","output","Uint32Array","StructuralBase","_branchSize","_children","_fetchPromise","_id","_model","addCore","structureNodes","parent","expandable","metadata","createNode","by","decreaseUpperLevelBranchSize","disposeCore","increaseUpperLevelBranchSize","throwIfDisposed","Promise","resolve","done","provider","getNodes","appendChildren","unloadChildren","loadChildren","removeCore","decreaseBranchSize","branchSize","removeNode","comparer","defaultComparer","removeChildNodes","_index","StructuralNode","_depth","_editMode","_expandable","_expanded","_metadata","_name","_parent","_path","_selected","editMode","assignTo","increaseBranchSize","insertNode","endEditing","depth","combine","nodeConfig","removeFromSelected","previousIndex","newIndex","selected","beginEditing","resort","addToSelected","StructuralRoot","_editingNode","_filter","_flattendNodeOrder","_observable","_provider","_selectedNodes","discard","predicate","iterator","values","getById","offset","getStartOffset","throwIfPathIsNotRooted","getByPath","removeRange","reload","filteredBatch","includes","_map","Tree","nodeCache","itemHeight","onInitialized","onScroll","useReducer","reducer","handleScroll","useCallback","listProps","getNodeIdByIndex","getIdByIndex","getNodePropertiesByIndex","getByIndex","renderItem","areEqual","disposables","treeModelRegistry","register","forceUpdate","subscribeFor","getIndex","scrollToItem","scrollIntoView","unregister","tabIndex","itemSize","itemKey","itemCount","overscanCount","ExpandIcon","Empty","InputField","onError","onExit","inputRef","handleBlur","handleResult","handleClick","stopPropagation","handleKeyDown","succeeded","borderColor","errorMessage","focus","Input","onBlur","onDoubleClick","onKeyDown","nodeRefRegistry","TreeNode","nodeName","onContextMenu","renderIcon","renderName","updateEditMode","updateSelected","updateName","subscribeTo","batchOfInterest","nativeEvent","which","className","cn","active","newName","Title","DefaultTitle","prev","deselectCurrent","selectedNodes","ValidationResult","_succeeded","_errorMessage","_errorDetails","deleteHandler","renameHandler","triggerRename","CollectionMenu","Collection","Document","icon","faFolderOpen","faNewFolder","faFolder","faNewFile","faFile","DocumentPanel","filteredCollections","getSegments","fail","success","treeModel","handleContentMenu","contextMenu","showCollectionMenu","showDocumentMenu","toggleExpanded","handleDoubleClick","handleNewCollectionClick","triggerCreate","handleNewDocumentClick","handleSearchTermChange","setFilter","resetFilter","selectNode","ensureVisible","selectNodeById","nodeId","SideBarTitleIcon","faFolderPlus","activeNodeIdSubscription","closeTabAfterCreation","DocumentMenu","OperationTypeContainer","HistoryPanel","local","moment","day","time","group","g","indexA","indexB","groups","createDataProvider","ItemTitle","Time","h3","mapRootFields","rootFields","mapRootTypes","SchemaPanel","rootTypeMap","schemaBrowser","getRootTypes","getFields","substring","renderType","valueType","isList","isOptional","join","schemaInfoSubsription","modelReloadSubsription","SideBar","History","Schema","Spinner","Wrapper","Quater","rotation","Button","Tab","TabIconContainer","Tabs","ContentPanel","EmptyContent","FieldContainer","MenuActionType","FooterContainer","Selection","initialState","exitHandler","collapse","SelectionContainer","expand","Trigger","menuState","o","OptionElement","option","onSelectionChange","selectionChangeHandler","HttpMethods","selectedKey","JsonEditor","SchemaEndpointUrlField","SpinnerContainer","Zoom","factor","updateFactor","webFrame","electronWebFrame","updateZoomFactor","setZoomFactor","changeZoomFactor","zoomIn","currentFactor","getZoomFactor","zoomOut","Scale","toFixed","Footer","activeId","getClass","changeActiveItem","changeFooterItem","changeResultOrientation","EntryDetails","updateResult","StatusIcon","Took","LogEntry","logEntryHeight","Entries","listRef","enriesAndStateCache","setSelectedId","handleClickNewest","setSelectNewest","scrollOffset","scrollTo","itemData","NewEntries","ConsolePanel","handleResultDetailWidthChange","Results","QueryAndMutationErrorContent","List","ListTitle","h2","ListItems","ul","ListItem","li","ListItemName","ListItemNameIcon","ListItemNameTitle","ListItemDescription","QueryAndMutationGeneralContent","requestHeaders","requestHeaderKeys","responseHeaders","responseHeaderKeys","HttpMethod","method","statusCode","StatusCode","statusText","referrerPolicy","span","QueryAndMutationRequestContent","body","DetailsContainer","QueryAndMutationDetails","updateActiveId","handleTabClick","renderTabContent","Navigation","nav","SubscriptionErrorContent","SubscriptionDetails","ResultDetails","ResultEntry","resultEntryHeight","duration","Math","round","getDuration","resultsAndStateCache","NewResults","ResultPanel","FooterContent","Operations","operations","Text","QueryHeader","endpointRef","updateHttpMethod","updateOperationName","updateOperations","enableSchemaPolling","updateEnableSchemaPolling","executing","updateExecuting","loading","updateLoading","updateSchemaEndpoint","subscriptionEndpoint","updateSubscriptionEndpoint","updateShowSubscriptionEndpoint","schemaAvailable","updateSchemaAvailable","hasSubscriptions","updateHasSubscriptions","handleSubmit","selectedOperation","getOperationName","emitEndpointChange","schemaFetcher","cancel","fetch","subscribeOperations","endpointField","schemaPollingInterval","combineLatest","isFetching","isLoading","faExchangeAlt","defaultValue","showRequestConfig","faSlidersH","enable","faToggleOn","faToggleOff","refetch","faRedoAlt","faStop","faPlay","HttpHeaderEditor","registerEditorSchemas","HttpHeadersPanel","HttpSettingsPanel","credentialsChangeHandler","Form","InputGroup","InputGroupTitle","InputGroupContent","LabelAndInput","checked","Label","htmlFor","VariableEditor","VariablesPanel","HeaderContentPanels","itemId","HttpSettings","Variables","HeaderContent","isCollapsed","changeDocumentHeaderItem","Header","QueryAndResultPane","contentChangeHandler","DocumentContent","changeResultSize","QueryHeaderAndContent","cachedTab","headerCollapsed","headerHeight","handleAsideCollapsedChange","handleAsideHeightChange","changeDocumentHeaderHeight","DocumentHeader","Dialog","Modal","CloseButton","onClose","faTimes","Backdrop","DialogContentSubtitle","ActionType","DialogContentTitle","CreateDocumentDialog","saveDisabled","handleSave","folderPath","onSaved","onCancelled","Group","ChangeDocumentName","ChangeCollectionName","form","SaveDocumentDialog","onDidNotSave","closeHandler","TabsMenu","DialogActionType","openTabIfPreview","showTabsMenu","FlexIcon","iconDef","faCircle","tabsRef","showCreateDialog","showSaveDialog","createIcon","faFileDownload","faHistory","faBook","faCog","isNew","handleDialogDefault","close","handleSaveDialogSave","handleTabClose","showSaveDialogAndClose","handleDocumentClick","openIfInPreviewMode","activateTab","pkg","displayName","faPlus","faSave","PreferencesEditor","PreferencesContent","Preferences","fetchFieldOrType","getField","getType","fetchPane","fieldOrType","headerExpanded","filterPanes","panes","startIndex","getInnerType","innerType","isScalar","BreadCrumbNavigation","updatePanes","requestId","fetchData","currentRequestId","all","fetchedPanes","BreadCrumbs","pane","BreadCrumbItem","Link","Current","ColumnSearch","renderField","Field","Identifier","Bracket","argumentTypes","argument","Argument","Whitespace","Delimiter","Operator","Type","renderArguments","Keyword","renderTypeOrTypeLink","Number","String","Column","selectedFieldId","onNavigate","itemCache","updateExpanded","fetchItems","callback","searchTermLowerCase","toLocaleLowerCase","types","activeClass","FieldTitle","isDeprecated","HeaderTitle","argumentOrField","IconButton","Fields","Explorer","paneCache","selectedIdsCache","p","selectedIds","InfoArguments","args","renderArgument","description","dangerouslySetInnerHTML","__html","InfoEnumValues","enumValues","EnumValue","deprecationReason","InfoFields","InfoTypes","Info","tabInfoPath","tabInfoPosition","disposed","HistoryNavigation","HistoryNavigationButton","interfaces","GeneralInfo","Description","Returns","Subtitle","ExplorerAndInfo","handleAsideWidthChange","changeSchemaInfoWidth","handleOnNavigate","toType","reset","SchemaContent","StageContainer","Stage","Main","changeSideBarWidth","changeSideBarCollapsed","changeNavigationItem","App","defineTheme","base","inherit","rules","token","background","foreground","colors","hljsDefineGraphQL","hljs","Root","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","catch","console"],"mappings":"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","file":"static/js/main.d010727b.chunk.js","sourcesContent":["export * from \"./GraphQLRequestInfo\";\nexport * from \"./HttpHeaders\";\nexport * from \"./HttpMethod\";\nexport * from \"./HttpRequest\";\nexport * from \"./HttpRequestCredentials\";\nexport * from \"./HttpResponse\";\nexport * from \"./LogLevel\";\nexport * from \"./InputResult\";\nexport * from \"./Operation\";\nexport * from \"./QueryAndMutationResult\";\nexport * from \"./SchemaBrowserTypes\";\nexport * from \"./ServerError\";\nexport * from \"./SubscriptionResult\";","export var LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"error\"] = 0] = \"error\";\n  LogLevel[LogLevel[\"warning\"] = 1] = \"warning\";\n  LogLevel[LogLevel[\"info\"] = 2] = \"info\";\n})(LogLevel || (LogLevel = {}));","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createId, now } from \"../utils\";\nexport var Message = function Message(properties) {\n  _classCallCheck(this, Message);\n\n  _defineProperty(this, \"id\", void 0);\n\n  _defineProperty(this, \"type\", void 0);\n\n  _defineProperty(this, \"createdAt\", void 0);\n\n  _defineProperty(this, \"payload\", void 0);\n\n  this.id = properties.id || createId();\n  this.type = properties.type;\n  this.createdAt = properties.createdAt || now();\n  this.payload = properties.payload;\n};","export * from \"./AppendResultMessage\";\nexport * from \"./BeginExecutionMessage\";\nexport * from \"./CompletionItemRequest\";\nexport * from \"./DocumentUpdate\";\nexport * from \"./HistoryMessage\";\nexport * from \"./HoverInformationRequest\";\nexport * from \"./LogMessage\";\nexport * from \"./OperationExecutionMessage\";\nexport * from \"./SchemaFieldRequest\";\nexport * from \"./SchemaInfo\";\nexport * from \"./Session\";\nexport * from \"./VariablesCacheItemExists\";\nexport * from \"./VariablesCacheItemToDelete\";\nexport * from \"./VariablesCacheItemToSet\";","export { Message } from \"./message\";\nexport { MessageType } from \"./message-type\";\nexport * from \"./messages\";","import MD5 from \"md5.js\";\nexport function createHash() {\n  var stream = new MD5();\n\n  for (var _len = arguments.length, content = new Array(_len), _key = 0; _key < _len; _key++) {\n    content[_key] = arguments[_key];\n  }\n\n  content.forEach(function (c) {\n    return stream = stream.update(c);\n  });\n  return stream.digest(\"hex\");\n}","import { nanoid } from \"nanoid\";\nexport function createId(prefix) {\n  return prefix && prefix.length > 0 ? \"\".concat(prefix, \"|\").concat(nanoid()) : nanoid();\n}","export function isOperationDefinition(node) {\n  return node.kind === \"OperationDefinition\";\n}","export function diff(start, end) {\n  if (start > end) {\n    throw new Error(\"'start' must be smaller than 'end'.\");\n  }\n\n  return end - start;\n}\nexport function now() {\n  return Date.now();\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { AsyncSubject } from \"rxjs\";\nvar clientHandlers = [];\nvar oneTimeClientHandlers = {};\n\nfunction handleClientMessage(context, message) {\n  var oneTimeHandler = oneTimeClientHandlers[message.id];\n\n  if (oneTimeHandler) {\n    oneTimeHandler(message, context);\n    return;\n  }\n\n  clientHandlers.filter(function (handler) {\n    return handler.type === message.type;\n  }).forEach(function (_ref) {\n    var handle = _ref.handle;\n    return handle(message, context);\n  });\n}\n\nexport function createSchemaClient(port) {\n  var context = {\n    sendMessage: function sendMessage(message) {\n      return port.postMessage(message);\n    }\n  };\n\n  var client = _objectSpread(_objectSpread({}, context), {}, {\n    sendAndReceiveMessage: function sendAndReceiveMessage(message) {\n      var subject = new AsyncSubject();\n\n      oneTimeClientHandlers[message.id] = function (_ref2) {\n        var id = _ref2.id,\n            payload = _ref2.payload;\n        subject.next(payload);\n        subject.complete();\n        oneTimeClientHandlers[id] = undefined;\n      };\n\n      port.postMessage(message);\n      return subject.toPromise();\n    },\n    registerReceiveMessageHandler: function registerReceiveMessageHandler(type, handle) {\n      var handler = {\n        type: type,\n        handle: handle\n      };\n      clientHandlers.push(handler);\n      return function () {\n        var index = clientHandlers.indexOf(handler);\n        clientHandlers.splice(index, 1);\n      };\n    }\n  });\n\n  port.onmessage = function (_ref3) {\n    var data = _ref3.data;\n    handleClientMessage(context, data);\n  };\n\n  port.start();\n  return client;\n}","export default function() {\n  return new SharedWorker(__webpack_public_path__ + \"schema.worker.js\");\n}\n","var DocumentHeaderItemId;\n\n(function (DocumentHeaderItemId) {\n  DocumentHeaderItemId[DocumentHeaderItemId[\"HttpHeaders\"] = 0] = \"HttpHeaders\";\n  DocumentHeaderItemId[DocumentHeaderItemId[\"HttpSettings\"] = 2] = \"HttpSettings\";\n  DocumentHeaderItemId[DocumentHeaderItemId[\"Variables\"] = 1] = \"Variables\";\n})(DocumentHeaderItemId || (DocumentHeaderItemId = {}));\n\nexport default DocumentHeaderItemId;","/* eslint-disable import/no-webpack-loader-syntax */\nimport { createSchemaClient } from \"@bcp/schema/schema-worker-client\";\nimport SchemaWorker from \"worker-loader?worker=SharedWorker&filename=schema.worker.js!@bcp/schema/schema.worker\";\n\nexport const schemaWorkerClient = createSchemaClient(new SchemaWorker().port);\n","var NavigationItemId;\n\n(function (NavigationItemId) {\n  NavigationItemId[NavigationItemId[\"QueryDocuments\"] = 0] = \"QueryDocuments\";\n  NavigationItemId[NavigationItemId[\"History\"] = 1] = \"History\";\n  NavigationItemId[NavigationItemId[\"Schema\"] = 2] = \"Schema\";\n})(NavigationItemId || (NavigationItemId = {}));\n\nexport default NavigationItemId;","export function isDocumentTab(tab) {\n  return tab.kind === \"document\";\n}\nexport function isDocumentOrHistoryTab(tab) {\n  return tab.kind === \"document\" || tab.kind === \"history\";\n}\nexport function isHistoryTab(tab) {\n  return tab.kind === \"history\";\n}\nexport function isSchemaTab(tab) {\n  return tab.kind === \"schema\";\n}\nexport function isPreferencesTab(tab) {\n  return tab.kind === \"preferences\";\n}","import Application from \"@bcp/shared/models/Application\";\nimport { DBSchema, IDBPDatabase, openDB } from \"idb\";\n\nexport async function getState(): Promise<Application | undefined> {\n  const db = await open();\n\n  return await db.get(\"state\", \"state\");\n}\n\nexport async function putState(value: Application): Promise<void> {\n  const db = await open();\n\n  await db.put(\"state\", value, \"state\");\n}\n\nfunction open(): Promise<IDBPDatabase<Schema>> {\n  return openDB<Schema>(\"bcp-main\", 1, {\n    upgrade(database) {\n      database.createObjectStore(\"state\");\n    },\n  });\n}\n\ninterface Schema extends DBSchema {\n  state: {\n    key: string;\n    value: Application;\n  };\n}\n","import { createId } from \"@bcp/shared/utils\";\n\nexport default function createDocumentId() {\n  return createId(\"doc\");\n}\n","import produce from \"immer\";\nimport { createHash } from \"@bcp/shared/utils\";\nimport DocumentRequest from \"@bcp/shared/models/DocumentRequest\";\n\nexport default function createRequestHash(request: DocumentRequest) {\n  const json = JSON.stringify(\n    produce(request, (draft) => {\n      delete draft.hash;\n    })\n  );\n\n  return createHash(json);\n}\n","import DocumentRequest from \"@bcp/shared/models/DocumentRequest\";\nimport createRequestHash from \"./createRequestHash\";\n\nexport default function createNewRequest() {\n  const request: DocumentRequest = {\n    document: \"\",\n    httpMethod: \"POST\",\n    schemaEndpoint: \"\",\n    variableSets: [],\n  };\n\n  return {\n    ...request,\n    hash: createRequestHash(request),\n  };\n}\n","import DocumentNode from \"@bcp/shared/models/DocumentNode\";\nimport { DocumentTab } from \"@bcp/shared/models/Tabs\";\nimport createDocumentId from \"./createDocumentId\";\nimport createNewRequest from \"./createNewRequest\";\n\nlet untitledIndex = 1;\n\nexport default function createNewDocumentTab(\n  document?: DocumentNode\n): DocumentTab {\n  if (document) {\n    const { id, name, request } = document;\n\n    return {\n      id,\n      name,\n      kind: \"document\",\n      draft: request,\n    };\n  } else {\n    const id = createDocumentId();\n    const name = \"Untitled \" + untitledIndex++;\n\n    return {\n      id,\n      name,\n      kind: \"document\",\n      draft: createNewRequest(),\n      new: true,\n    };\n  }\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport createNewDocumentTab from \"@bcp/main/state/utils/createNewDocumentTab\";\nimport createWorkspaceId from \"@bcp/main/state/utils/createWorkspaceId\";\n\nexport default function init(draft: Application) {\n  const tab = createNewDocumentTab();\n  const id = createWorkspaceId();\n\n  draft.selectedWorkspaceId = id;\n  draft.workspaces = [\n    {\n      id,\n      name: \"Default\",\n      collections: [],\n      history: [],\n      tabHistory: [tab.id],\n      tabs: [tab],\n      selectedTabId: tab.id,\n    },\n  ];\n}\n","import { createId } from \"@bcp/shared/utils\";\n\nexport default function createWorkspaceId() {\n  return createId(\"work\");\n}\n","import { now } from \"@bcp/shared/utils\";\nimport CollectionNode from \"@bcp/shared/models/CollectionNode\";\nimport createCollectionId from \"./createCollectionId\";\n\nexport default function createNewCollection(name: string): CollectionNode {\n  return {\n    id: createCollectionId(),\n    name,\n    timestamp: now(),\n    expanded: true,\n  };\n}\n","import { createId } from \"@bcp/shared/utils\";\n\nexport default function createCollectionId() {\n  return createId(\"coll\");\n}\n","import NamedUniqueEntity from \"@bcp/shared/models/NamedUniqueEntity\";\n\nexport default function nameComparer(\n  a: NamedUniqueEntity,\n  b: NamedUniqueEntity\n): number {\n  const nameA = a.name.toUpperCase();\n  const nameB = b.name.toUpperCase();\n\n  if (nameA < nameB) {\n    return -1;\n  }\n\n  if (nameA > nameB) {\n    return 1;\n  }\n\n  return 0;\n}\n","import createNewCollection from \"@bcp/main/state/utils/createNewCollection\";\nimport nameComparer from \"@bcp/main/state/utils/nameComparer\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function createCollection(name: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const collection = workspace.collections.find(\n      (c) => c.name.toLowerCase() === name.toLowerCase()\n    );\n\n    if (!collection) {\n      const newCollection = createNewCollection(name);\n\n      workspace.collections.push(newCollection);\n      workspace.collections.sort(nameComparer);\n      workspace.selectedNodeId = newCollection.id;\n    }\n  };\n}\n","class LinkedList<T> {\n  private readonly stack: T[];\n\n  constructor(items?: T[]) {\n    this.stack = items ? [...items] : [];\n  }\n\n  append(value: T): LinkedList<T> {\n    if (this.stack.indexOf(value) === -1) {\n      this.stack.push(value);\n    }\n\n    return this;\n  }\n\n  find(value: T) {\n    const index = this.stack.indexOf(value);\n\n    if (index !== -1) {\n      return this.stack[index];\n    }\n\n    return undefined;\n  }\n\n  getFirst(): T | undefined {\n    return this.stack[0];\n  }\n\n  setFirst(value: T): LinkedList<T> {\n    const index = this.stack.indexOf(value);\n\n    if (index !== 0 && value) {\n      if (index === -1) {\n        this.stack.splice(0, 0, value);\n      } else {\n        this.stack.splice(0, 0, this.stack.splice(index, 1).pop()!);\n      }\n    }\n\n    return this;\n  }\n\n  getLast(): T | undefined {\n    return this.stack.length > 0\n      ? this.stack[this.stack.length - 1]\n      : undefined;\n  }\n\n  setLast(value: T): LinkedList<T> {\n    const index = this.stack.indexOf(value);\n    const lastIndex = this.stack.length - 1;\n\n    if ((index === -1 || index !== lastIndex) && value) {\n      if (index === -1) {\n        this.stack.push(value);\n      } else {\n        this.stack.push(this.stack.splice(index, 1).pop()!);\n      }\n    }\n\n    return this;\n  }\n\n  count() {\n    return this.stack.length;\n  }\n\n  remove(value: T): LinkedList<T> {\n    const index = this.stack.indexOf(value);\n\n    if (index !== -1) {\n      this.stack.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  toArray(): T[] {\n    return ([] as T[]).concat(this.stack);\n  }\n}\n\nexport default function createLinkedList<T>(items?: T[]) {\n  return new LinkedList<T>(items);\n}\n","export default function debounce<T>(\n  execute: (input: T) => void,\n  delay: number = 250\n) {\n  let timeoutEndpointHandler: number | undefined;\n\n  return (input: T) => {\n    window.clearTimeout(timeoutEndpointHandler);\n    timeoutEndpointHandler = window.setTimeout(() => execute(input), delay);\n  };\n}\n","function getBottom(initialElement: HTMLElement): number {\n  let bottom = 0;\n  let element: HTMLElement = initialElement;\n\n  while (element && element.offsetParent) {\n    bottom +=\n      ((element.offsetParent && element.offsetParent.clientHeight) ||\n        window.innerHeight) -\n      (element.offsetTop + element.offsetHeight);\n    element = element.offsetParent as HTMLElement;\n  }\n\n  return bottom;\n}\n\nexport default getBottom;\n","function getLeft(initialElement: HTMLElement): number {\n  let left = 0;\n  let element: HTMLElement = initialElement;\n\n  while (element && element.offsetParent) {\n    left += element.offsetLeft;\n    element = element.offsetParent as HTMLElement;\n  }\n\n  return left;\n}\n\nexport default getLeft;\n","function getRight(initialElement: HTMLElement): number {\n  let right = 0;\n  let element: HTMLElement = initialElement;\n\n  while (element && element.offsetParent) {\n    right +=\n      ((element.offsetParent && element.offsetParent.clientWidth) ||\n        window.innerWidth) -\n      (element.offsetLeft + element.offsetWidth);\n    element = element.offsetParent as HTMLElement;\n  }\n\n  return right;\n}\n\nexport default getRight;\n","function getTop(initialElement: HTMLElement): number {\n  let top = 0;\n  let element: HTMLElement = initialElement;\n\n  while (element && element.offsetParent) {\n    top += element.offsetTop;\n    element = element.offsetParent as HTMLElement;\n  }\n\n  return top;\n}\n\nexport default getTop;\n","import marked from \"marked\";\n\nmarked.setOptions({\n  gfm: false,\n  sanitize: true\n});\n\nexport default function renderMarkdown(input: string) {\n  return marked(input);\n}\n","import prettier from \"prettier/standalone\";\nimport graphql from \"prettier/parser-graphql\";\n\ninterface PrettierOptions {\n  printWidth: number;\n  tabWidth: number;\n  useTabs: boolean;\n}\n\nexport default function prettifyGraphQL(\n  query: string,\n  options: PrettierOptions\n) {\n  return prettier.format(query, {\n    ...options,\n    parser: \"graphql\",\n    plugins: [graphql]\n  });\n}\n","import { createLinkedList } from \"@bcp/main/utils\";\nimport {\n  isDocumentTab,\n  isHistoryTab,\n  isSchemaTab,\n  TabBase,\n} from \"@bcp/shared/models/Tabs\";\nimport Workspace from \"@bcp/shared/models/Workspace\";\nimport createNewDocumentTab from \"@bcp/main/state/utils/createNewDocumentTab\";\n\nexport default function closeTabBase(workspace: Workspace, tab: TabBase) {\n  const tabHistory = createLinkedList(workspace.tabHistory).remove(tab.id);\n  const tabs = workspace.tabs;\n\n  tabs.splice(tabs.indexOf(tab), 1);\n\n  if (tabHistory.count() > 0) {\n    if (tab.id === workspace.selectedTabId) {\n      const nextId = tabHistory.getFirst();\n      const newActiveTab = tabs.find((t) => t.id === nextId)!;\n\n      workspace.selectedTabId = newActiveTab.id;\n\n      if (isDocumentTab(newActiveTab)) {\n        const collection = workspace.collections.find(\n          (c) =>\n            (c.documents &&\n              c.documents.find((d) => d.id === newActiveTab.id) !==\n                undefined) ||\n            false\n        );\n\n        if (collection) {\n          workspace.selectedNodeId = newActiveTab.id;\n          collection.expanded = true;\n        } else {\n          delete workspace.selectedNodeId;\n        }\n      } else if (isHistoryTab(newActiveTab)) {\n        // todo: expand group\n        workspace.selectedNodeId = newActiveTab.id;\n      } else if (isSchemaTab(newActiveTab)) {\n        // todo: expand type\n        workspace.selectedNodeId = newActiveTab.id;\n      } else {\n        delete workspace.selectedNodeId;\n      }\n    }\n  } else {\n    const newActiveTab = createNewDocumentTab();\n\n    tabs.push(newActiveTab);\n    tabHistory.setFirst(newActiveTab!.id);\n    workspace.selectedTabId = newActiveTab!.id;\n    delete workspace.selectedNodeId;\n  }\n\n  workspace.tabHistory = tabHistory.toArray();\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport closeTabBase from \"../tab/closeTabBase\";\n\nexport default function deleteCollection(id: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const collection = workspace.collections.find((c) => c.id === id);\n\n    if (collection) {\n      workspace.collections.splice(\n        workspace.collections.indexOf(collection),\n        1\n      );\n\n      if (collection.documents) {\n        for (let document of collection.documents) {\n          const tab = workspace.tabs.find((t) => t.id === document.id);\n\n          if (tab) {\n            closeTabBase(workspace, tab);\n          }\n        }\n      }\n\n      if (collection.id === workspace.selectedNodeId) {\n        delete workspace.selectedNodeId;\n      }\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function renameCollection(id: string, name: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const collection = workspace.collections.find((c) => c.id === id);\n\n    if (collection) {\n      collection.name = name;\n    }\n  };\n}\n","import CollectionNode from \"@bcp/shared/models/CollectionNode\";\n\nexport default function getCollection(\n  collections: CollectionNode[],\n  path: string[]\n): CollectionNode | undefined {\n  return (\n    (path.length > 0 && collections.find((c) => c.id === path[0])) || undefined\n  );\n}\n","import createNewDocumentTab from \"@bcp/main/state/utils/createNewDocumentTab\";\nimport getCollection from \"@bcp/main/state/utils/getCollection\";\nimport { createLinkedList } from \"@bcp/main/utils\";\nimport DocumentNode from \"@bcp/shared/models/DocumentNode\";\nimport Workspace from \"@bcp/shared/models/Workspace\";\n\nexport default function openDocumentTabBase(\n  workspace: Workspace,\n  document: DocumentNode,\n  preview?: boolean\n) {\n  const tab = workspace.tabs.find((t) => t.id === document.id);\n  const selectedTabIndex =\n    (workspace.selectedTabId &&\n      workspace.tabs.findIndex((t) => t.id === workspace.selectedTabId)) ||\n    -1;\n  const tabHistory = createLinkedList(workspace.tabHistory).setFirst(\n    document.id\n  );\n\n  workspace.selectedTabId = document.id;\n\n  if (tab) {\n    if (!preview) {\n      delete tab.preview;\n    }\n  } else {\n    const newTab = createNewDocumentTab(document);\n\n    if (preview) {\n      const previewTab = workspace.tabs.find((t) => t.preview === true);\n\n      if (previewTab) {\n        tabHistory.remove(previewTab.id);\n        workspace.tabs.splice(workspace.tabs.indexOf(previewTab), 1, newTab);\n      } else {\n        if (selectedTabIndex !== -1) {\n          workspace.tabs.splice(selectedTabIndex + 1, 0, newTab);\n        } else {\n          workspace.tabs.push(newTab);\n        }\n      }\n\n      newTab.preview = true;\n    } else {\n      if (selectedTabIndex !== -1) {\n        workspace.tabs.splice(selectedTabIndex + 1, 0, newTab);\n      } else {\n        workspace.tabs.push(newTab);\n      }\n    }\n  }\n\n  // select document and expand its colletion\n  const collection = getCollection(workspace.collections, document.path)!;\n\n  collection.expanded = true;\n  workspace.selectedNodeId = document.id;\n  workspace.tabHistory = tabHistory.toArray();\n}\n","import openDocumentTabBase from \"@bcp/main/state/mutations/tab/openDocumentTabBase\";\nimport createNewDocument from \"@bcp/main/state/utils/createNewDocument\";\nimport nameComparer from \"@bcp/main/state/utils/nameComparer\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function createDocument(\n  collectionId: string,\n  documentName: string\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const collection = workspace.collections.find((n) => n.id === collectionId);\n\n    if (collection) {\n      collection.documents = collection.documents || [];\n\n      const document = collection.documents.find(\n        (d) => d.name.toLowerCase() === documentName.toLowerCase()\n      );\n\n      if (!document) {\n        const newDocument = createNewDocument(documentName, collection.id);\n\n        collection.documents.push(newDocument);\n        collection.documents.sort(nameComparer);\n        workspace.selectedNodeId = newDocument.id;\n        openDocumentTabBase(workspace, newDocument, true);\n      }\n    }\n  };\n}\n","import { now } from \"@bcp/shared/utils\";\nimport DocumentNode from \"@bcp/shared/models/DocumentNode\";\nimport createDocumentId from \"./createDocumentId\";\nimport createNewRequest from \"./createNewRequest\";\n\nexport default function createNewDocument(\n  name: string,\n  collectionId: string\n): DocumentNode {\n  const id = createDocumentId();\n\n  return {\n    id,\n    name,\n    request: createNewRequest(),\n    timestamp: now(),\n    path: [collectionId, id],\n  };\n}\n","import { createLinkedList } from \"@bcp/main/utils\";\nimport closeTabBase from \"@bcp/main/state/mutations/tab/closeTabBase\";\nimport createNewCollection from \"@bcp/main/state/utils/createNewCollection\";\nimport nameComparer from \"@bcp/main/state/utils/nameComparer\";\nimport createDocumentId from \"@bcp/main/state/utils/createDocumentId\";\nimport Application from \"@bcp/shared/models/Application\";\nimport DocumentNode from \"@bcp/shared/models/DocumentNode\";\nimport { DocumentTab, isHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport { now } from \"@bcp/shared/utils\";\n\nexport default function createDocumentByTab(\n  collectionName: string,\n  tab: DocumentTab,\n  closeTab: boolean\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    let collection = workspace.collections.find(\n      (n) => n.name.toLowerCase() === collectionName.toLowerCase()\n    );\n\n    if (!collection) {\n      collection = createNewCollection(collectionName);\n      workspace.collections.push(collection);\n      workspace.collections.sort(nameComparer);\n    }\n\n    collection.documents = collection.documents || [];\n\n    const document = collection.documents.find(\n      (d) => d.id === tab.id || d.name.toLowerCase() === tab.name.toLowerCase()\n    );\n\n    if (!document) {\n      // don't reuse tab.id for history here, because this would cause trouble\n      const id = isHistoryTab(tab)\n        ? createDocumentId()\n        : (tab as DocumentTab).id;\n      const newDocument: DocumentNode = {\n        id,\n        name: tab.name,\n        request: tab.draft,\n        timestamp: now(),\n        path: [collection.id, id],\n      };\n      const tabToModify = workspace.tabs.find(\n        (t) => t.id === tab.id\n      ) as DocumentTab;\n\n      collection.documents.push(newDocument);\n      collection.documents.sort(nameComparer);\n\n      if (closeTab) {\n        closeTabBase(workspace, tabToModify);\n      } else {\n        tabToModify.id = id;\n        tabToModify.name = tab.name;\n        tabToModify.kind = \"document\";\n        delete tabToModify.new;\n        delete tabToModify.hasChanges;\n\n        collection.expanded = true;\n        workspace.tabHistory = createLinkedList(workspace.tabHistory)\n          .remove(tab.id)\n          .setFirst(id)\n          .toArray();\n        workspace.selectedTabId = id;\n        workspace.selectedNodeId = id;\n      }\n    }\n  };\n}\n","import CollectionNode from \"@bcp/shared/models/CollectionNode\";\nimport DocumentNode from \"@bcp/shared/models/DocumentNode\";\n\nexport default function flattenDocuments(\n  collections: CollectionNode[]\n): DocumentNode[] {\n  return collections.reduce<DocumentNode[]>(\n    (d, c) => d.concat(c.documents || []),\n    []\n  );\n}\n","import closeTabBase from \"@bcp/main/state/mutations/tab/closeTabBase\";\nimport getCollection from \"@bcp/main/state/utils/getCollection\";\nimport flattenDocuments from \"@bcp/main/state/utils/flattenDocuments\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function deleteDocument(id: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const document = flattenDocuments(workspace.collections).find(\n      (d) => d.id === id\n    );\n\n    if (document) {\n      const collection = getCollection(workspace.collections, document.path)!;\n\n      collection.documents!.splice(collection.documents!.indexOf(document), 1);\n\n      const tab = workspace.tabs.find((t) => t.id === id);\n\n      if (tab) {\n        closeTabBase(workspace, tab);\n      }\n    }\n  };\n}\n","import flattenDocuments from \"@bcp/main/state/utils/flattenDocuments\";\nimport nameComparer from \"@bcp/main/state/utils/nameComparer\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function renameDocument(id: string, name: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const document = flattenDocuments(workspace.collections).find(\n      (d) => d.id === id\n    );\n\n    if (document) {\n      document.name = name;\n      workspace.collections\n        .find(\n          (c) => (c.documents && c.documents.indexOf(document) !== -1) || false\n        )!\n        .documents!.sort(nameComparer);\n\n      const tab = workspace.tabs.find((t) => t.id === id);\n\n      if (tab) {\n        tab.name = name;\n      }\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function clearHistory(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  workspace.history = [];\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeDocumentHeaderCollapsed(collapsed: boolean) {\n  return (draft: Application) => {\n    draft.settings.documentHeaderCollapsed = collapsed;\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeFooterCollapsed(collapsed: boolean) {\n  return (draft: Application) => {\n    draft.settings.footerCollapsed = collapsed;\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeFooterHeight(height: number) {\n  return (draft: Application) => {\n    draft.settings.footerHeight = height;\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function activeWorkspace(state: Application) {\n  return state.workspaces.find((w) => w.id === state.selectedWorkspaceId)!;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function activeTab(state: Application) {\n  const workspace = activeWorkspace(state);\n\n  return workspace.tabs.find((t) => t.id === workspace.selectedTabId)!;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeFooterItemId(state: Application) {\n  const tab = activeTab(state);\n\n  return state.selectedFooterItemId && isDocumentOrHistoryTab(tab)\n    ? state.selectedFooterItemId\n    : \"console\";\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeResultDetailWidth(width: number) {\n  return (draft: Application) => {\n    draft.settings.resultDetailWidth = width;\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport closeTabBase from \"./closeTabBase\";\n\nexport default function closeTab(id: string | undefined) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === id);\n\n    if (tab) {\n      closeTabBase(workspace, tab);\n    }\n  };\n}\n","import createNewDocumentTab from \"@bcp/main/state/utils/createNewDocumentTab\";\nimport { createLinkedList } from \"@bcp/main/utils\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function createAndOpenNewDocumentTab(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  const newTab = createNewDocumentTab();\n\n  workspace.tabs.push(newTab);\n  workspace.tabHistory = createLinkedList(workspace.tabHistory)\n    .setFirst(newTab.id)\n    .toArray();\n  workspace.selectedTabId = newTab.id;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport flattenDocuments from \"@bcp/main/state/utils/flattenDocuments\";\nimport openDocumentTabBase from \"./openDocumentTabBase\";\n\nexport default function openDocumentTab(id?: string, preview?: boolean) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const document = flattenDocuments(workspace.collections).find(\n      (d) => d.id === id\n    );\n\n    if (!document) {\n      return;\n    }\n\n    openDocumentTabBase(workspace, document, preview);\n  };\n}\n","import createNewHistoryTab from \"@bcp/main/state/utils/createNewHistoryTab\";\nimport { createLinkedList } from \"@bcp/main/utils\";\nimport Application from \"@bcp/shared/models/Application\";\n\nexport default function openHistoryTab(id: string, preview?: boolean) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const historyItem = workspace.history.find((h) => h.id === id);\n\n    if (!historyItem) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === id);\n    const tabHistory = createLinkedList(workspace.tabHistory).setFirst(\n      historyItem.id\n    );\n\n    workspace.selectedNodeId = historyItem.id;\n    workspace.selectedTabId = historyItem.id;\n\n    if (tab) {\n      if (!preview) {\n        delete tab.preview;\n      }\n    } else {\n      const newTab = createNewHistoryTab(historyItem);\n\n      if (preview) {\n        const previewTab = workspace.tabs.find((t) => t.preview === true);\n\n        if (previewTab) {\n          tabHistory.remove(previewTab.id);\n          workspace.tabs.splice(workspace.tabs.indexOf(previewTab), 1, newTab);\n        } else {\n          workspace.tabs.push(newTab);\n        }\n\n        newTab.preview = true;\n      } else {\n        workspace.tabs.push(newTab);\n      }\n    }\n\n    workspace.tabHistory = tabHistory.toArray();\n  };\n}\n","import History from \"@bcp/shared/models/History\";\nimport { DocumentTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function createNewHistoryTab(historyItem: History): DocumentTab {\n  const { id, name: documentName, operationName, request } = historyItem;\n  const name = operationName || documentName;\n  const draft = operationName ? { ...request, operationName } : request;\n\n  return {\n    id,\n    name,\n    kind: \"history\",\n    draft,\n  };\n}\n","import { SchemaFieldType, SchemaType } from \"@bcp/shared/common\";\nimport { createLinkedList } from \"@bcp/main/utils\";\nimport Application from \"@bcp/shared/models/Application\";\nimport HttpTransport from \"@bcp/shared/models/HttpTransport\";\nimport { SchemaTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function openSchemaTab(\n  typeOrField: SchemaType | SchemaFieldType,\n  transport: HttpTransport,\n  preview?: boolean\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === typeOrField.id);\n    const tabHistory = createLinkedList(workspace.tabHistory).setFirst(\n      typeOrField.id\n    );\n\n    workspace.selectedTabId = typeOrField.id;\n\n    if (tab) {\n      if (!preview) {\n        delete tab.preview;\n      }\n    } else {\n      const newTab = createNewSchemaTab(typeOrField, transport, preview);\n\n      if (preview) {\n        const previewTab = workspace.tabs.find((t) => t.preview === true);\n\n        if (previewTab) {\n          tabHistory.remove(previewTab.id);\n          workspace.tabs.splice(workspace.tabs.indexOf(previewTab), 1, newTab);\n        } else {\n          workspace.tabs.push(newTab);\n        }\n\n        newTab.preview = true;\n      } else {\n        workspace.tabs.push(newTab);\n      }\n    }\n\n    workspace.selectedNodeId = typeOrField.id;\n    workspace.tabHistory = tabHistory.toArray();\n  };\n}\n\nfunction createNewSchemaTab(\n  typeOrField: SchemaType | SchemaFieldType,\n  transport: HttpTransport,\n  preview?: boolean\n): SchemaTab {\n  return {\n    id: typeOrField.id,\n    name: typeOrField.name,\n    kind: \"schema\",\n    schemaEndpoint: transport.schemaEndpoint,\n    httpMethod: transport.httpMethod,\n    httpHeaders: transport.httpHeaders,\n    credentials: transport.credentials,\n    breadCrumbs: [{ id: typeOrField.id }],\n    infoPath: [{ id: typeOrField.id }],\n    infoPosition: 0,\n    preview,\n  };\n}\n","import { createLinkedList } from \"@bcp/main/utils\";\nimport Application from \"@bcp/shared/models/Application\";\nimport { PreferencesTab } from \"@bcp/shared/models/Tabs\";\nimport Preferences from \"@bcp/shared/models/Preferences\";\n\nexport default function openPreferencesTab(preview?: boolean) {\n  return (draft: Application) => {\n    const tabId = \"preferences\";\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === tabId);\n    const tabHistory = createLinkedList(workspace.tabHistory).setFirst(tabId);\n\n    workspace.selectedTabId = tabId;\n\n    if (tab) {\n      if (!preview) {\n        delete tab.preview;\n      }\n    } else {\n      const newTab = createPreferencesTab(tabId, draft.preferences, preview);\n\n      if (preview) {\n        const previewTab = workspace.tabs.find((t) => t.preview === true);\n\n        if (previewTab) {\n          tabHistory.remove(previewTab.id);\n          workspace.tabs.splice(workspace.tabs.indexOf(previewTab), 1, newTab);\n        } else {\n          workspace.tabs.push(newTab);\n        }\n\n        newTab.preview = true;\n      } else {\n        workspace.tabs.push(newTab);\n      }\n    }\n\n    workspace.selectedNodeId = tabId;\n    workspace.tabHistory = tabHistory.toArray();\n  };\n}\n\nfunction createPreferencesTab(\n  id: string,\n  preferences?: Preferences,\n  preview?: boolean\n): PreferencesTab {\n  return {\n    id,\n    name: \"Preferences\",\n    kind: \"preferences\",\n    content: preferences ? JSON.stringify(preferences, null, 2) : undefined,\n    preview,\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function runSubscription(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n  if (tab && isDocumentOrHistoryTab(tab)) {\n    tab.subscriptionRunning = true;\n  }\n}\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { LogLevel } from \"@bcp/shared/common\";\nimport { LogMessage } from \"@bcp/shared/messaging/messages\";\nimport { createId, now } from \"@bcp/shared/utils\";\nimport produce from \"immer\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, map } from \"rxjs/operators\";\n\n// todo: LRU\n// todo: max log events per id\n\nclass ConsoleLog {\n  private readonly subject = new BehaviorSubject<EntryMap>(\n    produce<EntryMap, EntryMap, void>({}, () => {})\n  );\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<LogMessage>(\"log\", (m) => {\n      const { tabId, level, message, details } = m.payload!;\n\n      this.append(tabId, level, message, details);\n    });\n  }\n\n  clear(tabId: string) {\n    this.subject.next(\n      produce<EntryMap, EntryMap, void>(this.subject.value, (draft) => {\n        delete draft[tabId];\n      })\n    );\n  }\n\n  error(tabId: string, message: string, details?: any) {\n    this.append(tabId, LogLevel.error, message, details);\n  }\n\n  get(tabId: string) {\n    return this.subject.value[tabId];\n  }\n\n  info(tabId: string, message: string, details?: any) {\n    this.append(tabId, LogLevel.info, message, details);\n  }\n\n  warning(tabId: string, message: string, details?: any) {\n    this.append(tabId, LogLevel.warning, message, details);\n  }\n\n  private append(\n    tabId: string,\n    level: LogLevel,\n    message: string,\n    details?: any\n  ) {\n    this.subject.next(\n      produce<EntryMap, EntryMap, void>(this.subject.value, (draft) => {\n        const id = createId();\n        const entry = {\n          id,\n          level,\n          message,\n          timestamp: now(),\n          details,\n        };\n\n        if (draft[tabId]) {\n          draft[tabId].entries = [...draft[tabId].entries, entry];\n\n          if (draft[tabId].selectNewest) {\n            draft[tabId].hasNewEntries = false;\n            draft[tabId].selectedId = entry.id;\n            draft[tabId].selectNewest = true;\n          } else {\n            draft[tabId].hasNewEntries = true;\n          }\n        } else {\n          draft[tabId] = {\n            tabId,\n            hasNewEntries: false,\n            entries: [entry],\n            scrollPosition: 0,\n            selectedId: entry.id,\n            selectNewest: true,\n          };\n        }\n      })\n    );\n  }\n\n  setScrollPosition(tabId: string, scrollPosition: number) {\n    this.subject.next(\n      produce<EntryMap, EntryMap, void>(this.subject.value, (draft) => {\n        if (draft[tabId] && scrollPosition !== draft[tabId].scrollPosition) {\n          const selectNewest =\n            draft[tabId].selectNewest &&\n            scrollPosition >= draft[tabId].scrollPosition;\n\n          draft[tabId].scrollPosition = scrollPosition;\n          draft[tabId].selectNewest = selectNewest;\n        }\n      })\n    );\n  }\n\n  setSelectedId(tabId: string, selectedId: string) {\n    this.subject.next(\n      produce<EntryMap, EntryMap, void>(this.subject.value, (draft) => {\n        if (draft[tabId] && draft[tabId].selectedId !== selectedId) {\n          if (\n            draft[tabId].hasNewEntries &&\n            draft[tabId].entries[draft[tabId].entries.length - 1].id ===\n              selectedId\n          ) {\n            draft[tabId].hasNewEntries = false;\n          }\n\n          draft[tabId].selectedId = selectedId;\n          draft[tabId].selectNewest = false;\n        }\n      })\n    );\n  }\n\n  setSelectNewest(tabId: string, selectNewest: boolean) {\n    this.subject.next(\n      produce<EntryMap, EntryMap, void>(this.subject.value, (draft) => {\n        if (draft[tabId]) {\n          if (selectNewest && draft[tabId].entries.length > 0) {\n            draft[tabId].hasNewEntries = false;\n            draft[tabId].selectedId =\n              draft[tabId].entries[draft[tabId].entries.length - 1].id;\n          }\n\n          draft[tabId].selectNewest = selectNewest;\n        }\n      })\n    );\n  }\n\n  subscribe(tabId: string, next: (entriesAndState?: EntriesAndState) => void) {\n    return this.subject\n      .pipe(\n        map((cache) => cache[tabId]),\n        distinctUntilChanged()\n      )\n      .subscribe((entriesAndState) => {\n        next(entriesAndState);\n      });\n  }\n\n  subscribeToSelected(tabId: string, next: (entry?: Entry) => void) {\n    return this.subject\n      .pipe(\n        map(\n          (cache) =>\n            (cache[tabId] &&\n              cache[tabId].selectedId &&\n              cache[tabId].entries.find(\n                (entry) => entry.id === cache[tabId].selectedId\n              )) ||\n            undefined\n        ),\n        distinctUntilChanged()\n      )\n      .subscribe((entry) => {\n        next(entry);\n      });\n  }\n}\n\nconst instance = new ConsoleLog();\n\nexport default instance;\n\ntype EntryMap = {\n  [tabId: string]: EntriesAndState;\n};\n\nexport interface EntriesAndState extends EntryState {\n  tabId: string;\n  entries: Entry[];\n}\n\nexport interface EntryState {\n  hasNewEntries: boolean;\n  scrollPosition: number;\n  selectedId: string;\n  selectNewest: boolean;\n}\n\nexport interface Entry {\n  id: string;\n  level: LogLevel;\n  message: string;\n  timestamp: number;\n  details?: any;\n}\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { Message, Session } from \"@bcp/shared/messaging\";\nimport { createHash } from \"@bcp/shared/utils\";\n\nclass WorkerContextProxyService {\n  private sessionValue: Session = {\n    documentId: \"\",\n    httpMethod: \"POST\",\n    schemaEndpoint: \"\",\n  };\n  private hash = \"\";\n\n  get session() {\n    return this.sessionValue;\n  }\n\n  update(modify: (current: Session) => Session) {\n    const previousHash = this.hash;\n\n    this.sessionValue = modify(this.sessionValue);\n    this.hash = createHash(JSON.stringify(this.sessionValue));\n\n    if (this.hash !== previousHash) {\n      schemaWorkerClient.sendMessage(\n        new Message<Session>({\n          type: \"set-session\",\n          payload: this.sessionValue,\n        })\n      );\n    }\n  }\n}\n\nexport const workerContextProxyService = new WorkerContextProxyService();\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { Operation } from \"@bcp/shared/common\";\nimport { Message } from \"@bcp/shared/messaging\";\nimport { DocumentNode } from \"graphql\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { workerContextProxyService } from \"./worker-context-proxy-service\";\n\nclass DocumentCacheProxy {\n  private readonly existsSet = new Set<string>();\n  private readonly operationsSubject = new BehaviorSubject<Operation[]>([]);\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<Operation[]>(\n      \"document-operations-update\",\n      ({ payload }) => {\n        this.operationsSubject.next(payload);\n      }\n    );\n  }\n\n  get operations() {\n    return this.operationsSubject.value;\n  }\n\n  delete() {\n    schemaWorkerClient.sendMessage(\n      new Message<void>({\n        payload: void 0,\n        type: \"document-cache-delete-item\",\n      })\n    );\n    this.existsSet.delete(workerContextProxyService.session.documentId);\n  }\n\n  exists() {\n    return this.existsSet.has(workerContextProxyService.session.documentId);\n  }\n\n  set(document: DocumentNode) {\n    schemaWorkerClient.sendMessage(\n      new Message<DocumentNode>({\n        payload: document,\n        type: \"document-cache-set-item\",\n      })\n    );\n    this.existsSet.add(workerContextProxyService.session.documentId);\n  }\n\n  subscribeOperations(next: (operations: Operation[]) => void) {\n    return this.operationsSubject.subscribe(next);\n  }\n}\n\nconst instance = new DocumentCacheProxy();\n\nexport default instance;\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { HttpHeaders } from \"@bcp/shared/common\";\nimport { Message } from \"@bcp/shared/messaging\";\nimport { workerContextProxyService } from \"./worker-context-proxy-service\";\n\nclass HttpHeadersCacheProxy {\n  private readonly existsSet = new Set<string>();\n\n  delete() {\n    schemaWorkerClient.sendMessage<void>(\n      new Message<void>({\n        type: \"http-headers-cache-delete-item\",\n        payload: void 0,\n      })\n    );\n    this.existsSet.delete(workerContextProxyService.session.documentId);\n  }\n\n  exists() {\n    return this.existsSet.has(workerContextProxyService.session.documentId);\n  }\n\n  set(headers: HttpHeaders) {\n    schemaWorkerClient.sendMessage<HttpHeaders>(\n      new Message<HttpHeaders>({\n        type: \"http-headers-cache-set-item\",\n        payload: headers,\n      })\n    );\n    this.existsSet.add(workerContextProxyService.session.documentId);\n  }\n}\n\nconst instance = new HttpHeadersCacheProxy();\n\nexport default instance;\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport {\n  CompletionItemRequest,\n  HoverInformationRequest,\n  Message,\n  SchemaInfo,\n} from \"@bcp/shared/messaging\";\nimport { CompletionItem, Position } from \"graphql-language-service-types\";\nimport { editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { Hover } from \"vscode-languageserver-types\";\nimport { workerContextProxyService } from \"./worker-context-proxy-service\";\n\nclass LanguageServiceProxy {\n  private readonly schemaInfoSubject = new BehaviorSubject<SchemaInfo>({\n    endpoint: workerContextProxyService.session.schemaEndpoint,\n    exists: false,\n    hasMutationType: false,\n    hasSubscriptionType: false,\n  });\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<SchemaInfo>(\n      \"schema-update\",\n      ({ payload }) => {\n        this.schemaInfoSubject.next(payload);\n      }\n    );\n  }\n\n  getCompletionItems(content: string, cursor: Position) {\n    return schemaWorkerClient.sendAndReceiveMessage<\n      CompletionItem[],\n      CompletionItemRequest\n    >(\n      new Message<CompletionItemRequest>({\n        type: \"auto-suggestions\",\n        payload: {\n          content,\n          cursor,\n        },\n      })\n    );\n  }\n\n  getDiagnostics(content: string) {\n    return schemaWorkerClient.sendAndReceiveMessage<\n      editor.IMarkerData[],\n      string\n    >(\n      new Message<string>({\n        type: \"diagnostics\",\n        payload: content,\n      })\n    );\n  }\n\n  getHoverInformation(content: string, cursor: Position) {\n    return schemaWorkerClient.sendAndReceiveMessage<\n      Hover[\"contents\"] | undefined,\n      HoverInformationRequest\n    >(\n      new Message<HoverInformationRequest>({\n        type: \"hover-information\",\n        payload: {\n          content,\n          cursor,\n        },\n      })\n    );\n  }\n\n  get observable() {\n    return this.schemaInfoSubject.asObservable();\n  }\n\n  subscribeToSchemaInfoChange(next: (schemaInfo: SchemaInfo) => void) {\n    return this.schemaInfoSubject.subscribe(next);\n  }\n}\n\nconst instance = new LanguageServiceProxy();\n\nexport default instance;\n","import { Message } from \"@banana-cake-pop/shared/dist/messaging\";\nimport { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport {\n  BeginExecutionMessage,\n  OperationExecutionMessage,\n} from \"@bcp/shared/messaging/messages\";\nimport { BehaviorSubject } from \"rxjs\";\n\nclass OperationExecuterProxy {\n  private readonly isExecutingSubject = new BehaviorSubject(false);\n  private readonly isSubscriptionSubject = new BehaviorSubject(false);\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<OperationExecutionMessage>(\n      \"operation-execution\",\n      ({ payload }) => {\n        this.isExecutingSubject.next(payload.isExecuting);\n        this.isSubscriptionSubject.next(payload.isSubscription);\n      }\n    );\n  }\n\n  get isExecuting() {\n    return this.isExecutingSubject.asObservable();\n  }\n\n  get isSubscription() {\n    return this.isSubscriptionSubject.asObservable();\n  }\n\n  cancel() {\n    schemaWorkerClient.sendMessage(\n      new Message<void>({\n        payload: void 0,\n        type: \"cancel-operation-execution\",\n      })\n    );\n  }\n\n  execute(operationName?: string) {\n    schemaWorkerClient.sendMessage(\n      new Message<BeginExecutionMessage>({\n        payload: {\n          operationName,\n        },\n        type: \"begin-operation-execution\",\n      })\n    );\n  }\n}\n\nconst instance = new OperationExecuterProxy();\n\nexport default instance;\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { InputResult } from \"@bcp/shared/common\";\nimport { AppendResultMessage } from \"@bcp/shared/messaging/messages\";\nimport { createId } from \"@bcp/shared/utils\";\nimport produce from \"immer\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { distinctUntilChanged, map } from \"rxjs/operators\";\n\n// todo: LRU\n\nclass ResultCache {\n  private readonly subject = new BehaviorSubject<ResultMap>(\n    produce<ResultMap, ResultMap, void>({}, () => {})\n  );\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<AppendResultMessage>(\n      \"new-result\",\n      ({ payload: { documentId, result } }) => {\n        this.append(documentId, result);\n      }\n    );\n  }\n\n  append(documentId: string, result: InputResult) {\n    this.subject.next(\n      produce<ResultMap, ResultMap, void>(this.subject.value, (draft) => {\n        const id = createId();\n        const record = {\n          id,\n          ...result,\n        };\n\n        if (draft[documentId]) {\n          draft[documentId].results = [...draft[documentId].results, record];\n\n          if (\n            draft[documentId].selectNewest ||\n            result.operationType === \"mutation\" ||\n            result.operationType === \"query\"\n          ) {\n            draft[documentId].hasNewResults = false;\n            draft[documentId].selectedId = record.id;\n            draft[documentId].selectNewest = true;\n          } else {\n            draft[documentId].hasNewResults = true;\n          }\n        } else {\n          draft[documentId] = {\n            documentId,\n            hasNewResults: false,\n            results: [record],\n            scrollPosition: 0,\n            selectedId: record.id,\n            selectNewest: true,\n          };\n        }\n      })\n    );\n  }\n\n  get(documentId: string) {\n    return this.subject.value[documentId];\n  }\n\n  setScrollPosition(documentId: string, scrollPosition: number) {\n    this.subject.next(\n      produce<ResultMap, ResultMap, void>(this.subject.value, (draft) => {\n        if (\n          draft[documentId] &&\n          scrollPosition !== draft[documentId].scrollPosition\n        ) {\n          const selectNewest =\n            draft[documentId].selectNewest &&\n            scrollPosition >= draft[documentId].scrollPosition;\n\n          draft[documentId].scrollPosition = scrollPosition;\n          draft[documentId].selectNewest = selectNewest;\n        }\n      })\n    );\n  }\n\n  setSelectedId(documentId: string, selectedId: string) {\n    this.subject.next(\n      produce<ResultMap, ResultMap, void>(this.subject.value, (draft) => {\n        if (draft[documentId] && draft[documentId].selectedId !== selectedId) {\n          if (\n            draft[documentId].hasNewResults &&\n            draft[documentId].results[draft[documentId].results.length - 1]\n              .id === selectedId\n          ) {\n            draft[documentId].hasNewResults = false;\n          }\n\n          draft[documentId].selectedId = selectedId;\n          draft[documentId].selectNewest = false;\n        }\n      })\n    );\n  }\n\n  setSelectNewest(documentId: string, selectNewest: boolean) {\n    this.subject.next(\n      produce<ResultMap, ResultMap, void>(this.subject.value, (draft) => {\n        if (draft[documentId]) {\n          if (selectNewest && draft[documentId].results.length > 0) {\n            draft[documentId].hasNewResults = false;\n            draft[documentId].selectedId =\n              draft[documentId].results[\n                draft[documentId].results.length - 1\n              ].id;\n          }\n\n          draft[documentId].selectNewest = selectNewest;\n        }\n      })\n    );\n  }\n\n  subscribe(\n    documentId: string,\n    next: (resultsAndState?: ResultsAndState) => void\n  ) {\n    return this.subject\n      .pipe(\n        map((cache) => cache[documentId]),\n        distinctUntilChanged()\n      )\n      .subscribe((resultsAndState) => {\n        next(resultsAndState);\n      });\n  }\n\n  subscribeToSelected(documentId: string, next: (result?: Result) => void) {\n    return this.subject\n      .pipe(\n        map(\n          (cache) =>\n            (cache[documentId] &&\n              cache[documentId].selectedId &&\n              cache[documentId].results.find(\n                (result) => result.id === cache[documentId].selectedId\n              )) ||\n            undefined\n        ),\n        distinctUntilChanged()\n      )\n      .subscribe((result) => {\n        next(result);\n      });\n  }\n}\n\nconst instance = new ResultCache();\n\nexport default instance;\n\ntype ResultMap = {\n  [documentId: string]: ResultsAndState;\n};\n\nexport interface ResultsAndState extends ResultState {\n  documentId: string;\n  results: Result[];\n}\n\nexport interface ResultState {\n  hasNewResults: boolean;\n  scrollPosition: number;\n  selectedId: string;\n  selectNewest: boolean;\n}\n\nexport interface Result extends InputResult {\n  id: string;\n}\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { SchemaFieldType, SchemaType } from \"@bcp/shared/common\";\nimport { Message, SchemaFieldRequest, SchemaInfo } from \"@bcp/shared/messaging\";\nimport languageService from \"./language-service-proxy\";\n\ntype CacheValue =\n  | SchemaFieldType\n  | SchemaFieldType[]\n  | SchemaType\n  | SchemaType[]\n  | undefined;\n\nclass SchemaBrowserProxy {\n  // todo: LRU cache\n  private readonly cache = new Map<string, CacheValue>();\n  private schemaInfo: SchemaInfo | undefined;\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    languageService.subscribeToSchemaInfoChange((info) => {\n      this.schemaInfo = info;\n      this.cache.clear();\n    });\n  }\n\n  async getField(typeName: string, fieldName: string) {\n    if (!this.schemaInfo || !this.schemaInfo.exists) {\n      return undefined;\n    }\n\n    const cacheKey = `field-${typeName}-${fieldName}`;\n\n    if (this.cache.has(cacheKey)) {\n      return this.cache.get(cacheKey) as SchemaFieldType;\n    }\n\n    const field = await schemaWorkerClient.sendAndReceiveMessage<\n      SchemaFieldType | undefined,\n      SchemaFieldRequest\n    >(\n      new Message<SchemaFieldRequest>({\n        type: \"fetch-schema-field-type\",\n        payload: {\n          typeName,\n          fieldName,\n        },\n      })\n    );\n\n    this.cache.set(cacheKey, field);\n\n    return field;\n  }\n\n  async getFields(typeName: string) {\n    if (!this.schemaInfo || !this.schemaInfo.exists) {\n      return undefined;\n    }\n\n    const cacheKey = `fields-${typeName}`;\n\n    if (this.cache.has(cacheKey)) {\n      return this.cache.get(cacheKey) as SchemaFieldType[];\n    }\n\n    const fields = await schemaWorkerClient.sendAndReceiveMessage<\n      SchemaFieldType[] | undefined,\n      string\n    >(\n      new Message<string>({\n        type: \"fetch-schema-field-types\",\n        payload: typeName,\n      })\n    );\n\n    this.cache.set(cacheKey, fields);\n\n    return fields;\n  }\n\n  async getRootTypes() {\n    if (!this.schemaInfo || !this.schemaInfo.exists) {\n      return undefined;\n    }\n\n    const cacheKey = \"root-types\";\n\n    if (this.cache.has(cacheKey)) {\n      return this.cache.get(cacheKey) as SchemaType[];\n    }\n\n    const rootTypes = await schemaWorkerClient.sendAndReceiveMessage<\n      SchemaType[] | undefined,\n      void\n    >(\n      new Message<void>({\n        type: \"fetch-schema-types\",\n        payload: void 0,\n      })\n    );\n\n    this.cache.set(cacheKey, rootTypes);\n\n    return rootTypes;\n  }\n\n  async getType(typeName: string) {\n    if (!this.schemaInfo || !this.schemaInfo.exists) {\n      return undefined;\n    }\n\n    const cacheKey = `type-${typeName}`;\n\n    if (this.cache.has(cacheKey)) {\n      return this.cache.get(cacheKey) as SchemaType;\n    }\n\n    const type = await schemaWorkerClient.sendAndReceiveMessage<\n      SchemaType | undefined,\n      string\n    >(\n      new Message<string>({\n        type: \"fetch-schema-type\",\n        payload: typeName,\n      })\n    );\n\n    this.cache.set(cacheKey, type);\n\n    return type;\n  }\n}\n\nconst instance = new SchemaBrowserProxy();\n\nexport default instance;\n","import { Message } from \"@bcp/shared/messaging\";\nimport { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { BehaviorSubject } from \"rxjs\";\n\nclass SchemaFetcherProxy {\n  private readonly isFetchingSubject = new BehaviorSubject(false);\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<boolean>(\n      \"is-schema-fetching\",\n      ({ payload }) => {\n        this.isFetchingSubject.next(payload);\n      }\n    );\n  }\n\n  get isFetching() {\n    return this.isFetchingSubject.asObservable();\n  }\n\n  cancel() {\n    schemaWorkerClient.sendMessage(\n      new Message<void>({\n        type: \"cancel-schema-fetching\",\n        payload: void 0,\n      })\n    );\n  }\n\n  fetch() {\n    schemaWorkerClient.sendMessage(\n      new Message<void>({\n        type: \"fetch-schema\",\n        payload: void 0,\n      })\n    );\n  }\n\n  refetch() {\n    schemaWorkerClient.sendMessage(\n      new Message<void>({\n        type: \"refetch-schema\",\n        payload: void 0,\n      })\n    );\n  }\n}\n\nconst instance = new SchemaFetcherProxy();\n\nexport default instance;\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport {\n  Message,\n  VariablesCacheItemToDelete,\n  VariablesCacheItemToSet,\n} from \"@bcp/shared/messaging\";\nimport { workerContextProxyService } from \"./worker-context-proxy-service\";\n\nclass VariablesCacheProxy {\n  private readonly existsSet = new Set<string>();\n\n  delete() {\n    const { documentId } = workerContextProxyService.session;\n\n    schemaWorkerClient.sendMessage(\n      new Message<VariablesCacheItemToDelete>({\n        payload: { documentId },\n        type: \"variables-cache-delete-item\",\n      })\n    );\n    this.existsSet.delete(documentId);\n  }\n\n  exists() {\n    return this.existsSet.has(workerContextProxyService.session.documentId);\n  }\n\n  set(variables: object) {\n    const { documentId } = workerContextProxyService.session;\n\n    schemaWorkerClient.sendMessage(\n      new Message<VariablesCacheItemToSet>({\n        payload: { documentId, variables },\n        type: \"variables-cache-set-item\",\n      })\n    );\n    this.existsSet.add(documentId);\n  }\n}\n\nconst instance = new VariablesCacheProxy();\n\nexport default instance;\n","import { consoleLogService } from \"@bcp/main/services\";\nimport flattenDocuments from \"@bcp/main/state/utils/flattenDocuments\";\nimport Application from \"@bcp/shared/models/Application\";\nimport {\n  isDocumentOrHistoryTab,\n  isPreferencesTab,\n  TabBase,\n} from \"@bcp/shared/models/Tabs\";\nimport Preferences from \"@bcp/shared/models/Preferences\";\nimport Workspace from \"@bcp/shared/models/Workspace\";\nimport Ajv from \"ajv\";\n\nimport schema from \"@bcp/main/json-schemas/preferences.json\";\n\nexport default function saveTabCore(\n  application: Application,\n  workspace: Workspace,\n  tab: TabBase\n) {\n  if (isDocumentOrHistoryTab(tab)) {\n    const document = flattenDocuments(workspace.collections).find(\n      (d) => d.id === tab.id\n    );\n\n    if (document) {\n      document.request = tab.draft;\n      delete tab.hasChanges;\n    }\n  }\n\n  if (isPreferencesTab(tab)) {\n    if (tryUpdatePreferences(application, tab.content)) {\n      delete tab.hasChanges;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction tryUpdatePreferences(application: Application, content?: string) {\n  if (content && content.length > 0) {\n    try {\n      const preferences = JSON.parse(content) as Preferences;\n      const ajv = new Ajv();\n\n      if (ajv.validate(schema, preferences) === true) {\n        application.preferences = preferences;\n      }\n\n      if (ajv.errors) {\n        consoleLogService.error(\n          \"preferences\",\n          \"Preferences couldn't be saved due to schema violations.\",\n          [...ajv.errors]\n        );\n      }\n    } catch (error) {\n      consoleLogService.error(\n        \"preferences\",\n        \"Preferences couldn't be saved due to syntax issues.\",\n        error\n      );\n\n      return false;\n    }\n  } else {\n    delete application.preferences;\n  }\n\n  return true;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport closeTabBase from \"./closeTabBase\";\nimport saveTabCore from \"./saveTabCore\";\n\nexport default function saveAndCloseTab(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n  if (tab) {\n    if (saveTabCore(draft, workspace, tab)) {\n      closeTabBase(workspace, tab);\n    }\n  }\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport saveTabCore from \"./saveTabCore\";\n\nexport default function saveTab(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n  if (tab) {\n    saveTabCore(draft, workspace, tab);\n  }\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function stopSubscription(draft: Application) {\n  const workspace = draft.workspaces.find(\n    (w) => w.id === draft.selectedWorkspaceId\n  );\n\n  if (!workspace) {\n    return;\n  }\n\n  const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n  if (tab && isDocumentOrHistoryTab(tab)) {\n    delete tab.subscriptionRunning;\n  }\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function switchShowSubscriptionEndpoint(show: boolean) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    const tab =\n      workspace && workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (\n      tab &&\n      isDocumentOrHistoryTab(tab) &&\n      tab.showSubscriptionEndpoint !== show\n    ) {\n      if (show) {\n        tab.showSubscriptionEndpoint = true;\n      } else {\n        delete tab.showSubscriptionEndpoint;\n      }\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { DocumentTab, isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function updateDocumentTab(\n  update: (draft: DocumentTab) => void\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (tab && isDocumentOrHistoryTab(tab)) {\n      update(tab);\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isSchemaTab, SchemaTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function updateSchemaTab(update: (draft: SchemaTab) => void) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (tab && isSchemaTab(tab)) {\n      update(tab);\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport DocumentRequest from \"@bcp/shared/models/DocumentRequest\";\nimport createRequestHash from \"@bcp/main/state/utils/createRequestHash\";\nimport flattenDocuments from \"@bcp/main/state/utils/flattenDocuments\";\nimport createNewRequest from \"@bcp/main/state/utils/createNewRequest\";\nimport {\n  isDocumentOrHistoryTab,\n  isHistoryTab,\n  isDocumentTab,\n} from \"@bcp/shared/models/Tabs\";\n\nexport default function updateTabContent(\n  update: (draft: DocumentRequest) => void\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tabs = workspace.tabs;\n    const tab = tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (tab && isDocumentOrHistoryTab(tab)) {\n      const prevHash = tab.draft.hash;\n\n      update(tab.draft);\n      tab.draft.hash = createRequestHash(tab.draft);\n\n      // check if there are changes after hash recalculation\n      if (prevHash !== tab.draft.hash) {\n        if (isHistoryTab(tab)) {\n          const history = workspace.history.find((h) => h.id === tab.id)!;\n\n          tab.hasChanges = history.request.hash !== tab.draft.hash;\n        }\n\n        if (isDocumentTab(tab)) {\n          if (tab.new) {\n            const request = createNewRequest();\n\n            tab.hasChanges = request.hash !== tab.draft.hash;\n          } else {\n            const document = flattenDocuments(workspace.collections).find(\n              (d) => d.id === tab.id\n            )!;\n\n            tab.hasChanges = document.request.hash !== tab.draft.hash;\n          }\n        }\n\n        delete tab.preview;\n      }\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeDocumentSearchTerm(\n  searchTerm: string | undefined\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (workspace) {\n      workspace.documentSearchTerm = searchTerm;\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeHistorySearchTerm(\n  searchTerm: string | undefined\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (workspace) {\n      workspace.historySearchTerm = searchTerm;\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeSchemaSearchTerm(searchTerm: string | undefined) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (workspace) {\n      workspace.schemaSearchTerm = searchTerm;\n    }\n  };\n}\n","import { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { HistoryMessage } from \"@bcp/shared/messaging/messages\";\nimport Application from \"@bcp/shared/models/Application\";\nimport DocumentHeaderItemId from \"@bcp/shared/models/DocumentHeaderItemId\";\nimport NavigationItemId from \"@bcp/shared/models/NavigationItemId\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport produce from \"immer\";\nimport {\n  BehaviorSubject,\n  Observable,\n  Observer,\n  ConnectableObservable,\n} from \"rxjs\";\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  map,\n  multicast,\n} from \"rxjs/operators\";\nimport { getState, putState } from \"./db-wrapper\";\nimport init from \"./mutations/init\";\nimport { addHistoryItem } from \"./mutations\";\n\nclass Store {\n  private readonly initializedSubject = new BehaviorSubject(false);\n  private readonly state = new BehaviorSubject<Application>(\n    produce<Application, Application, void>(\n      {\n        selectedNavigationItemId: NavigationItemId.QueryDocuments,\n        selectedDocumentHeaderItemId: DocumentHeaderItemId.HttpHeaders,\n        settings: {\n          footerCollapsed: true,\n          footerHeight: 200,\n          documentHeaderCollapsed: true,\n          documentHeaderHeight: 200,\n          resultWidth: 300,\n          resultDetailWidth: 300,\n          sideBarCollapsed: false,\n          sideBarWidth: 300,\n        },\n        workspaces: [],\n      },\n      noop\n    )\n  );\n  private readonly initializer = new Observable<Application>(\n    (observer: Observer<Application>) => {\n      getState().then((state) => {\n        if (state) {\n          // TODO: get rid of interim solution\n          observer.next(\n            produce(state, (draft) => {\n              const workspace = draft.workspaces.find(\n                (w) => w.id === draft.selectedWorkspaceId\n              );\n\n              if (!workspace) {\n                return;\n              }\n            })\n          );\n          //observer.next(produce(state, noop));\n        } else {\n          observer.next(produce(this.state.value, init));\n        }\n\n        this.state.pipe(debounceTime(250)).subscribe((state) => {\n          if (this.initializedSubject.value) {\n            putState(persistenceReducer(state));\n          } else {\n            this.initializedSubject.next(true);\n          }\n        });\n      });\n    }\n  );\n  private readonly observable = this.initializer.pipe(\n    multicast(this.state)\n  ) as ConnectableObservable<Application>;\n  private readonly subscription = this.observable.connect();\n\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize() {\n    schemaWorkerClient.registerReceiveMessageHandler<HistoryMessage>(\n      \"new-history-item\",\n      ({\n        payload: { documentId, operationFailed, operationName, operationType },\n      }) => {\n        this.dispatch(\n          addHistoryItem(\n            documentId,\n            operationFailed,\n            operationType,\n            operationName\n          )\n        );\n      }\n    );\n  }\n\n  get initialized() {\n    return this.initializedSubject.asObservable();\n  }\n\n  current<TSelection>(selector: (state: Application) => TSelection) {\n    return selector(this.state.value);\n  }\n\n  dispatch(action: (draft: Application) => void) {\n    const prevState = this.state.value;\n    const newState = produce(prevState, action);\n\n    if (prevState !== newState) {\n      this.state.next(newState);\n    }\n  }\n\n  select<TSelection>(selector: (state: Application) => TSelection) {\n    return this.observable.pipe(map(selector), distinctUntilChanged());\n  }\n}\n\nfunction noop(draft: Application) {}\n\nfunction persistenceReducer(state: Application) {\n  return produce(state, (draft: Application) => {\n    for (let workspace of draft.workspaces) {\n      for (let tab of workspace.tabs.filter(isDocumentOrHistoryTab)) {\n        delete tab.subscriptionRunning;\n      }\n    }\n  });\n}\n\nconst instance = new Store();\n\nexport default instance;\n","import createDocumentId from \"@bcp/main/state/utils/createDocumentId\";\nimport Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport { now } from \"@bcp/shared/utils\";\nimport { OperationTypeNode } from \"graphql\";\n\nexport default function addHistoryItem(\n  id: string,\n  failed: boolean,\n  operationType: OperationTypeNode,\n  operationName?: string\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === id);\n\n    if (tab && isDocumentOrHistoryTab(tab)) {\n      workspace.history.unshift({\n        id: createDocumentId(),\n        originId: tab.id,\n        name: tab.name,\n        operationName,\n        operationType,\n        request: tab.draft,\n        failed: failed,\n        timestamp: now(),\n      });\n    }\n  };\n}\n","import { useEffect, useState } from \"react\";\nimport store from \"./Store\";\n\nexport function useInitialized() {\n  const [initialized, updateInitialized] = useState<boolean>(false);\n\n  useEffect(() => {\n    const subscription = store.initialized.subscribe(updateInitialized);\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return initialized;\n}\n","import { useEffect, useState } from \"react\";\nimport Application from \"@bcp/shared/models/Application\";\nimport store from \"./Store\";\n\nexport function useSelector<TSelection>(\n  selector: (state: Application) => TSelection\n) {\n  const [selection, updateSelection] = useState(store.current(selector));\n\n  useEffect(() => {\n    const subscription = store.select(selector).subscribe(updateSelection);\n\n    return () => subscription.unsubscribe();\n  }, [selector]);\n\n  return selection;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function activeDocumentHeaderItemId(state: Application) {\n  return state.selectedDocumentHeaderItemId;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeHttpHeaders(state: Application) {\n  const tab = activeTab(state);\n\n  return isDocumentOrHistoryTab(tab) ? tab.draft.httpHeaders : undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeHttpRequestCredentials(state: Application) {\n  const tab = activeTab(state);\n\n  return isDocumentOrHistoryTab(tab) ? tab.draft.credentials : undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function activeNavigationItemId(state: Application) {\n  return state.selectedNavigationItemId;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function activeNodeId(state: Application) {\n  return activeWorkspace(state).selectedNodeId;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeQueryResultTabId(state: Application) {\n  const tab = activeTab(state);\n\n  if (isDocumentTab(tab)) {\n    return tab.activeQueryResultTabId;\n  }\n\n  return undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isSchemaTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeSchemaBreadCrumb(state: Application) {\n  const tab = activeTab(state);\n\n  if (isSchemaTab(tab)) {\n    return tab.breadCrumbs;\n  }\n\n  return undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab, isSchemaTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeSchemaEndpoint(state: Application) {\n  const tab = activeTab(state);\n\n  if (isDocumentOrHistoryTab(tab)) {\n    return tab.draft.schemaEndpoint;\n  }\n\n  if (isSchemaTab(tab)) {\n    return tab.schemaEndpoint;\n  }\n\n  return undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeSubscriptionResultTabId(state: Application) {\n  const tab = activeTab(state);\n\n  if (isDocumentTab(tab)) {\n    return tab.activeSubscriptionResultTabId;\n  }\n\n  return undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function activeTabId(state: Application) {\n  return activeWorkspace(state).selectedTabId;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function activeTabKind(state: Application) {\n  const workspace = activeWorkspace(state);\n\n  return workspace.tabs.find((t) => t.id === workspace.selectedTabId)!.kind;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport activeTab from \"./activeTab\";\n\nexport default function activeVariableSet(state: Application) {\n  const tab = activeTab(state);\n\n  if (isDocumentOrHistoryTab(tab)) {\n    const variableSet = tab.draft.variableSets.find(\n      (t) => t.id === tab.draft.selectedVariableSetId\n    );\n\n    return variableSet && variableSet.variables;\n  }\n\n  return undefined;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function allCollections(state: Application) {\n  return activeWorkspace(state).collections;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function allHistoryItems(state: Application) {\n  return activeWorkspace(state).history;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"./activeWorkspace\";\n\nexport default function allTabs(state: Application) {\n  return activeWorkspace(state).tabs;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function footerCollapsed(state: Application) {\n  return state.settings.footerCollapsed;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function footerHeight(state: Application) {\n  return state.settings.footerHeight || 200;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function documentHeaderCollapsed(state: Application) {\n  return state.settings.documentHeaderCollapsed;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function documentHeaderHeight(state: Application) {\n  return state.settings.documentHeaderHeight;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function resultDetailWidth(state: Application) {\n  return state.settings.resultDetailWidth || 300;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function resultOrientation(state: Application) {\n  return state.preferences?.resultOrientation || \"vertical\";\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport resultOrientation from \"./resultOrientation\";\n\nexport default function resultSize(state: Application) {\n  const orientation = resultOrientation(state);\n\n  return (\n    (orientation === \"vertical\"\n      ? state.settings.resultWidth\n      : state.settings.resultHeight) || 200\n  );\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function schemaInfoWidth(state: Application) {\n  return state.settings.schemaInfoWidth || 200;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function showTracingExtension(state: Application) {\n  return state.preferences?.showTracingExtension || false;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function sideBarCollapsed(state: Application) {\n  return state.settings.sideBarCollapsed;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function sideBarLocation(state: Application) {\n  return state.preferences?.sideBarLocation || \"left\";\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function sideBarWidth(state: Application) {\n  return state.settings.sideBarWidth;\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function zoomFactor(state: Application) {\n  return state.preferences?.zoomFactor || 1;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"../activeWorkspace\";\n\nexport default function documentSearchTerm(state: Application) {\n  return activeWorkspace(state).documentSearchTerm;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"../activeWorkspace\";\n\nexport default function historySearchTerm(state: Application) {\n  return activeWorkspace(state).historySearchTerm;\n}\n","import Application from \"@bcp/shared/models/Application\";\nimport activeWorkspace from \"../activeWorkspace\";\n\nexport default function schemaSearchTerm(state: Application) {\n  return activeWorkspace(state).schemaSearchTerm;\n}\n","import * as styledComponents from \"styled-components\";\nimport Theme from \"./theming/Theme\";\n\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider,\n  withTheme,\n} = styledComponents as styledComponents.ThemedStyledComponentsModule<Theme>;\n\nexport { css, createGlobalStyle, keyframes, ThemeProvider, withTheme };\nexport default styled;\n","import Theme from \"./Theme\";\n\nconst defaultTheme: Theme = {\n  headerBgColor: \"#232d38\",\n  mainBgColor: \"#ffffff\",\n  mainBorder: \"#959595\",\n  createFieldBg: \"#2d3e4f\",\n  createFieldBorder: \"#0781ba\",\n\n  // colors\n  blue: \"#048fcf\",\n  cyan: \"#18e7c2\",\n  green: \"#21c996\",\n  orange: \"#ec5300\",\n  red: \"#ee093b\",\n  rose: \"#e04a98\",\n  yellow: \"#f0ab05\",\n\n  // Editor\n  resultBgColor: \"#cccccc\",\n\n  // Content\n  contentBorder: \"#959595\",\n  contentBorderLight: \"#ccc\",\n\n  // Text\n  controlTextColor: \"#5a5a5a\",\n  controlTextActiveColor: \"#ecedef\",\n  textColor: \"#5a5a5a\",\n\n  dialogButtonBg: \"#1e4d7d\",\n  dialogButtonBgDisabled: \"#959595\",\n  dialogButtonBgHover: \"#232d38\",\n  dialogButtonText: \"#ffffff\",\n  dialogButtonTextDisabled: \"#1e4d7d\",\n  dialogButtonTextHover: \"#ffffff\",\n  dialogContentBg: \"#eaeaea\",\n  dialogContentText: \"#333333\",\n  dialogHeaderBg: \"#1e4d7d\",\n  dialogHeaderText: \"#ffffff\",\n\n  // ContextMenu\n  contextMenuBg: \"#ffffff\",\n  contextMenuBorder: \"#959595\",\n  contextMenuText: \"#5a5a5a\",\n  contextMenuItemBgActive: \"#dfdfdf\",\n  contextMenuItemTextActive: \"#5a5a5a\",\n\n  // NavBar\n  navBgColor: \"#1e4d7d\",\n  navBgColor2: \"#3a6da2\",\n  navItemText: \"#ffffff\",\n  navItemActiveBgColor: \"#4f85b3\",\n\n  // SideBar\n  sideBarBg: \"#eaeaea\",\n  sideBarFooterBg: \"#eaeaea\",\n  sideBarFooterBorder: \"#1e4d7d\",\n  sideBarHeaderBg: \"#1e4d7d\",\n  sideBarHeaderText: \"#ffffff\",\n  sideBarSearchBg: \"#dfdfdf\",\n  sideBarText: \"#333333\",\n\n  // Tree\n  treeHoverBg: \"#dfdfdf\",\n  treeSelectedBg: \"#ffffff\",\n\n  // Tabs\n  tabsBg: \"#2d3e4f\",\n  tabsBg2: \"#435b75\",\n  tabBgActive: \"#ffffff\",\n  tabText: \"#ffffff\",\n  tabTextActive: \"#2d3e4f\",\n\n  // Content Tabs\n  contentTabsBg: \"#eaeaea\",\n  contentTabBgActive: \"#ffffff\",\n  contentTabText: \"#5a5a5a\",\n  contentTabTextActive: \"#5a5a5a\",\n\n  // Editor Tokens\n  annotationToken: \"#bba617\",\n  commentToken: \"#b3b3b3\",\n  delimiterToken: \"#87777f\",\n  identifierToken: \"#b25145\",\n  keywordToken: \"#048fcf\",\n  numberToken: \"#1c51a1\",\n  operatorToken: \"#048fcf\",\n  stringToken: \"#119023\",\n  typeToken: \"#e18416\"\n};\n\nexport default defaultTheme;\n","import { createGlobalStyle } from \"@bcp/main/styled\";\n\nconst GlobalStyle = createGlobalStyle`\n  body,\n  html,\n  #root {\n    width: 100vw;\n    height: 100vh;\n    font-size: 12px;\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    user-select: none;\n    font-family: system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 1em;\n    font-weight: normal;\n  }\n\n  *:focus {\n    outline: none;\n  }\n\n  button {\n    cursor: pointer;\n    background-color: transparent;\n    border: 0 none;\n  }\n\n  strong {\n    font-weight: bold;\n  }\n\n  ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background-color: ${(props) => props.theme.sideBarSearchBg};\n  }\n\n  *::-webkit-scrollbar-thumb {\n    transition: background-color 0.2s ease;\n  }\n\n  *:hover::-webkit-scrollbar-thumb {\n    background-color: ${(props) => props.theme.navBgColor};\n  }\n`;\n\nexport default GlobalStyle;\n","import React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  ReactNode,\n  useEffect,\n  useRef,\n} from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styled from \"@bcp/main/styled\";\nimport {\n  debounce,\n  getLeft,\n  getRight,\n  getBottom,\n  getTop,\n} from \"@bcp/main/utils\";\nimport SplitterChangeEventData from \"./SplitterChangeEventData\";\nimport SplitterIds from \"./SplitterIds\";\n\ninterface SplitterProperties {\n  id: SplitterIds;\n  asideCollapsable?: boolean;\n  asideCollapsed?: boolean;\n  asideSize?: number;\n  mainPane: \"pane-a\" | \"pane-b\";\n  onAsideSizeChange?: (size: number) => void;\n  onAsideCollapsedChange?: (collapsed: boolean) => void;\n  orientation: \"horizontal\" | \"vertical\";\n  paneAContent: ReactNode;\n  paneBContent: ReactNode;\n  showSeparator?: boolean;\n}\n\nconst Splitter: FunctionComponent<SplitterProperties> = memo((props) => {\n  const initialSize =\n    props.asideCollapsable && props.asideCollapsed ? 0 : props.asideSize || 300;\n  const dragHandle = useRef<HTMLDivElement>(null);\n  const dragHandleBackdrop = useRef<HTMLDivElement>(null);\n  const aside = useRef<HTMLDivElement>(null);\n  const minimumMainSize = 200;\n  let persistedAsideSize = props.asideSize || 300;\n\n  const onAsideSizeChange = debounce<number>((v) => {\n    if (props.onAsideSizeChange) {\n      props.onAsideSizeChange(v);\n    }\n  });\n\n  const getAsideOffset = () => {\n    const asideElement = aside.current!;\n\n    return props.orientation === \"horizontal\"\n      ? props.mainPane === \"pane-a\"\n        ? getBottom(asideElement)\n        : getTop(asideElement)\n      : props.mainPane === \"pane-a\"\n      ? getRight(asideElement)\n      : getLeft(asideElement);\n  };\n\n  const getAsideSize = () => {\n    const asideElement = aside.current!;\n\n    return props.orientation === \"horizontal\"\n      ? asideElement.offsetHeight\n      : asideElement.offsetWidth;\n  };\n\n  const setAsideSize = (size: number) => {\n    const asideElement = aside.current!;\n    const dragHandleElement = dragHandle.current!;\n\n    asideElement.style.flexBasis = size + \"px\";\n\n    // reset\n    // hack (as any) for typescript due to an issue\n    (dragHandleElement.style.top as any) = null;\n    (dragHandleElement.style.right as any) = null;\n    (dragHandleElement.style.bottom as any) = null;\n    (dragHandleElement.style.left as any) = null;\n\n    if (props.orientation === \"horizontal\") {\n      if (props.mainPane === \"pane-a\") {\n        dragHandleElement.style.bottom = size - getDragHandleOffset() + \"px\";\n      } else {\n        dragHandleElement.style.top = size - getDragHandleOffset() + \"px\";\n      }\n    } else {\n      if (props.mainPane === \"pane-a\") {\n        dragHandleElement.style.right = size - getDragHandleOffset() + \"px\";\n      } else {\n        dragHandleElement.style.left = size - getDragHandleOffset() + \"px\";\n      }\n    }\n  };\n\n  const getContainerElement = () =>\n    aside.current!.parentElement! as HTMLDivElement;\n\n  const getContainerSize = () => {\n    const containerElement = getContainerElement();\n\n    return props.orientation === \"horizontal\"\n      ? containerElement.offsetHeight\n      : containerElement.offsetWidth;\n  };\n\n  const getDragHandleOffset = () => {\n    const dragHandleElement = dragHandle.current!;\n\n    return props.orientation === \"horizontal\"\n      ? dragHandleElement.offsetHeight / 2\n      : dragHandleElement.offsetWidth / 2;\n  };\n\n  const fireDomEvent = (persistedAsideSize: number) => {\n    const { id, mainPane, orientation } = props;\n    const containerElement = getContainerElement();\n    const { width, height } = containerElement.getBoundingClientRect();\n    const event = new CustomEvent<SplitterChangeEventData>(\"splitterchange\", {\n      detail: {\n        id,\n        asideCollapsed: getAsideSize() === 0,\n        asideSize: persistedAsideSize,\n        dimension: {\n          width,\n          height,\n        },\n        mainPane,\n        orientation,\n      },\n    });\n\n    window.dispatchEvent(event);\n  };\n\n  const dragStartHandler: any = (e: MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n\n    if (e.button !== 0) {\n      return;\n    }\n\n    const asideOffset = getAsideOffset();\n    const containerSize = getContainerSize();\n    const dragHandleBackdropElement = dragHandleBackdrop.current!;\n\n    if (getAsideSize() > 0) {\n      persistedAsideSize = getAsideSize();\n    }\n\n    dragHandleBackdropElement.style.display = \"block\";\n\n    const isValid = (newSize: number) => {\n      return containerSize - newSize > minimumMainSize;\n    };\n    let dragMoveHandler: any = (e: MouseEvent<HTMLDivElement>) => {\n      e.preventDefault();\n\n      const newSize =\n        props.orientation === \"horizontal\"\n          ? props.mainPane === \"pane-a\"\n            ? window.innerHeight - asideOffset - e.clientY\n            : e.clientY - asideOffset\n          : props.mainPane === \"pane-a\"\n          ? window.innerWidth - asideOffset - e.clientX\n          : e.clientX - asideOffset;\n\n      if (props.asideCollapsable) {\n        if (newSize < 120) {\n          setAsideSize(0);\n          onAsideSizeChange(persistedAsideSize);\n\n          if (props.onAsideCollapsedChange) {\n            props.onAsideCollapsedChange(true);\n          }\n\n          fireDomEvent(persistedAsideSize);\n        } else if (newSize < 150) {\n          setAsideSize(150);\n          onAsideSizeChange(150);\n\n          if (props.onAsideCollapsedChange) {\n            props.onAsideCollapsedChange(false);\n          }\n\n          fireDomEvent(150);\n        } else if (isValid(newSize)) {\n          setAsideSize(newSize);\n          onAsideSizeChange(newSize);\n          fireDomEvent(newSize);\n        }\n      } else {\n        if (newSize < 150) {\n          setAsideSize(150);\n          onAsideSizeChange(150);\n          fireDomEvent(150);\n        } else if (isValid(newSize)) {\n          setAsideSize(newSize);\n          onAsideSizeChange(newSize);\n          fireDomEvent(newSize);\n        }\n      }\n    };\n    let dragStopHandler: any = () => {\n      dragHandleBackdropElement.style.display = \"none\";\n      document.removeEventListener(\"mousemove\", dragMoveHandler);\n      document.removeEventListener(\"mouseup\", dragStopHandler);\n\n      dragMoveHandler = undefined;\n      dragStopHandler = undefined;\n    };\n\n    document.addEventListener(\"mousemove\", dragMoveHandler);\n    document.addEventListener(\"mouseup\", dragStopHandler);\n  };\n\n  useEffect(() => {\n    const dragHandleElement = dragHandle.current!;\n\n    setAsideSize(initialSize);\n    fireDomEvent(initialSize);\n\n    const resizeHandler: any = () => {\n      const asideSize = getAsideSize();\n      const containerSize = getContainerSize();\n      const currentSize =\n        props.orientation === \"horizontal\"\n          ? props.mainPane === \"pane-a\"\n            ? getBottom(dragHandleElement) + getDragHandleOffset()\n            : getTop(dragHandleElement) + getDragHandleOffset()\n          : props.mainPane === \"pane-a\"\n          ? getRight(dragHandleElement) + getDragHandleOffset()\n          : getLeft(dragHandleElement) + getDragHandleOffset();\n\n      if (currentSize > 0 && containerSize - asideSize < minimumMainSize) {\n        const newSize = containerSize - minimumMainSize;\n\n        setAsideSize(newSize);\n        fireDomEvent(newSize);\n      } else {\n        fireDomEvent(persistedAsideSize);\n      }\n    };\n\n    window.addEventListener(\"resize\", resizeHandler);\n\n    return () => {\n      window.removeEventListener(\"resize\", resizeHandler);\n    };\n  });\n\n  return (\n    <Container orientation={props.orientation}>\n      {props.mainPane === \"pane-a\" ? (\n        <Pane isMain orientation={props.orientation}>\n          {props.paneAContent}\n        </Pane>\n      ) : (\n        <Pane ref={aside} size={initialSize} orientation={props.orientation}>\n          {props.paneAContent}\n        </Pane>\n      )}\n      {!props.asideCollapsed && props.showSeparator && <Separator />}\n      <DragHandle\n        ref={dragHandle}\n        orientation={props.orientation}\n        onMouseDown={dragStartHandler}\n      />\n      {props.mainPane === \"pane-b\" ? (\n        <Pane isMain orientation={props.orientation}>\n          {props.paneBContent}\n        </Pane>\n      ) : (\n        <Pane ref={aside} size={initialSize} orientation={props.orientation}>\n          {props.paneBContent}\n        </Pane>\n      )}\n      {createPortal(\n        <DragHandleBackdrop\n          ref={dragHandleBackdrop}\n          orientation={props.orientation}\n        />,\n        document.getElementById(\"components\")!\n      )}\n    </Container>\n  );\n});\n\nexport default Splitter;\n\ninterface OrientationProperties {\n  orientation: \"horizontal\" | \"vertical\";\n}\n\nconst Container = styled.div<OrientationProperties>`\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: ${(props) =>\n    props.orientation === \"horizontal\" ? \"column\" : \"row\"};\n`;\n\nconst DragHandle = styled.div<OrientationProperties>`\n  position: absolute;\n  z-index: 10;\n  ${(props) =>\n    props.orientation === \"horizontal\"\n      ? `\n        right: 0;\n        left: 0;\n        cursor: ns-resize;\n        height: 6px;\n      `\n      : `\n        top: 0;\n        bottom: 0;\n        cursor: ew-resize;\n        width: 6px;\n      `}\n`;\n\nconst DragHandleBackdrop = styled.div<OrientationProperties>`\n  display: none;\n  position: absolute;\n  z-index: 5;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: ${(props) =>\n    props.orientation === \"horizontal\" ? \"ns-resize\" : \"ew-resize\"};\n`;\n\ninterface PaneProperties extends OrientationProperties {\n  isMain?: boolean;\n  size?: number;\n}\n\nconst Pane = styled.div<PaneProperties>`\n  display: ${(props) => (!props.isMain && props.size === 0 ? \"none\" : \"flex\")};\n  ${(props) =>\n    props.isMain\n      ? `\n        flex: 1 1 auto;\n      `\n      : props.size\n      ? `\n        flex: 0 0 ${props.size}px;\n      `\n      : `\n        flex: 0 0 auto;\n      `}\n`;\n\nconst Separator = styled.div`\n  flex: 0 0 1px;\n  background: ${(props) => props.theme.contentBorder};\n`;\n","enum SplitterIds {\n  Document = \"document\",\n  DocumentContent = \"document-content\",\n  DocumentHeader = \"document-header\",\n  Main = \"main\",\n  Preferences = \"preferences\",\n  Results = \"results\",\n  Schema = \"schema\",\n  SchemaContent = \"schema-content\"\n}\n\nexport default SplitterIds;\n","import React, { FunctionComponent, memo, ReactNode } from \"react\";\nimport Splitter from \"./Splitter\";\nimport SplitterIds from \"./SplitterIds\";\n\ninterface HorizontalSplitterProperties {\n  id: SplitterIds;\n  asideCollapsable?: boolean;\n  asideCollapsed?: boolean;\n  asideHeight?: number;\n  bottomContent: ReactNode;\n  mainPane: \"bottom\" | \"top\";\n  onAsideHeightChange?: (height: number) => void;\n  onAsideCollapsedChange?: (collapsed: boolean) => void;\n  topContent: ReactNode;\n  showSeparator?: boolean;\n}\n\nconst HorizontalSplitter: FunctionComponent<\n  HorizontalSplitterProperties\n> = memo(props => {\n  return (\n    <Splitter\n      id={props.id}\n      asideCollapsable={props.asideCollapsable}\n      asideCollapsed={props.asideCollapsed}\n      asideSize={props.asideHeight}\n      mainPane={props.mainPane === \"top\" ? \"pane-a\" : \"pane-b\"}\n      onAsideSizeChange={props.onAsideHeightChange}\n      onAsideCollapsedChange={props.onAsideCollapsedChange}\n      orientation=\"horizontal\"\n      paneAContent={props.topContent}\n      paneBContent={props.bottomContent}\n      showSeparator={props.showSeparator}\n    />\n  );\n});\n\nexport default HorizontalSplitter;\n","import React, { FunctionComponent, memo, ReactNode } from \"react\";\nimport Splitter from \"./Splitter\";\nimport SplitterIds from \"./SplitterIds\";\n\ninterface VerticalSplitterProperties {\n  id: SplitterIds;\n  asideCollapsable?: boolean;\n  asideCollapsed?: boolean;\n  asideWidth?: number;\n  leftContent: ReactNode;\n  mainPane: \"left\" | \"right\";\n  onAsideWidthChange?: (width: number) => void;\n  onAsideCollapsedChange?: (collapsed: boolean) => void;\n  rightContent: ReactNode;\n  showSeparator?: boolean;\n}\n\nconst VerticalSplitter: FunctionComponent<VerticalSplitterProperties> = memo(\n  props => {\n    return (\n      <Splitter\n        id={props.id}\n        asideCollapsable={props.asideCollapsable}\n        asideCollapsed={props.asideCollapsed}\n        asideSize={props.asideWidth}\n        mainPane={props.mainPane === \"left\" ? \"pane-a\" : \"pane-b\"}\n        onAsideSizeChange={props.onAsideWidthChange}\n        onAsideCollapsedChange={props.onAsideCollapsedChange}\n        orientation=\"vertical\"\n        paneAContent={props.leftContent}\n        paneBContent={props.rightContent}\n        showSeparator={props.showSeparator}\n      />\n    );\n  }\n);\n\nexport default VerticalSplitter;\n","import styled from \"@bcp/main/styled\";\n\nconst Content = styled.main`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n\nexport default Content;\n","export function createVirtualScrolling<Target extends HTMLElement>(\n  target: Target,\n  orientation: \"horizontal\" | \"vertical\" = \"horizontal\"\n) {\n  target.addEventListener(\"wheel\", scrollHandler, { passive: false });\n  window.addEventListener(\"resize\", resizeHandler);\n\n  function normalizeWheelDelta(e: WheelEvent): number {\n    if (\n      (orientation === \"horizontal\" && e.deltaY === 0) ||\n      (orientation === \"vertical\" && e.deltaX !== 0)\n    ) {\n      return e.deltaX;\n    } else {\n      return e.deltaY;\n    }\n  }\n\n  function resizeHandler() {\n    // TODO: scroll to active\n  }\n\n  function scrollHandler(e: WheelEvent) {\n    e.preventDefault();\n\n    const delta = normalizeWheelDelta(e);\n\n    if (orientation === \"horizontal\") {\n      target.scrollTop += delta;\n    } else {\n      target.scrollLeft += delta;\n    }\n  }\n\n  return () => {\n    target.removeEventListener(\"wheel\", scrollHandler);\n    window.removeEventListener(\"resize\", resizeHandler);\n  };\n}\n","import React, { FunctionComponent, memo, ReactNode } from \"react\";\nimport { Item as UnstyledItem } from \"react-contexify\";\nimport { MenuItemEventHandler } from \"react-contexify/lib/types\";\nimport styled from \"@bcp/main/styled\";\n\ninterface ItemProperties {\n  children: ReactNode;\n  disabled?: boolean | ((args: MenuItemEventHandler) => boolean);\n  onClick: (args: MenuItemEventHandler) => any;\n}\n\nconst Item: FunctionComponent<ItemProperties> = memo((props) => {\n  return <StyledItem {...props} />;\n});\n\nexport default Item;\n\nconst StyledItem = styled(UnstyledItem)<ItemProperties>`\n  position: relative;\n  color: ${(props) =>\n    props.disabled\n      ? props.theme.contextMenuBorder\n      : props.theme.contextMenuText};\n  cursor: pointer;\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    color: ${(props) =>\n      props.disabled\n        ? props.theme.contextMenuBorder\n        : props.theme.contextMenuItemTextActive};\n    background-color: ${(props) =>\n      props.disabled ? \"transparent\" : props.theme.contextMenuItemBgActive};\n    ${(props) =>\n      !props.disabled &&\n      `\n      & > .react-contexify__submenu {\n        pointer-events: initial;\n        opacity: 1;\n      }\n    `}\n  }\n\n  & > .react-contexify__item__content {\n    position: relative;\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: row;\n    padding: 6px 12px;\n    white-space: nowrap;\n  }\n\n  & > .react-contexify__submenu {\n    position: absolute;\n    top: 0;\n    pointer-events: none;\n    transition: opacity 0.2s ease;\n  }\n`;\n","import React, { FunctionComponent, memo, ReactNode } from \"react\";\nimport { Menu as UnstyledMenu } from \"react-contexify\";\nimport { MenuId } from \"react-contexify/lib/types\";\nimport styled from \"@bcp/main/styled\";\n\ninterface MenuProperties {\n  id: MenuId;\n  children: ReactNode;\n  onShown?: () => void;\n  onHidden?: () => void;\n}\n\nconst Menu: FunctionComponent<MenuProperties> = memo((props) => {\n  return <StyledMenu {...props} />;\n});\n\nexport default Menu;\n\nconst StyledMenu = styled(UnstyledMenu)<MenuProperties>`\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  z-index: 2;\n  box-sizing: border-box;\n  border: 1px solid ${(props) => props.theme.contextMenuBorder};\n  min-width: 180px;\n  opacity: 0;\n  user-select: none;\n  background-color: ${(props) => props.theme.contextMenuBg};\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.4);\n`;\n","enum MenuIds {\n  Collection = \"collection\",\n  Document = \"document\",\n  Tabs = \"tabs\"\n}\n\nexport default MenuIds;\n","import styled from \"@bcp/main/styled\";\n\nconst Footer = styled.footer`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n  border-top: 1px solid ${(props) => props.theme.contentBorder};\n  background-color: ${(props) => props.theme.mainBgColor};\n`;\n\nexport default Footer;\n","import styled from \"@bcp/main/styled\";\n\nconst FooterContent = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  background-color: ${(props) => props.theme.mainBgColor};\n`;\n\nexport default FooterContent;\n","import { DocumentTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function getVariables(tab: DocumentTab): string | undefined {\n  const set = tab.draft.variableSets.find(\n    (s) => s.id === tab.draft.selectedVariableSetId\n  );\n\n  return set && set.variables;\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"@bcp/main/styled\";\n\ninterface IconProperties {\n  color?: \"blue\" | \"green\" | \"red\" | \"yellow\";\n}\n\nconst Icon = styled(FontAwesomeIcon)<IconProperties>`\n  ${(props) => props.color && `color: ${props.theme[props.color]};`}\n`;\n\nexport default Icon;\n","import styled from \"@bcp/main/styled\";\n\nconst Info = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  justify-content: center;\n  align-self: center;\n  padding: 0 20px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default Info;\n","import styled from \"@bcp/main/styled\";\n\nconst OperationIconBase = styled.div`\n  display: flex;\n  flex: 0 0 12px;\n  align-items: center;\n  justify-content: center;\n  height: 12px;\n  color: ${(props) => props.theme.sideBarBg};\n  font-size: 11px;\n  line-height: 14px;\n  font-weight: bold;\n  text-align: center;\n  border-radius: 2px;\n`;\n\nexport default OperationIconBase;\n","import styled from \"@bcp/main/styled\";\nimport OperationIconBase from \"./OperationIconBase\";\n\nconst Mutation = styled(OperationIconBase)`\n  border: 1px solid ${(props) => props.theme.red};\n  color: ${(props) => props.theme.red};\n\n  &::before {\n    content: \"M\";\n  }\n`;\n\nexport default Mutation;\n","import styled from \"@bcp/main/styled\";\nimport OperationIconBase from \"./OperationIconBase\";\n\nconst Query = styled(OperationIconBase)`\n  border: 1px solid ${(props) => props.theme.blue};\n  color: ${(props) => props.theme.blue};\n\n  &::before {\n    content: \"Q\";\n  }\n`;\n\nexport default Query;\n","import styled from \"@bcp/main/styled\";\nimport OperationIconBase from \"./OperationIconBase\";\n\nconst Subscription = styled(OperationIconBase)`\n  border: 1px solid ${(props) => props.theme.green};\n  color: ${(props) => props.theme.green};\n\n  &::before {\n    content: \"S\";\n  }\n`;\n\nexport default Subscription;\n","import styled from \"@bcp/main/styled\";\n\nconst EditorContainer = styled.div`\n  flex: 1 1 auto;\n  height: 100%;\n\n  * {\n    font-family: \"Fira Code\", Menlo, Monaco, Consolas, \"Courier New\", monospace;\n    font-weight: 500;\n    overflow: initial;\n    user-select: initial;\n  }\n`;\n\nexport default EditorContainer;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Position = /*#__PURE__*/function () {\n  function Position(line, character) {\n    _classCallCheck(this, Position);\n\n    this.line = line;\n    this.character = character;\n  }\n\n  _createClass(Position, [{\n    key: \"lessThanOrEqualTo\",\n    value: function lessThanOrEqualTo(position) {\n      return this.line < position.line || this.line === position.line && this.character <= position.character;\n    }\n  }]);\n\n  return Position;\n}();\n\nexport { Position as default };","import { languageService } from \"@bcp/main/services\";\nimport { Position } from \"@bcp/shared/language-service\";\nimport { SchemaInfo } from \"@bcp/shared/messaging/messages\";\nimport { languages } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { CompletionItem } from \"vscode-languageserver-types\";\n\nexport default function registerCompletionItemProvider(\n  schemaInfo?: SchemaInfo\n) {\n  return languages.registerCompletionItemProvider(\"graphql\", {\n    provideCompletionItems: async (model, position) => {\n      if (!schemaInfo || !schemaInfo.exists) {\n        return {\n          suggestions: [],\n        };\n      }\n\n      const rawSuggestions: CompletionItem[] = await languageService.getCompletionItems(\n        model.getValue(),\n        new Position(position.lineNumber - 1, position.column - 1)\n      );\n\n      const suggestions = rawSuggestions.map(\n        ({ label, kind, detail, documentation }) =>\n          ({\n            label,\n            kind,\n            detail,\n            documentation,\n            insertText: label,\n          } as languages.CompletionItem)\n      );\n\n      return {\n        suggestions,\n      };\n    },\n  });\n}\n","import { parse } from \"graphql\";\nimport { consoleLogService, documentCache } from \"@bcp/main/services\";\n\nexport default function tryParseAndCacheDocument(\n  documentId: string,\n  content: string,\n  writeErrors?: boolean\n) {\n  if (content.length > 0) {\n    try {\n      documentCache.set(parse(content));\n\n      return true;\n    } catch (error) {\n      documentCache.delete();\n\n      if (writeErrors) {\n        consoleLogService.error(\n          documentId,\n          \"The Document couldn't be parsed. Please go to the query editor and fix syntax issues.\",\n          error\n        );\n      }\n\n      return false;\n    }\n  }\n\n  return false;\n}\n","import { consoleLogService, httpHeadersCache } from \"@bcp/main/services\";\n\nexport default function tryParseAndCacheHttpHeaders(\n  documentId: string,\n  content?: string,\n  writeErrors?: boolean\n) {\n  if (content && content.length > 0) {\n    try {\n      httpHeadersCache.set(JSON.parse(content));\n    } catch (error) {\n      httpHeadersCache.delete();\n\n      if (writeErrors) {\n        consoleLogService.error(\n          documentId,\n          \"HTTP headers couldn't be parsed. Please go to the HTTP header editor and fix syntax issues.\",\n          error\n        );\n      }\n\n      return false;\n    }\n  } else {\n    httpHeadersCache.delete();\n  }\n\n  return true;\n}\n","import { consoleLogService, variablesCache } from \"@bcp/main/services\";\n\nexport default function tryParseAndCacheVariables(\n  documentId: string,\n  content?: string,\n  writeErrors?: boolean\n) {\n  if (content && content.length > 0) {\n    try {\n      variablesCache.set(JSON.parse(content));\n    } catch (error) {\n      variablesCache.delete();\n\n      if (writeErrors) {\n        consoleLogService.error(\n          documentId,\n          \"Variables couldn't be parsed. Please go to the variable editor and fix syntax issues.\",\n          error\n        );\n      }\n\n      return false;\n    }\n  } else {\n    variablesCache.delete();\n  }\n\n  return true;\n}\n","import { operationExecuter } from \"@bcp/main/services\";\nimport store, { activeTab } from \"@bcp/main/state\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport getVariables from \"./getVariables\";\nimport tryParseAndCacheDocument from \"./tryParseAndCacheDocument\";\nimport tryParseAndCacheHttpHeaders from \"./tryParseAndCacheHttpHeaders\";\nimport tryParseAndCacheVariables from \"./tryParseAndCacheVariables\";\n\nexport default function tryExecuteOperation(operationName?: string) {\n  const tab = store.current(activeTab);\n\n  if (isDocumentOrHistoryTab(tab)) {\n    const variables = getVariables(tab);\n\n    if (\n      tryParseAndCacheHttpHeaders(tab.id, tab.draft.httpHeaders, true) &&\n      tryParseAndCacheVariables(tab.id, variables, true) &&\n      tryParseAndCacheDocument(tab.id, tab.draft.document, true)\n    ) {\n      operationExecuter.execute(operationName);\n\n      // TODO: Is that still needed?\n      // if (operationExecuter.isSubscription) {\n      //   store.dispatch(runSubscription);\n      // }\n    }\n  }\n}\n","import {\n  editor as Editor,\n  languages,\n} from \"monaco-editor/esm/vs/editor/editor.api\";\nimport tryExecuteOperation from \"../tryExecuteOperation\";\n\nexport default function registerExecuteCodelensProvider(\n  editor: Editor.IStandaloneCodeEditor\n) {\n  const createCommand = (match: Editor.FindMatch) => {\n    return editor.addCommand(-1, async () => {\n      if (match.matches && match.matches.length === 3) {\n        tryExecuteOperation(match.matches[2]);\n      }\n    })!;\n  };\n\n  return languages.registerCodeLensProvider(\"graphql\", {\n    provideCodeLenses: (model) => {\n      const matches = model\n        .findMatches(\n          \".*(mutation|query|subscription){1}\\\\s*([_a-zA-Z][_a-zA-Z0-9]*){1}\",\n          true,\n          true,\n          true,\n          null,\n          true\n        )\n        .filter(\n          (m) =>\n            m.matches &&\n            m.matches.length === 3 &&\n            !/#.*(mutation|query|subscription)/.test(m.matches[0])\n        );\n\n      if (matches.length > 0) {\n        return {\n          lenses: matches.map((m) => ({\n            command: {\n              id: createCommand(m),\n              title: \"Execute\",\n            },\n            range: m.range,\n          })),\n          dispose: () => {},\n        };\n      }\n\n      return {\n        lenses: [],\n        dispose: () => {},\n      };\n    },\n  });\n}\n","import { languages } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { Position } from \"@bcp/shared/language-service\";\nimport { SchemaInfo } from \"@bcp/shared/messaging/messages\";\nimport { languageService } from \"@bcp/main/services\";\n\nexport default function registerHoverProvider(schemaInfo?: SchemaInfo) {\n  return languages.registerHoverProvider(\"graphql\", {\n    provideHover: async (model, position) => {\n      if (!schemaInfo || !schemaInfo.exists) {\n        return {\n          contents: [],\n        };\n      }\n\n      const content = await languageService.getHoverInformation(\n        model.getValue(),\n        new Position(position.lineNumber - 1, position.column - 1)\n      );\n\n      if (!content) {\n        return undefined;\n      }\n\n      if (Array.isArray(content)) {\n        return {\n          contents: content.map((ms) => ({\n            value: typeof ms === \"string\" ? ms : ms.value,\n          })),\n        };\n      }\n\n      return {\n        contents: [\n          {\n            value: typeof content === \"string\" ? content : content.value,\n          },\n        ],\n      };\n    },\n  });\n}\n","import \"monaco-editor/esm/vs/basic-languages/graphql/graphql.contribution\";\nimport { debounce } from \"@bcp/main/utils\";\nimport { SchemaInfo } from \"@bcp/shared/messaging/messages\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport QueryEditorProperties from \"./QueryEditorProperties\";\nimport { languageService } from \"@bcp/main/services\";\n\nexport default function useModel(\n  props: QueryEditorProperties,\n  schemaInfo?: SchemaInfo\n) {\n  const model = useRef<Editor.ITextModel>(Editor.createModel(\"\", \"graphql\"));\n  const { content, onContentChange } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const emitContentChange = debounce<Editor.ITextModel>((m) => {\n      onContentChange && onContentChange(m.getValue());\n    });\n\n    if (model.current.getValue() !== content) {\n      model.current.setValue(content || \"\");\n    }\n\n    const subscription = model.current.onDidChangeContent(() => {\n      emitContentChange(model.current);\n    });\n\n    return () => {\n      subscription.dispose();\n    };\n  }, [model, content, onContentChange]);\n\n  useEffect(() => {\n    const triggerValidation = debounce<Editor.ITextModel>(async (m) => {\n      await validate(m);\n    }, 500);\n\n    triggerValidation(model.current);\n\n    const subscription = model.current.onDidChangeContent(() => {\n      triggerValidation(model.current);\n    });\n\n    return () => {\n      subscription.dispose();\n    };\n  }, [model, schemaInfo]);\n\n  return model.current;\n}\n\nasync function validate(model: Editor.ITextModel) {\n  try {\n    const markerData: Editor.IMarkerData[] = await languageService.getDiagnostics(\n      model.getValue()\n    );\n\n    Editor.setModelMarkers(model, \"graphql\", markerData);\n  } catch (e) {\n    // TODO: Show errors\n  }\n}\n","import React, { FunctionComponent, memo } from \"react\";\nimport EditorContainer from \"../EditorContainer\";\nimport QueryEditorProperties from \"./QueryEditorProperties\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\nimport useSchemaInfo from \"./useSchemaInfo\";\n\nconst QueryEditor: FunctionComponent<QueryEditorProperties> = memo(props => {\n  const schemaInfo = useSchemaInfo();\n  const model = useModel(props, schemaInfo);\n  const editor = useEditor(model, schemaInfo);\n\n  return <EditorContainer ref={editor} />;\n});\n\nexport default QueryEditor;\n","import store, { activeSchemaEndpoint } from \"@bcp/main/state\";\nimport { schemaWorkerClient } from \"@bcp/main/workers/schema.worker\";\nimport { SchemaInfo } from \"@bcp/shared/messaging\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useSchemaInfo() {\n  const [schema, updateSchema] = useState<SchemaInfo | undefined>(undefined);\n\n  useEffect(() => {\n    let dispose: (() => void) | undefined;\n\n    const subscription = store\n      .select(activeSchemaEndpoint)\n      .subscribe((endpoint) => {\n        if (dispose) {\n          dispose();\n        }\n\n        dispose = schemaWorkerClient.registerReceiveMessageHandler<SchemaInfo>(\n          \"schema-update\",\n          ({ payload }) => {\n            if (endpoint === payload.endpoint) {\n              updateSchema(payload);\n            }\n          }\n        );\n      });\n\n    return () => {\n      subscription.unsubscribe();\n\n      if (dispose) {\n        dispose();\n      }\n    };\n  }, []);\n\n  return schema;\n}\n","import {\n  editor as Editor,\n  IDisposable,\n  KeyCode,\n} from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport { SchemaInfo } from \"@bcp/shared/messaging/messages\";\nimport registerCompletionItemProvider from \"./registerCompletionItemProvider\";\nimport registerDocumentFormattingEditProvider from \"./registerDocumentFormattingEditProvider\";\nimport registerExecuteCodelensProvider from \"./registerExecuteCodelensProvider\";\nimport registerHoverProvider from \"./registerHoverProvider\";\n\nexport default function useEditor(\n  model: Editor.ITextModel,\n  schemaInfo?: SchemaInfo\n) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n    const subscriptions: IDisposable[] = [\n      registerCompletionItemProvider(schemaInfo),\n      registerDocumentFormattingEditProvider(),\n      registerExecuteCodelensProvider(editor),\n      registerHoverProvider(schemaInfo),\n    ];\n\n    editor.onKeyUp((e) => {\n      if (\n        !e.altKey &&\n        !e.ctrlKey &&\n        !e.metaKey &&\n        e.shiftKey &&\n        e.keyCode === KeyCode.KEY_8\n      ) {\n        editor.trigger(\"editor\", \"editor.action.triggerSuggest\", null);\n      }\n    });\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      if (\n        editor.getLayoutInfo().width !== rect.width ||\n        editor.getLayoutInfo().height !== rect.height\n      ) {\n        editor.layout({\n          width: rect.width,\n          height: rect.height,\n        });\n      }\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      subscriptions.forEach((s) => s.dispose());\n      editor.dispose();\n    };\n  }, [model, schemaInfo]);\n\n  return ref;\n}\n","import { languages } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { prettifyGraphQL } from \"@bcp/main/utils\";\n\n// TODO: move into language service\n\nexport default function registerDocumentFormattingEditProvider() {\n  return languages.registerDocumentFormattingEditProvider(\"graphql\", {\n    provideDocumentFormattingEdits: (model, formattingOptions) => {\n      const range = model.getFullModelRange();\n      const options = {\n        printWidth: 80,\n        tabWidth: formattingOptions.tabSize,\n        useTabs: !formattingOptions.insertSpaces,\n      };\n      const text = prettifyGraphQL(model.getValue(), options);\n\n      return [\n        {\n          range,\n          text,\n        },\n      ];\n    },\n  });\n}\n","import { languages, Uri } from \"monaco-editor/esm/vs/editor/editor.api\";\n\ninterface JsonSchema {\n  uri: string;\n  schema: any;\n}\n\nexport default function registerEditorSchema(\n  modelUri: Uri,\n  schemas: JsonSchema[]\n) {\n  const { diagnosticsOptions } = languages.json.jsonDefaults;\n  const options = {\n    ...diagnosticsOptions,\n    validate: true,\n    schemas: diagnosticsOptions.schemas || [],\n  };\n\n  for (let { schema, uri } of schemas) {\n    if (!options.schemas.some((s) => s.uri === uri)) {\n      options.schemas.push({\n        uri,\n        fileMatch: [modelUri.toString()],\n        schema,\n      });\n    }\n  }\n\n  languages.json.jsonDefaults.setDiagnosticsOptions(options);\n\n  return () => {\n    for (let { uri } of schemas) {\n      const schema = options.schemas.find((s) => s.uri === uri);\n\n      if (schema) {\n        const index = options.schemas.indexOf(schema);\n\n        if (index !== -1) {\n          options.schemas.splice(index, 1);\n        }\n      }\n    }\n\n    languages.json.jsonDefaults.setDiagnosticsOptions(options);\n  };\n}\n","import \"monaco-editor/esm/vs/language/json/monaco.contribution\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport EditorContainer from \"../EditorContainer\";\nimport ResultEditorProperties from \"./ResultEditorProperties\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\n\nconst ResultEditor: FunctionComponent<ResultEditorProperties> = memo(\n  (props) => {\n    const model = useModel(props);\n    const editor = useEditor(model);\n\n    return <EditorContainer ref={editor} />;\n  }\n);\n\nexport default ResultEditor;\n","import { useEffect, useRef } from \"react\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\n\nexport default function useEditor(model: Editor.ITextModel) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      readOnly: true,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n    const subscription = editor.onDidChangeModelContent((e) => {\n      editor.setScrollPosition({ scrollLeft: 0, scrollTop: 0 });\n    });\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      editor.layout({\n        width: rect.width,\n        height: rect.height,\n      });\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      subscription.dispose();\n      editor.dispose();\n    };\n  }, [model]);\n\n  return ref;\n}\n","import { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport { resultCache } from \"@bcp/main/services\";\nimport store, { showTracingExtension } from \"@bcp/main/state\";\nimport ResultEditorProperties from \"./ResultEditorProperties\";\n\nexport default function useModel(props: ResultEditorProperties) {\n  const model = useRef<Editor.ITextModel>(Editor.createModel(\"\", \"json\"));\n  const { id } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const subscription = resultCache.subscribeToSelected(id, (result) => {\n      const showTracing = store.current(showTracingExtension) || false;\n      let response =\n        (result?.payload &&\n          (\"request\" in result.payload\n            ? result.payload.response.parsedBody\n            : result.payload.raw)) ||\n        undefined;\n\n      if (!showTracing && response?.extensions?.tracing) {\n        response = { ...response };\n        response.extensions = { ...response.extensions };\n        delete response.extensions.tracing;\n      }\n\n      if (\n        response?.extensions &&\n        Object.keys(response.extensions).length === 0\n      ) {\n        delete response.extensions;\n      }\n\n      const value = (response && JSON.stringify(response, null, 2)) || \"\";\n\n      model.current.setValue(value);\n    });\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [id]);\n\n  return model.current;\n}\n","import { useEffect, useRef } from \"react\";\n\nexport default function useHeaderShadow<\n  ContentElement extends HTMLElement,\n  HeaderElement extends HTMLElement\n>() {\n  const content = useRef<ContentElement>(null);\n  const header = useRef<HeaderElement>(null);\n\n  useEffect(() => {\n    const contentElement = content.current!;\n    const headerElement = header.current!;\n\n    const scrollHandler: any = (e: UIEvent) => {\n      if (\n        contentElement.scrollTop !== 0 &&\n        headerElement.style.boxShadow === \"\"\n      ) {\n        headerElement.style.boxShadow = \"0px 1px 3px 0px rgba(0,0,0,0.3)\";\n      } else if (\n        contentElement.scrollTop === 0 &&\n        headerElement.style.boxShadow !== \"\"\n      ) {\n        headerElement.style.boxShadow = \"\";\n      }\n    };\n\n    contentElement.addEventListener(\"scroll\", scrollHandler);\n\n    return () => {\n      contentElement.removeEventListener(\"scroll\", scrollHandler);\n    };\n  }, []);\n\n  return [content, header];\n}\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconProperties, { IconSize } from \"./IconProperties\";\n\nconst IconContainer: FunctionComponent<\n  IconProperties & {\n    defaultColor: string;\n    children: (color: string) => JSX.Element;\n  }\n> = memo(({ children, color, defaultColor, size, theme }) => {\n  const calculatedSize = calculateSize(size);\n  let calculatedColor = defaultColor;\n\n  if (color) {\n    if (typeof color === \"string\") {\n      calculatedColor = color;\n    } else {\n      calculatedColor = color(theme);\n    }\n  }\n\n  return (\n    <svg\n      width={calculatedSize}\n      height={calculatedSize}\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      {children(calculatedColor)}\n    </svg>\n  );\n});\n\nexport default withTheme(IconContainer);\n\nfunction calculateSize(size?: IconSize) {\n  switch (size) {\n    case \"x2\":\n      return 24;\n\n    case \"x3\":\n      return 32;\n\n    default:\n      return 16;\n  }\n}\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ArrowLeftIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M5.99999 3.29291L1 8.29289L1 9L5.99999 14L6.7071 13.2929L2.56066 9.14645L14.7678 9.14645L14.7678 8.14645L2.56066 8.14646L6.7071 4.00002L5.99999 3.29291Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ArrowLeftIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ArrowRightIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M10 13.7071L15 8.70711L15 8L10 3L9.2929 3.70711L13.4393 7.85355L1.23224 7.85355L1.23224 8.85355L13.4393 8.85355L9.2929 13L10 13.7071Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ArrowRightIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst BookIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M14.5 2H9L8.65002 2.15002L8 2.79004L7.34998 2.15002L7 2H1.5L1 2.5V12.5L1.5 13H6.78998L7.65002 13.85H8.34998L9.21002 13H14.5L15 12.5V2.5L14.5 2ZM7.5 12.3199L7.32001 12.15L7 12H2V3H6.78998L7.53003 3.73999L7.5 12.3199ZM14 12H9L8.65002 12.15L8.51001 12.28V3.69995L9.21002 3H14V12ZM6 5H3V6H6V5ZM6 9H3V10H6V9ZM3 7H6V8H3V7ZM13 5H10V6H13V5ZM10 7H13V8H10V7ZM10 9H13V10H10V9Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(BookIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CalendarIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M14.5 2H13V1H12V2H4V1H3V2H1.5L1 2.5V14.5L1.5 15H14.5L15 14.5V2.5L14.5 2ZM14 14H2V5H14V14ZM14 4H2V3H14V4ZM4 8H3V9H4V8ZM3 10H4V11H3V10ZM4 12H3V13H4V12ZM6 8H7V9H6V8ZM7 10H6V11H7V10ZM6 12H7V13H6V12ZM7 6H6V7H7V6ZM9 8H10V9H9V8ZM10 10H9V11H10V10ZM9 12H10V13H9V12ZM10 6H9V7H10V6ZM12 8H13V9H12V8ZM13 10H12V11H13V10ZM12 6H13V7H12V6Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CalendarIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ChevronDownIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M7.976 10.0719L12.3333 5.7146L12.952 6.33332L8.28536 11L7.66664 11L2.99997 6.33332L3.61869 5.7146L7.976 10.0719Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ChevronDownIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ChevronRightIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M5.7 13.7L5 13L9.6 8.4L5 3.7L5.7 3L10.7 8V8.7L5.7 13.7Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ChevronRightIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ChevronUpIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M8 6.04042L3.02022 11.0202L2.31311 10.3131L7.64644 4.97976L8.35355 4.97976L13.6869 10.3131L12.9798 11.0202L8 6.04042Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ChevronUpIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CircleSlashIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M8 1C9.38447 1 10.7378 1.41054 11.889 2.17971C13.0401 2.94888 13.9373 4.04213 14.4672 5.32122C14.997 6.6003 15.1356 8.00776 14.8655 9.36563C14.5954 10.7235 13.9287 11.9708 12.9497 12.9497C11.9708 13.9287 10.7235 14.5954 9.36563 14.8655C8.00776 15.1356 6.6003 14.997 5.32121 14.4672C4.04213 13.9373 2.94888 13.0401 2.17971 11.889C1.41054 10.7378 0.999997 9.38447 0.999997 8C1.00211 6.14413 1.74029 4.36489 3.05259 3.05259C4.36488 1.7403 6.14413 1.00212 8 1ZM2 8C1.99922 9.41814 2.50371 10.7902 3.423 11.87L11.87 3.423C10.9975 2.68282 9.93139 2.20787 8.7976 2.05426C7.66381 1.90065 6.50974 2.0748 5.47177 2.55614C4.43379 3.03748 3.55529 3.80588 2.94008 4.77056C2.32487 5.73523 1.99866 6.85585 2 8ZM14 8C14.0008 6.58186 13.4963 5.20983 12.577 4.13L4.13 12.577C5.00248 13.3172 6.0686 13.7921 7.20239 13.9457C8.33618 14.0994 9.49025 13.9252 10.5282 13.4439C11.5662 12.9625 12.4447 12.1941 13.0599 11.2294C13.6751 10.2648 14.0013 9.14415 14 8Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CircleSlashIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CloseIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M7.99998 8.70708L11.6464 12.3535L12.3535 11.6464L8.70708 7.99998L12.3535 4.35353L11.6464 3.64642L7.99998 7.29287L4.35353 3.64642L3.64642 4.35353L7.29287 7.99998L3.64642 11.6464L4.35353 12.3535L7.99998 8.70708Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CloseIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CloudDownloadIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M11.9565 6H12.0064C12.8004 6 13.5618 6.31607 14.1232 6.87868C14.6846 7.44129 15 8.20435 15 9C15 9.79565 14.6846 10.5587 14.1232 11.1213C13.5618 11.6839 12.8004 12 12.0064 12V11C12.5357 11 13.0434 10.7893 13.4176 10.4142C13.7919 10.0391 14.0021 9.53044 14.0021 9C14.0021 8.46957 13.7919 7.96086 13.4176 7.58579C13.0434 7.21072 12.5357 7 12.0064 7H11.0924L10.9687 6.143C10.8938 5.60541 10.6456 5.10711 10.2618 4.72407C9.87801 4.34103 9.37977 4.09427 8.84303 4.02143C8.30629 3.94859 7.76051 4.05365 7.2889 4.3206C6.81729 4.58754 6.44573 5.00173 6.23087 5.5L5.89759 6.262L5.08933 6.073C4.90382 6.02699 4.71364 6.0025 4.52255 6C3.86093 6 3.22641 6.2634 2.75858 6.73224C2.29075 7.20108 2.02792 7.83696 2.02792 8.5C2.02792 9.16304 2.29075 9.79893 2.75858 10.2678C3.22641 10.7366 3.86093 11 4.52255 11H5.02148V12H4.52255C4.02745 12.0043 3.5371 11.903 3.08403 11.7029C2.63096 11.5028 2.22553 11.2084 1.89461 10.8394C1.5637 10.4703 1.31488 10.0349 1.16465 9.56211C1.01442 9.08932 0.966217 8.58992 1.02324 8.09704C1.08026 7.60416 1.24121 7.12906 1.4954 6.70326C1.74959 6.27745 2.09121 5.91068 2.49762 5.62727C2.90402 5.34385 3.36591 5.15027 3.85264 5.05937C4.33938 4.96847 4.83984 4.98232 5.32083 5.1C5.6241 4.40501 6.14511 3.82799 6.80496 3.45635C7.4648 3.08472 8.22753 2.9387 8.9776 3.04044C9.72768 3.14217 10.4242 3.4861 10.9618 4.02014C11.4993 4.55418 11.8485 5.24923 11.9565 6ZM6.70719 11.1214L8.0212 12.4354V7H9.01506V12.3992L10.2929 11.1214L11 11.8285L8.85356 13.9749H8.14645L6.00008 11.8285L6.70719 11.1214Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CloudDownloadIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CodeIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M4.708 5.578L2.061 8.224L4.708 10.87L4 11.578L1 8.578V7.87L4 4.87L4.708 5.578ZM11.708 4.87L11 5.578L13.647 8.224L11 10.87L11.708 11.578L14.708 8.578V7.87L11.708 4.87ZM4.908 13L5.802 13.448L10.802 3.448L9.908 3L4.908 13Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CodeIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst CloudUploadIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M11.9564 6H12.0063C12.8003 6 13.5617 6.31607 14.1231 6.87868C14.6845 7.44129 14.9999 8.20435 14.9999 9C14.9999 9.79565 14.6845 10.5587 14.1231 11.1213C13.5617 11.6839 12.8003 12 12.0063 12H10.0106V11H12.0063C12.5356 11 13.0432 10.7893 13.4175 10.4142C13.7918 10.0391 14.002 9.53044 14.002 9C14.002 8.46957 13.7918 7.96086 13.4175 7.58579C13.0432 7.21072 12.5356 7 12.0063 7H11.0923L10.9686 6.143C10.8937 5.60541 10.6455 5.10711 10.2617 4.72407C9.87792 4.34103 9.37968 4.09427 8.84295 4.02143C8.30621 3.94859 7.76044 4.05365 7.28883 4.3206C6.81723 4.58754 6.44567 5.00173 6.23082 5.5L5.89754 6.262L5.08929 6.073C4.90378 6.02699 4.71361 6.0025 4.52251 6C3.8609 6 3.22639 6.2634 2.75856 6.73224C2.29073 7.20108 2.02791 7.83696 2.02791 8.5C2.02791 9.16304 2.29073 9.79893 2.75856 10.2678C3.22639 10.7366 3.8609 11 4.52251 11H7.01712V12H4.52251C4.02742 12.0043 3.53708 11.903 3.08401 11.7029C2.63095 11.5028 2.22551 11.2084 1.8946 10.8394C1.56369 10.4703 1.31487 10.0349 1.16465 9.56211C1.01442 9.08932 0.966218 8.58992 1.02324 8.09704C1.08026 7.60416 1.24121 7.12906 1.49539 6.70326C1.74958 6.27745 2.0912 5.91068 2.4976 5.62727C2.904 5.34385 3.36588 5.15027 3.85261 5.05937C4.33935 4.96847 4.8398 4.98232 5.32079 5.1C5.62405 4.40501 6.14506 3.82799 6.8049 3.45635C7.46474 3.08472 8.22745 2.9387 8.97752 3.04044C9.72759 3.14217 10.4241 3.4861 10.9617 4.02014C11.4992 4.55418 11.8484 5.24923 11.9564 6ZM10.2928 9.85348L8.97879 8.53944L8.97879 13.9749H7.98492L7.98493 8.57568L6.7071 9.85347L5.99999 9.14636L8.14643 6.99998H8.85354L10.9999 9.14637L10.2928 9.85348Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(CloudUploadIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ConsoleIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M1 1H15V15H1V1ZM2 14H14V2H2V14ZM4.00008 5.70709L4.70718 4.99999L8.24272 8.53552L7.53561 9.24263L7.53558 9.2426L4.70711 12.0711L4 11.364L6.82848 8.53549L4.00008 5.70709Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ConsoleIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst DashboardIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M3.8888 2.09545C4.95772 1.38122 6.21442 1 7.5 1C9.22391 1 10.8772 1.68482 12.0962 2.90381C13.3152 4.12279 14 5.77609 14 7.5C14 8.78558 13.6188 10.0423 12.9046 11.1112C12.1903 12.1801 11.1752 13.0132 9.98744 13.5052C8.79973 13.9972 7.49279 14.1259 6.23192 13.8751C4.97104 13.6243 3.81285 13.0052 2.90381 12.0962C1.99477 11.1872 1.3757 10.029 1.1249 8.76809C0.874095 7.50721 1.00282 6.20028 1.49479 5.01256C1.98676 3.82484 2.81988 2.80968 3.8888 2.09545ZM4.44437 12.0731C5.34884 12.6774 6.41221 13 7.5 13C8.95821 12.9984 10.3562 12.4184 11.3873 11.3873C12.4184 10.3562 12.9984 8.9582 13 7.5C13 6.4122 12.6774 5.34883 12.0731 4.44436C11.4687 3.53989 10.6098 2.83494 9.60476 2.41866C8.59977 2.00238 7.4939 1.89346 6.42701 2.10568C5.36011 2.3179 4.3801 2.84172 3.61092 3.61091C2.84173 4.3801 2.3179 5.36011 2.10568 6.427C1.89347 7.4939 2.00238 8.59977 2.41867 9.60476C2.83495 10.6098 3.5399 11.4687 4.44437 12.0731ZM10.2932 4L11.0002 4.707L8.85018 6.857C9.00536 7.17915 9.0415 7.54583 8.95221 7.89208C8.86291 8.23833 8.65395 8.5418 8.36233 8.74874C8.07071 8.95567 7.71526 9.05271 7.35895 9.02266C7.00264 8.99261 6.66846 8.83742 6.41561 8.58457C6.16276 8.33173 6.00757 7.99755 5.97752 7.64123C5.94748 7.28492 6.04452 6.92947 6.25145 6.63785C6.45838 6.34623 6.76185 6.13727 7.1081 6.04798C7.45435 5.95868 7.82103 5.99483 8.14318 6.15L10.2932 4ZM7.2224 7.91573C7.30462 7.97068 7.40129 8 7.50018 8C7.63279 8 7.75997 7.94732 7.85374 7.85355C7.9475 7.75979 8.00018 7.63261 8.00018 7.5C8.00018 7.40111 7.97086 7.30444 7.91592 7.22221C7.86098 7.13999 7.78289 7.0759 7.69152 7.03806C7.60016 7.00022 7.49963 6.99031 7.40264 7.00961C7.30565 7.0289 7.21656 7.07652 7.14663 7.14645C7.0767 7.21637 7.02908 7.30546 7.00979 7.40245C6.9905 7.49945 7.0004 7.59998 7.03824 7.69134C7.07609 7.7827 7.14017 7.86079 7.2224 7.91573ZM11.508 5.46704L10.745 6.23004C10.9111 6.63296 10.9977 7.06422 11 7.50004C10.9972 8.1267 10.8244 8.74086 10.5 9.27704L11.235 10.012C11.683 9.34822 11.9447 8.57638 11.9929 7.77698C12.0411 6.97757 11.874 6.17988 11.509 5.46704H11.508ZM8.73285 4.24196C8.34063 4.08478 7.92238 4.00269 7.49985 3.99996C6.57159 3.99996 5.68135 4.36871 5.02497 5.02509C4.3686 5.68147 3.99985 6.57171 3.99985 7.49996C4.00266 8.12663 4.17547 8.74078 4.49985 9.27696L3.76585 10.012C3.2135 9.18819 2.94877 8.20502 3.01281 7.21528C3.07686 6.22554 3.46609 5.28468 4.12 4.53897C4.77391 3.79326 5.65587 3.28446 6.62876 3.09169C7.60166 2.89891 8.61099 3.03295 9.49985 3.47296L8.73285 4.24196Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(DashboardIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst EnumIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.orange}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M14 2H8L7 3V6H8V3H14V8H10V9H14L15 8V3L14 2ZM9 6H13V7H9.41L9 6.59V6ZM7 7H2L1 8V13L2 14H8L9 13V8L8 7H7ZM8 13H2V8H8V9V13ZM3 9H7V10H3V9ZM3 11H7V12H3V11ZM9 4H13V5H9V4Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(EnumIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst EnumValueIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <>\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M4 6H12V7H4V6ZM12 9H4V10H12V9Z\"\n              fill={color}\n            />\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M1 4L2 3H14L15 4V12L14 13H2L1 12V4ZM2 4V12H14V4H2Z\"\n              fill={color}\n            />\n          </>\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(EnumValueIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ErrorIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.red}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M8.6 0.999985C10.2 1.09999 11.7 1.89999 12.8 2.99999C14.1 4.39999 14.8 6.09999 14.8 8.09999C14.8 9.69999 14.2 11.2 13.2 12.5C12.2 13.7 10.8 14.6 9.2 14.9C7.6 15.2 6 15 4.6 14.2C3.2 13.4 2.1 12.2 1.5 10.7C0.899997 9.19999 0.799997 7.49999 1.3 5.99999C1.8 4.39999 2.7 3.09999 4.1 2.19999C5.4 1.29999 7 0.899985 8.6 0.999985ZM9.1 13.9C10.4 13.6 11.6 12.9 12.5 11.8C13.3 10.7 13.8 9.39999 13.7 7.99999C13.7 6.39999 13.1 4.79999 12 3.69999C11 2.69999 9.8 2.09999 8.4 1.99999C7.1 1.89999 5.7 2.19999 4.6 2.99999C3.5 3.79999 2.7 4.89999 2.3 6.29999C1.9 7.59999 1.9 8.99999 2.5 10.3C3.1 11.6 4 12.6 5.2 13.3C6.4 14 7.8 14.2 9.1 13.9ZM7.89999 7.5L10.3 5L11 5.7L8.59999 8.2L11 10.7L10.3 11.4L7.89999 8.9L5.49999 11.4L4.79999 10.7L7.19999 8.2L4.79999 5.7L5.49999 5L7.89999 7.5Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ErrorIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst FieldIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.rose}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M13.51 4L8.51001 1H7.51001L2.51001 4L2.02002 4.85999V10.86L2.51001 11.71L7.51001 14.71H8.51001L13.51 11.71L14 10.86V4.85999L13.51 4ZM7.51001 13.5601L3.01001 10.86V5.69995L7.51001 8.15002V13.5601ZM3.27002 4.69995L8.01001 1.85999L12.75 4.69995L8.01001 7.29004L3.27002 4.69995ZM13.01 10.86L8.51001 13.5601V8.15002L13.01 5.69995V10.86Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(FieldIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst FilesIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M11.6667 0H5.66666L4.66666 1V4H1.66666L0.666656 5V15.0466L1.66666 16H9.71329L10.6667 15.0466V12H13.8L14.6667 11.0466V3L11.6667 0ZM11.6667 1.41333L13.2533 3H11.6667V1.41333ZM9.66666 15H1.66666V5H4.66666V11.0466L5.66666 12H9.66666V15ZM13.6667 11H5.66666V1H10.6667V4H13.6667V11Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(FilesIcon);\n","import styled from \"@bcp/main/styled\";\n\nconst FlexIconContainer = styled.div`\n  display: flex;\n  flex: 0 0 20px;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default FlexIconContainer;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst HistoryIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M13.5072 12.3239C14.4749 11.0906 15.0006 9.56812 15 8.00045C15.0001 6.46996 14.4986 4.98161 13.5723 3.76328C12.6459 2.54495 11.3459 1.66378 9.87105 1.25469C8.39624 0.845604 6.828 0.931139 5.40643 1.4982C3.98487 2.06526 2.78832 3.0826 2 4.39445V2.00045H1V5.50045L1.5 6.00045H5V5.00045H2.811C3.47895 3.84546 4.51237 2.94567 5.74827 2.44298C6.98418 1.94028 8.35226 1.86329 9.63676 2.22413C10.9213 2.58498 12.0491 3.36313 12.8425 4.43587C13.6358 5.50862 14.0495 6.81493 14.0182 8.14879C13.987 9.48265 13.5127 10.7682 12.6701 11.8026C11.8274 12.8371 10.6644 13.5616 9.36443 13.862C8.06445 14.1624 6.70147 14.0215 5.49043 13.4615C4.27939 12.9016 3.2892 11.9544 2.676 10.7695L1.789 11.2315C2.51204 12.6224 3.68106 13.7304 5.10876 14.3779C6.53646 15.0254 8.14019 15.1749 9.66297 14.8025C11.1858 14.4301 12.5395 13.5573 13.5072 12.3239ZM10.146 11.3545L10.854 10.6465L8 7.79349V4.00049H7V8.00049L7.146 8.35449L10.146 11.3545Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(HistoryIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst InfoIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.blue}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M8.56844 1.03128C10.1595 1.19039 11.6437 1.90518 12.7601 3.04996C13.9764 4.28555 14.6955 5.92552 14.7804 7.65726C14.8652 9.38899 14.3098 11.0913 13.2201 12.4398C12.2179 13.6857 10.8114 14.5416 9.24435 14.8594C7.67733 15.1772 6.0485 14.9369 4.6401 14.18C3.22867 13.4066 2.12683 12.1706 1.5201 10.68C0.910659 9.18166 0.82953 7.52043 1.29009 5.96988C1.74966 4.42537 2.72803 3.0868 4.06008 2.17996C5.38108 1.27892 6.97735 0.87217 8.56844 1.03128ZM9.04012 13.8799C10.383 13.6075 11.5888 12.8756 12.4501 11.81C13.3827 10.6509 13.8572 9.18961 13.7835 7.70377C13.7097 6.21792 13.0929 4.81093 12.0501 3.74991C11.0949 2.77492 9.82753 2.16667 8.46938 2.0314C7.11123 1.89614 5.74875 2.24247 4.62008 3.00992C3.77051 3.59531 3.0845 4.38792 2.62697 5.31265C2.16945 6.23738 1.95559 7.26359 2.00567 8.2941C2.05574 9.3246 2.36809 10.3253 2.91311 11.2013C3.45813 12.0773 4.21776 12.7997 5.12008 13.3C6.3184 13.9467 7.70586 14.1519 9.04012 13.8799ZM8.51008 6.99997L7.51008 6.99997L7.51008 11L8.51008 11L8.51008 6.99997ZM8.51008 4.99997L7.51008 4.99997L7.51008 5.99997L8.51008 5.99997L8.51008 4.99997Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(InfoIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst InputObjectIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.orange}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M11.34 9.70998H12.05L14.72 7.04005V6.32997L13.38 5.00001H12.68L10.86 6.81007H5.86V5.56007L7.71999 3.70997V3L5.71998 1H5.00001L1 5.00001V5.70997L3 7.70998H3.71003L4.84998 6.56007V12.35L5.34998 12.85H10V13.37L11.33 14.71H12.04L14.7101 12.0401V11.33L13.37 10H12.67L10.81 11.85H5.81001V7.84999H10V8.32997L11.34 9.70998ZM13.0301 6.06007L13.66 6.68995L11.66 8.68996L11.0301 8.06007L13.0301 6.06007ZM13.0301 11.0601L13.66 11.69L11.66 13.69L11.0301 13.0601L13.0301 11.0601ZM3.34998 6.65004L2.06 5.34998L5.34998 2.06006L6.65004 3.34998L3.34998 6.65004Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(InputObjectIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst InterfaceIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.blue}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M11.4965 4C10.655 3.9989 9.84136 4.30189 9.20557 4.85315C8.56977 5.40442 8.15465 6.16684 8.0365 7H4.9364C4.8147 6.52867 4.52533 6.11794 4.12244 5.84473C3.71955 5.57152 3.23083 5.45466 2.74792 5.51599C2.26502 5.57733 1.82106 5.81261 1.49927 6.17786C1.17747 6.54311 1 7.01322 1 7.5C1 7.98679 1.17747 8.45689 1.49927 8.82215C1.82106 9.1874 2.26502 9.42267 2.74792 9.48401C3.23083 9.54535 3.71955 9.42848 4.12244 9.15528C4.52533 8.88207 4.8147 8.47133 4.9364 8H8.0365C8.13236 8.66418 8.41717 9.28683 8.85693 9.7937C9.2967 10.3006 9.87284 10.6703 10.5168 10.8589C11.1609 11.0475 11.8455 11.047 12.4893 10.8574C13.133 10.6679 13.7087 10.2973 14.1477 9.7898C14.5867 9.28227 14.8706 8.65919 14.9655 7.99488C15.0603 7.33056 14.9621 6.65298 14.6827 6.04285C14.4034 5.43272 13.9545 4.91578 13.3895 4.55359C12.8246 4.19141 12.1675 3.99922 11.4965 4V4ZM11.4965 10C11.002 10 10.5187 9.85332 10.1075 9.57862C9.69642 9.30391 9.37599 8.91348 9.18677 8.45667C8.99755 7.99985 8.94809 7.49728 9.04456 7.01233C9.14102 6.52738 9.37901 6.08181 9.72864 5.73218C10.0783 5.38255 10.5238 5.14456 11.0088 5.0481C11.4937 4.95164 11.9963 5.00109 12.4531 5.19031C12.9099 5.37953 13.3004 5.69996 13.5751 6.11109C13.8498 6.52221 13.9965 7.00555 13.9965 7.5C13.9965 8.16304 13.7331 8.79898 13.2643 9.26783C12.7954 9.73667 12.1595 10 11.4965 10V10Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(InterfaceIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ListFlatIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M2 10V9H14V10H2ZM2 6H14V7H2V6ZM14 3V4H2V3H14ZM2 12V13H14V12H2Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ListFlatIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ObjectIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.green}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M11.34 9.70998H12.05L14.72 7.04005V6.32997L13.38 5.00001H12.68L10.86 6.81007H5.86V5.56007L7.71999 3.70997V3L5.71998 1H5.00001L1 5.00001V5.70997L3 7.70998H3.71003L4.84998 6.56007V12.35L5.34998 12.85H10V13.37L11.33 14.71H12.04L14.7101 12.0401V11.33L13.37 10H12.67L10.81 11.85H5.81001V7.84999H10V8.32997L11.34 9.70998ZM13.0301 6.06007L13.66 6.68995L11.66 8.68996L11.0301 8.06007L13.0301 6.06007ZM13.0301 11.0601L13.66 11.69L11.66 13.69L11.0301 13.0601L13.0301 11.0601ZM3.34998 6.65004L2.06 5.34998L5.34998 2.06006L6.65004 3.34998L3.34998 6.65004Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ObjectIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst PassIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.green}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <>\n            <path\n              d=\"M6.26989 10.8698H6.97989L11.5398 6.30996L10.8298 5.59996L6.62989 9.80985L4.71 7.88994L4 8.59994L6.26989 10.8698Z\"\n              fill={color}\n            />\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M8.6 0.999985C10.2 1.09999 11.7 1.89999 12.8 2.99999C14.1 4.39999 14.8 6.09999 14.8 8.09999C14.8 9.69999 14.2 11.2 13.2 12.5C12.2 13.7 10.8 14.6 9.2 14.9C7.6 15.2 6 15 4.6 14.2C3.2 13.4 2.1 12.2 1.5 10.7C0.899997 9.19999 0.799997 7.49999 1.3 5.99999C1.8 4.39999 2.7 3.09999 4.1 2.19999C5.4 1.29999 7 0.899985 8.6 0.999985ZM9.1 13.9C10.4 13.6 11.6 12.9 12.5 11.8C13.3 10.7 13.8 9.39999 13.7 7.99999C13.7 6.39999 13.1 4.79999 12 3.69999C11 2.69999 9.8 2.09999 8.4 1.99999C7.1 1.89999 5.7 2.19999 4.6 2.99999C3.5 3.79999 2.7 4.89999 2.3 6.29999C1.9 7.59999 1.9 8.99999 2.5 10.3C3.1 11.6 4 12.6 5.2 13.3C6.4 14 7.8 14.2 9.1 13.9Z\"\n              fill={color}\n            />\n          </>\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(PassIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ScalarIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.blue}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M14.45 4.5L9.44995 2H8.55005L1.55005 5.5L1 6.39001V10.89L1.55005 11.79L6.55005 14.29H7.44995L14.45 10.79L15 9.89001V5.39001L14.45 4.5ZM6.44995 13.14L1.94995 10.89V7.17004L6.44995 9.17004V13.14ZM6.94995 8.33997L2.29004 6.22998L8.94995 2.89001L13.62 5.22998L6.94995 8.33997ZM13.95 9.89001L7.44995 13.14V9.20996L13.95 6.20996V9.89001Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ScalarIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst UnionIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.blue}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M2 5H4V4H1.5L1 4.5V12.5L1.5 13H4V12H2V5ZM14.5 4H12V5H14V12H12V13H14.5L15 12.5V4.5L14.5 4ZM11.76 6.56995L12 7V9.51001L11.7 9.95996L7.19995 11.96H6.73999L4.23999 10.46L4 10.03V7.53003L4.30005 7.06995L8.80005 5.06995H9.26001L11.76 6.56995ZM5 9.70996L6.5 10.61V9.28003L5 8.38V9.70996ZM5.57996 7.56006L7.03003 8.43005L10.42 6.93005L8.96997 6.06006L5.57996 7.56006ZM7.53003 10.73L11.03 9.17004V7.77002L7.53003 9.31995V10.73Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(UnionIcon);\n","import React from \"react\";\nimport { SchemaTypeKind } from \"@bcp/shared/common\";\nimport EnumIcon from \"./EnumIcon\";\nimport InputObjectIcon from \"./InputObjectIcon\";\nimport InterfaceIcon from \"./InterfaceIcon\";\nimport ObjectIcon from \"./ObjectIcon\";\nimport ScalarIcon from \"./ScalarIcon\";\nimport UnionIcon from \"./UnionIcon\";\n\nfunction renderTypeIcon(typeKind: SchemaTypeKind) {\n  switch (typeKind) {\n    case \"enum\":\n      return <EnumIcon />;\n\n    case \"input-object\":\n      return <InputObjectIcon />;\n\n    case \"interface\":\n      return <InterfaceIcon />;\n\n    case \"scalar\":\n      return <ScalarIcon />;\n\n    case \"union\":\n      return <UnionIcon />;\n\n    default:\n      return <ObjectIcon />;\n  }\n}\n\nexport default renderTypeIcon;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ResultsIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M1.5 14H14.5L15 13.5V9L12.23 1.34L11.76 1H4.27L3.8 1.33L1 8.74V13.5L1.5 14ZM14 13H2V10.02H4.55001L5.29001 11.27L5.72001 11.51H10.29L10.73 11.25L11.42 10.02H14V13ZM13.978 9.02002H11.12L10.69 9.28002L10 10.51H6.01001L5.26001 9.26002L4.83001 9.02002H2V9L4.62 2H11.4L13.978 9.02002Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ResultsIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst SearchIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M10.1667 6.83637e-07C9.10697 -0.000527531 8.06972 0.305049 7.1796 0.880046C6.28947 1.45504 5.58437 2.27494 5.14916 3.24113C4.71395 4.20733 4.56717 5.27868 4.72639 6.32634C4.88561 7.37399 5.34401 8.35337 6.04662 9.14665L0.666656 15.2533L1.41332 15.92L6.78002 9.84001C7.47031 10.3796 8.27948 10.7464 9.14021 10.91C10.0009 11.0736 10.8883 11.0292 11.7284 10.7804C12.5685 10.5317 13.337 10.0859 13.97 9.48006C14.6029 8.87427 15.082 8.12607 15.3673 7.29769C15.6526 6.46931 15.7359 5.58469 15.6102 4.71761C15.4845 3.85054 15.1535 3.0261 14.6447 2.31283C14.1359 1.59955 13.4641 1.01808 12.6852 0.616944C11.9063 0.215813 11.0428 0.00661011 10.1667 0.00667386V6.83637e-07ZM10.1667 10C9.27664 10 8.4066 9.73609 7.66657 9.24162C6.92655 8.74715 6.34978 8.04435 6.00919 7.22209C5.66859 6.39982 5.57945 5.49499 5.75308 4.62207C5.92672 3.74916 6.35535 2.94737 6.98469 2.31803C7.61403 1.6887 8.41581 1.26006 9.28873 1.08643C10.1616 0.912793 11.0665 1.00194 11.8887 1.34253C12.711 1.68312 13.4138 2.2599 13.9083 2.99992C14.4027 3.73994 14.6667 4.60998 14.6667 5.5C14.6667 6.69348 14.1925 7.83805 13.3486 8.68197C12.5047 9.52588 11.3601 10 10.1667 10V10Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(SearchIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst SettingsIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M3.5 2H2.5V7H3.5V2ZM9.6 7H6.4L6 6.45V5.45L6.4 5H9.6L10 5.5V6.5L9.6 7ZM4.6 10H1.4L1 9.5V8.5L1.4 8H4.6L5 8.5V9.5L4.6 10ZM8.5 2H7.5V4H8.5V2ZM7.5 8H8.5V14H7.5V8ZM3.5 11H2.5V14H3.5V11ZM11.4 11H14.59L14.99 10.5V9.55005L14.59 9.05005H11.4L11 9.55005V10.5L11.4 11ZM13.5 2H12.5V8H13.5V2ZM12.5 12H13.5V14H12.5V12Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(SettingsIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst SplitHorizontalIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M14 1H3L2 2V13L3 14H14L15 13V2L14 1ZM8 13H3V2H8V13ZM14 13H9V2H14V13Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(SplitHorizontalIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst SplitVerticalIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            d=\"M14 1H3L2 2V13L3 14H14L15 13V2L14 1ZM14 13H3V8H14V13ZM14 7H3V2H14V7Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(SplitVerticalIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst WarningIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.orange}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <>\n            <path\n              d=\"M8.44 1H7.56L1 13.26L1.44 14H14.54L14.98 13.26L8.44 1ZM2.28 13L8 2.28L13.7 13H2.28ZM7.5 6H8.5V10H7.5V6ZM7.5 11H8.5V12H7.5V11Z\"\n              fill={color}\n            />\n            <path\n              d=\"M8.44 1H7.56L1 13.26L1.44 14H14.54L14.98 13.26L8.44 1ZM2.28 13L8 2.28L13.7 13H2.28ZM7.5 6H8.5V10H7.5V6ZM7.5 11H8.5V12H7.5V11Z\"\n              fill={color}\n            />\n          </>\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(WarningIcon);\n","import React, { FunctionComponent, memo } from \"react\";\nimport { withTheme } from \"@bcp/main/styled\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ZoomInIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M12.0275 6.14861C12.1231 7.56649 11.6682 8.96661 10.7575 10.0575L15.0175 14.3176L14.3176 15.0275L10.0575 10.7575C8.96661 11.6682 7.56649 12.1231 6.14861 12.0275C4.73072 11.9319 3.40437 11.2931 2.44561 10.2442C1.48684 9.19523 0.969494 7.81691 1.00139 6.39617C1.03329 4.97542 1.61188 3.62162 2.61675 2.61675C3.62162 1.61188 4.97542 1.03329 6.39617 1.00139C7.81691 0.969494 9.19523 1.48684 10.2442 2.44561C11.2931 3.40437 11.9319 4.73072 12.0275 6.14861ZM6.57756 11.0375C7.77042 11.0354 8.91377 10.5608 9.7575 9.71758L9.71758 9.7376C10.1447 9.32074 10.4849 8.82316 10.7183 8.27385C10.9518 7.72455 11.0739 7.13437 11.0776 6.53752C11.0776 5.64751 10.8136 4.77755 10.3191 4.03752C9.82467 3.2975 9.12188 2.72065 8.29961 2.38005C7.47734 2.03946 6.57255 1.95032 5.69963 2.12395C4.82672 2.29758 4.02489 2.72618 3.39556 3.35552C2.76622 3.98485 2.33762 4.78668 2.16399 5.6596C1.99036 6.53251 2.0795 7.4373 2.42009 8.25957C2.76069 9.08184 3.33742 9.78464 4.07744 10.2791C4.81746 10.7736 5.68755 11.0375 6.57756 11.0375ZM9.01749 7.0376V6.0376H7.01749V4.0376H6.01749V6.0376H4.01749V7.0376H6.01749V9.0376H7.01749V7.0376H9.01749Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ZoomInIcon);\n","import { withTheme } from \"@bcp/main/styled\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport IconContainer from \"./IconContainer\";\nimport IconProperties from \"./IconProperties\";\n\nconst ZoomOutIcon: FunctionComponent<IconProperties> = memo(\n  ({ color, size, theme }) => {\n    return (\n      <IconContainer\n        color={color}\n        defaultColor={theme.textColor}\n        size={size}\n        theme={theme}\n      >\n        {(color) => (\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M12.0275 6.14861C12.1231 7.56649 11.6682 8.96661 10.7575 10.0575L15.0175 14.3176L14.3176 15.0275L10.0575 10.7575C8.96661 11.6682 7.56649 12.1231 6.14861 12.0275C4.73072 11.9319 3.40437 11.2931 2.44561 10.2442C1.48684 9.19523 0.969494 7.81691 1.00139 6.39617C1.03329 4.97542 1.61188 3.62162 2.61675 2.61675C3.62162 1.61188 4.97542 1.03329 6.39617 1.00139C7.81691 0.969494 9.19523 1.48684 10.2442 2.44561C11.2931 3.40437 11.9319 4.73072 12.0275 6.14861ZM6.57756 11.0375C7.77042 11.0354 8.91377 10.5608 9.7575 9.71758L9.71758 9.7376C10.1447 9.32074 10.4849 8.82316 10.7183 8.27385C10.9518 7.72455 11.0739 7.13437 11.0776 6.53752C11.0776 5.64751 10.8136 4.77755 10.3191 4.03752C9.82467 3.2975 9.12188 2.72065 8.29961 2.38005C7.47734 2.03946 6.57255 1.95032 5.69963 2.12395C4.82672 2.29758 4.02489 2.72618 3.39556 3.35552C2.76622 3.98485 2.33762 4.78668 2.16399 5.6596C1.99036 6.53251 2.0795 7.4373 2.42009 8.25957C2.76069 9.08184 3.33742 9.78464 4.07744 10.2791C4.81746 10.7736 5.68755 11.0375 6.57756 11.0375ZM4.03748 6.0575H9.03748V7.0575H4.03748V6.0575Z\"\n            fill={color}\n          />\n        )}\n      </IconContainer>\n    );\n  }\n);\n\nexport default withTheme(ZoomOutIcon);\n","import styled from \"@bcp/main/styled\";\n\nconst PanelElement = styled.aside`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  background-color: ${(props) => props.theme.sideBarBg};\n  color: ${(props) => props.theme.sideBarText};\n`;\n\nexport default PanelElement;\n","import styled from \"@bcp/main/styled\";\n\nconst SideBarHeader = styled.header<{ location?: \"left\" | \"right\" }>`\n  z-index: 1;\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(\n    15deg,\n    ${(props) =>\n        props.location === \"right\"\n          ? props.theme.navBgColor2\n          : props.theme.navBgColor}\n      0%,\n    ${(props) => props.theme.navBgColor} 55%,\n    ${(props) =>\n        props.location === \"right\"\n          ? props.theme.navBgColor\n          : props.theme.navBgColor2}\n      100%\n  );\n  color: ${(props) => props.theme.sideBarHeaderText};\n  transition: box-shadow 0.2s ease;\n`;\n\nexport default SideBarHeader;\n","import styled from \"@bcp/main/styled\";\n\nconst SideBarHeaderButton = styled.button`\n  flex: 0 0 28px;\n  height: 100%;\n  justify-content: center;\n  color: ${(props) => props.theme.sideBarHeaderText};\n  opacity: 0.75;\n  transition: color 0.2s ease, opacity 0.2s ease;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport default SideBarHeaderButton;\n","import styled from \"@bcp/main/styled\";\nimport { debounce } from \"@bcp/main/utils\";\nimport { CloseIcon, SearchIcon } from \"@bcp/main/components/shared/icons\";\nimport React, { forwardRef, useEffect, useRef, ChangeEvent, memo } from \"react\";\n\ninterface SideBarSearchProperties {\n  searchTerm?: string;\n  onSearchTermChange: (searchTerm: string) => void;\n}\n\nconst SideBarSearch = memo(\n  forwardRef<HTMLDivElement, SideBarSearchProperties>((props, ref) => {\n    const fieldRef = useRef<HTMLInputElement>(null);\n    const buttonRef = useRef<HTMLButtonElement>(null);\n    const { searchTerm } = props;\n\n    const emitChange = debounce<string>((searchTerm) => {\n      props.onSearchTermChange(searchTerm);\n    });\n\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n      emitChange(e.currentTarget.value.trim());\n      buttonRef.current!.style.display =\n        e.currentTarget.value.length > 0 ? \"flex\" : \"none\";\n    };\n\n    const handleClearClick = () => {\n      props.onSearchTermChange(\"\");\n      fieldRef.current!.value = \"\";\n      buttonRef.current!.style.display = \"none\";\n    };\n\n    useEffect(() => {\n      const field = fieldRef.current!;\n      const button = buttonRef.current!;\n\n      if (searchTerm && searchTerm.length > 0) {\n        field.value = searchTerm;\n        button.style.display = \"flex\";\n      } else {\n        button.style.display = \"none\";\n      }\n    }, [searchTerm]);\n\n    return (\n      <Container ref={ref}>\n        <IconContainer>\n          <SearchIcon />\n        </IconContainer>\n        <SearchField\n          ref={fieldRef}\n          placeholder=\"Find...\"\n          onChange={handleChange}\n        />\n        <ClearButton ref={buttonRef} onClick={handleClearClick}>\n          <CloseIcon />\n        </ClearButton>\n      </Container>\n    );\n  })\n);\n\nexport default SideBarSearch;\n\nconst Container = styled.div`\n  z-index: 1;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: center;\n  border-bottom: 1px solid ${(props) => props.theme.contentBorder};\n  padding: 0 4px;\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.sideBarSearchBg};\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  padding: 0 4px 0 11px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst SearchField = styled.input`\n  flex: 1 1 auto;\n  border: 0 none;\n  padding: 11px 4px;\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.sideBarSearchBg};\n`;\n\nconst ClearButton = styled.button`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  padding: 0 11px 0 4px;\n  color: ${(props) => props.theme.textColor};\n`;\n","import styled from \"@bcp/main/styled\";\n\nconst SideBarTitle = styled.h1`\n  flex: 1 1 auto;\n  margin: 0 10px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n`;\n\nexport default SideBarTitle;\n","import styled from \"@bcp/main/styled\";\n\nconst SideBarTitleIconContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n`;\n\nexport default SideBarTitleIconContainer;\n","import styled from \"@bcp/main/styled\";\nimport Icon from \"../Icon\";\n\nconst NodeIcon = styled(Icon)`\n  display: flex;\n  flex: 0 0 20px;\n  justify-content: center;\n`;\n\nexport default NodeIcon;\n","import styled from \"@bcp/main/styled\";\n\nconst NodeIconContainer = styled.div`\n  display: flex;\n  flex: 0 0 20px;\n  align-items: center;\n`;\n\nexport default NodeIconContainer;\n","import BatchObserver from \"../abstractions/BatchObserver\";\nimport Disposable from \"../abstractions/Disposable\";\nimport Subscription from \"../abstractions/Subscription\";\nimport batchUpdate from \"./batchUpdate\";\n\nclass BatchObservable<T> implements Disposable {\n  private _disposed = false;\n  private _observers: BatchObserver<T>[] = [];\n  private _dispatch = batchUpdate<T>(batch => {\n    if (!this._disposed) {\n      for (let i = 0; i < this._observers.length; i++) {\n        this._observers[i](batch);\n      }\n    }\n  });\n\n  dispatch(item: T) {\n    if (this._disposed) {\n      throw new Error(\"This observable has been disposed.\");\n    }\n\n    this._dispatch(item);\n  }\n\n  subscribe(observer: BatchObserver<T>): Subscription {\n    if (this._disposed) {\n      throw new Error(\"This observable has been disposed.\");\n    }\n\n    if (this._observers.indexOf(observer) === -1) {\n      this._observers.push(observer);\n    }\n\n    return () => {\n      if (this._disposed) {\n        return;\n      }\n\n      const index = this._observers.indexOf(observer);\n\n      if (index !== -1) {\n        this._observers.splice(index, 1);\n      }\n    };\n  }\n\n  dispose() {\n    if (!this._disposed) {\n      this._observers = [];\n      this._disposed = true;\n    }\n  }\n}\n\nexport default function createBatchObservable<T>(): BatchObservable<T> {\n  return new BatchObservable<T>();\n}\n","export default function batchUpdate<T>(\n  execute: (batch: T[]) => void,\n  delay: number = 0\n) {\n  let batch: T[];\n  let timeoutEndpointHandler: number | undefined;\n\n  return (item: T) => {\n    if (timeoutEndpointHandler) {\n      batch.push(item);\n    } else {\n      batch = [item];\n    }\n\n    clearTimeout(timeoutEndpointHandler);\n    timeoutEndpointHandler = setTimeout(() => {\n      const copy = [...batch];\n\n      timeoutEndpointHandler = undefined;\n      execute(copy);\n    }, delay);\n  };\n}\n","export default class Path {\n  static readonly separator = \"/\";\n\n  static combine(...pathes: string[]) {\n    if (pathes.length < 2) {\n      throw new Error(\"At least two pathes must be provided.\");\n    }\n\n    let result = pathes[0][0] === Path.separator ? Path.separator : \"\";\n\n    for (let path of pathes) {\n      const segments = path.split(Path.separator);\n\n      for (let segment of segments) {\n        if (segment.length > 0) {\n          if (result.length === 0 || Path.isRoot(result)) {\n            result += segment;\n          } else {\n            result += Path.separator + segment;\n          }\n        }\n      }\n    }\n\n    return result;\n  }\n\n  static getSegments(path: string) {\n    let relativePath = Path.isRooted(path) ? path.slice(1) : path;\n\n    if (\n      relativePath.length > 0 &&\n      relativePath[relativePath.length - 1] === Path.separator\n    ) {\n      relativePath = relativePath.slice(0, relativePath.length - 2);\n    }\n\n    if (relativePath.length === 0) {\n      return [];\n    }\n\n    return relativePath.split(Path.separator);\n  }\n\n  static isRoot(path: string) {\n    return path === Path.separator;\n  }\n\n  static isRooted(path: string) {\n    return path.length > 0 && path[0] === Path.separator;\n  }\n}\n","export default function spliceTypedArray(\n  input: Uint32Array,\n  start: number = 0,\n  deleteCount: number = 0,\n  ...items: number[]\n) {\n  const itemsLength = items ? items.length : 0;\n  const output = new Uint32Array(input.length - deleteCount + itemsLength);\n\n  if (start > 0) {\n    output.set(input.slice(0, start));\n  }\n\n  if (itemsLength > 0) {\n    output.set(items, start);\n  }\n\n  output.set(\n    input.slice(start + deleteCount, input.length),\n    start + itemsLength\n  );\n\n  return output;\n}\n","import Disposable from \"../abstractions/Disposable\";\nimport Node from \"../abstractions/Node\";\nimport NodeCreationConfig from \"../abstractions/NodeCreationConfig\";\nimport { StructuralDataNode } from \"../abstractions/StructuralDataProvider\";\nimport TreeModel from \"../abstractions/TreeModel\";\nimport Path from \"../utilities/Path\";\nimport NodeConfig from \"./NodeConfig\";\n\nexport default abstract class StructuralBase implements Disposable {\n  protected static _index = new Map<number, Node>();\n  protected _branchSize = 0;\n  protected _children?: Node[];\n  private _disposed = false;\n  private _fetchPromise?: Promise<void>;\n  private _id = StructuralBase.nextId();\n  protected _model!: TreeModel;\n\n  /**\n   * Gets the actual branch size which includes all loaded children and\n   * their branch sizes.\n   *\n   * @return {number}\n   */\n  get branchSize() {\n    return this._branchSize;\n  }\n\n  /**\n   * Gets a copied collection of children.\n   * For adding or removing nodes from the collection use \"add\" or \"remove\".\n   *\n   * @return {Node[]}\n   */\n  get children() {\n    return this._children ? this._children.slice() : [];\n  }\n\n  get expandable() {\n    return true;\n  }\n\n  abstract get kind(): \"model\" | \"node\";\n\n  get id() {\n    return this._id;\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  async add(node: Node): Promise<void> {\n    await this.addCore(node, true);\n  }\n\n  abstract addCore(node: Node, dispatchEvent?: boolean): Promise<void>;\n\n  private async appendChildren(\n    structureNodes: StructuralDataNode[],\n    model: TreeModel,\n    parent?: Node\n  ) {\n    for (let { expanded, expandable, metadata, name } of structureNodes) {\n      await this.createNode({\n        expandable: expandable !== false,\n        expanded,\n        metadata,\n        model,\n        parent,\n        name\n      });\n    }\n  }\n\n  protected abstract createNode(config: NodeConfig): Promise<Node>;\n\n  decreaseBranchSize(by: number = 1) {\n    const result = this._branchSize - by;\n\n    if (result < 0) {\n      throw new Error(\"Decrease not possible\");\n    }\n\n    this._branchSize = result;\n    this.decreaseUpperLevelBranchSize(by);\n  }\n\n  protected decreaseUpperLevelBranchSize(by: number = 1) {}\n\n  private static defaultComparer(a: Node, b: Node) {\n    const nameA = a.name.toUpperCase();\n    const nameB = b.name.toUpperCase();\n\n    if (nameA < nameB) {\n      return -1;\n    }\n\n    if (nameA > nameB) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  dispose() {\n    if (!this._disposed) {\n      if (this._children) {\n        for (let node of this._children) {\n          node.dispose();\n        }\n\n        this._branchSize = 0;\n        this._children = undefined;\n      }\n\n      this.disposeCore();\n    }\n  }\n\n  protected abstract disposeCore(): void;\n\n  increaseBranchSize(by: number = 1) {\n    this._branchSize = this._branchSize + by;\n    this.increaseUpperLevelBranchSize(by);\n  }\n\n  protected increaseUpperLevelBranchSize(by: number = 1) {}\n\n  protected async loadChildren() {\n    this.throwIfDisposed();\n\n    if (this._fetchPromise) {\n      return await this._fetchPromise;\n    } else if (!this._children) {\n      let done: () => void;\n\n      this._fetchPromise = new Promise<void>(resolve => {\n        done = resolve;\n      }).then(() => {\n        this._fetchPromise = undefined;\n      });\n      this._children = [];\n\n      const parent = this.kind === \"node\" ? (this as any) : undefined;\n      const structureNodes = await this._model.provider.getNodes(\n        parent ? parent.path : Path.separator,\n        this._model.filter\n      );\n\n      if (structureNodes.length > 0) {\n        await this.appendChildren(structureNodes, this._model, parent);\n        this.sort();\n      }\n\n      done!();\n    }\n  }\n\n  private static nextId = (() => {\n    let id = 0;\n\n    return () => id++;\n  })();\n\n  async reload() {\n    this.throwIfDisposed();\n\n    if (this.expandable) {\n      this.unloadChildren();\n      await this.loadChildren();\n      this._model.dispatch({ kind: \"reloaded\" });\n    }\n  }\n\n  remove(node: Node) {\n    this.throwIfDisposed();\n    this.removeCore(node, true);\n  }\n\n  removeCore(node: Node, dispatchEvent?: boolean) {\n    if (this._children) {\n      const index = this._children.indexOf(node);\n\n      if (index > -1) {\n        this._children.splice(index, 1);\n        this.decreaseBranchSize(1 + node.branchSize);\n        this._model.removeNode(node);\n\n        if (dispatchEvent) {\n          this._model.dispatch({ kind: \"removed\", node });\n        }\n\n        node.dispose();\n      }\n    }\n  }\n\n  sort() {\n    if (this._children) {\n      this._children.sort(\n        this._model.provider.comparer || StructuralBase.defaultComparer\n      );\n    }\n  }\n\n  protected throwIfDisposed() {\n    if (this._disposed) {\n      throw new Error(\"Object has already been disposed.\");\n    }\n  }\n\n  abstract triggerCreate(config: NodeCreationConfig): Promise<void>;\n\n  protected unloadChildren() {\n    this.throwIfDisposed();\n\n    if (this._children) {\n      for (let child of this._children) {\n        child.dispose();\n      }\n\n      this._model.removeChildNodes(\n        this.kind === \"node\" ? (this as any) : undefined\n      );\n      this.decreaseBranchSize(this._branchSize);\n      this._children = undefined;\n    }\n  }\n}\n","import Metadata from \"../abstractions/Metadata\";\nimport Node from \"../abstractions/Node\";\nimport NodeCreationConfig from \"../abstractions/NodeCreationConfig\";\nimport NodeEditMode from \"../abstractions/NodeEditMode\";\nimport Parent from \"../abstractions/Parent\";\nimport TreeModel from \"../abstractions/TreeModel\";\nimport Path from \"../utilities/Path\";\nimport NodeConfig from \"./NodeConfig\";\nimport StructuralBase from \"./StructuralBase\";\n\nexport default class StructuralNode extends StructuralBase implements Node {\n  private _depth = 0;\n  private _editMode: NodeEditMode = \"off\";\n  private _expandable = true;\n  private _expanded = false;\n  private _metadata?: Metadata;\n  private _name: string;\n  private _parent?: Node;\n  private _path: string = \"\";\n  private _selected = false;\n\n  private constructor(config: NodeConfig) {\n    super();\n\n    // todo: name validation\n    this._editMode = config.editMode || \"off\";\n    this._expandable = config.expandable;\n    this._expanded = config.expanded || false;\n    this._metadata = config.metadata;\n    this._name = config.name;\n\n    StructuralBase._index.set(this.id, this);\n  }\n\n  /**\n   * Gets the actual branch size which includes all loaded children and\n   * their branch sizes.\n   *\n   * @return {number}\n   */\n  get branchSize() {\n    return this._branchSize;\n  }\n\n  get depth(): number {\n    return this._depth;\n  }\n\n  get editMode() {\n    return this._editMode;\n  }\n\n  get expandable() {\n    return this._expandable;\n  }\n\n  get expanded() {\n    return this._expanded;\n  }\n\n  set expanded(value: boolean) {\n    this.throwIfDisposed();\n\n    if (this._expandable && this._expanded !== value) {\n      this._expanded = value;\n\n      if (this._expanded) {\n        this.loadChildren().then(() => {\n          this._model.dispatch({ kind: \"expanded\", node: this });\n        });\n      } else {\n        this.unloadChildren();\n        this._model.dispatch({ kind: \"collapsed\", node: this });\n      }\n    }\n  }\n\n  get kind(): \"node\" {\n    return \"node\";\n  }\n\n  get metadata() {\n    return this._metadata;\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  set name(value: string) {\n    this.throwIfDisposed();\n\n    // todo: name validation\n    const changed = this._name !== value;\n\n    if (changed) {\n      this._name = value;\n      this._path = this._parent\n        ? Path.combine(this._parent.path, this._name)\n        : Path.combine(Path.separator, this._name);\n\n      this.resort(this._parent || this._model, this._model);\n      this._model.dispatch({ kind: \"name-changed\", node: this });\n    }\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get path() {\n    return this._path;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  set selected(value: boolean) {\n    this.throwIfDisposed();\n\n    if (this._selected !== value) {\n      this._selected = value;\n\n      if (this._selected) {\n        this._model.addToSelected(this);\n        this._model.dispatch({ kind: \"selected\", node: this });\n      } else {\n        this._model.removeFromSelected(this);\n        this._model.dispatch({ kind: \"deselected\", node: this });\n      }\n    }\n  }\n\n  async addCore(node: Node, dispatchEvent?: boolean) {\n    this.throwIfDisposed();\n\n    if (!this.expandable) {\n      throw new Error(\n        \"Not allowed to add a node to a node which isn't expandable\"\n      );\n    }\n\n    if (node.parent === this || (!node.parent && node.model === this.model)) {\n      return;\n    }\n\n    if (node.parent && node.parent !== this) {\n      node.parent.remove(node);\n    } else if (!node.parent && node.model && node.model !== this.model) {\n      node.model.remove(node);\n    }\n\n    if (!this._expanded) {\n      this._expanded = true;\n      await this.loadChildren();\n      this._model.dispatch({ kind: \"expanded\", node: this });\n    }\n\n    this._children!.push(node);\n    node.assignTo(this._model, this);\n    this.increaseBranchSize(1 + node.branchSize);\n    this.sort();\n    this._model.insertNode(node, this._children!.indexOf(node));\n\n    if (dispatchEvent) {\n      this._model.dispatch({ kind: \"added\", node });\n    }\n  }\n\n  apply() {\n    switch (this._editMode) {\n      case \"creation\":\n        this._editMode = \"off\";\n        this._model.endEditing(this);\n        this._model.dispatch({ kind: \"created\", node: this });\n        break;\n\n      case \"renaming\":\n        this._editMode = \"off\";\n        this._model.endEditing(this);\n        this._model.dispatch({ kind: \"renamed\", node: this });\n        break;\n    }\n  }\n\n  assignTo(model: TreeModel, parent?: Node) {\n    this._model = model;\n    this._parent = parent;\n\n    if (parent) {\n      this._depth = parent.depth + 1;\n      this._path = Path.combine(parent.path, this._name);\n    } else {\n      this._depth = 0;\n      this._path = Path.combine(Path.separator, this._name);\n    }\n  }\n\n  /** @internal */\n  static async create(config: NodeConfig): Promise<Node> {\n    const instance = new StructuralNode(config);\n\n    if (config.parent) {\n      await config.parent.addCore(instance);\n    } else {\n      await config.model.addCore(instance);\n    }\n\n    if (instance._expanded) {\n      await instance.loadChildren();\n    }\n\n    return instance;\n  }\n\n  async create(config: NodeCreationConfig) {\n    this.throwIfDisposed();\n\n    const nodeConfig: NodeConfig = {\n      ...config,\n      model: this.model,\n      parent: this\n    };\n    const node = await StructuralNode.create(nodeConfig);\n\n    this._model.dispatch({ kind: \"created\", node });\n\n    return node;\n  }\n\n  createNode(config: NodeConfig) {\n    return StructuralNode.create(config);\n  }\n\n  protected decreaseUpperLevelBranchSize(by: number = 1) {\n    if (this._parent) {\n      this._parent.decreaseBranchSize(by);\n    } else {\n      this._model.decreaseBranchSize(by);\n    }\n  }\n\n  discard() {\n    const editMode = this._editMode;\n\n    if (editMode !== \"off\") {\n      this._editMode = \"off\";\n      this._model.endEditing(this);\n      this._model.dispatch({ kind: \"discarded\", node: this });\n\n      if (editMode === \"creation\") {\n        (this._parent || this._model).removeCore(this);\n      }\n    }\n  }\n\n  disposeCore() {\n    if (this._selected) {\n      this._model.removeFromSelected(this);\n      this._selected = false;\n    }\n\n    this._depth = 0;\n    this._path = \"\";\n    StructuralBase._index.delete(this.id);\n  }\n\n  ensureVisible(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  static getById(id: number) {\n    return StructuralNode._index.get(id);\n  }\n\n  protected increaseUpperLevelBranchSize(by: number = 1) {\n    if (this._parent) {\n      this._parent.increaseBranchSize(by);\n    } else {\n      this._model.increaseBranchSize(by);\n    }\n  }\n\n  async reload() {\n    this.throwIfDisposed();\n\n    if (this._expandable && this._expanded) {\n      this.unloadChildren();\n      await this.loadChildren();\n    }\n  }\n\n  private resort(parent: Parent, model: TreeModel) {\n    const previousIndex = parent.children.indexOf(this);\n\n    parent.sort();\n\n    const newIndex = parent.children.indexOf(this);\n\n    if (previousIndex !== newIndex) {\n      model.removeNode(this);\n      model.insertNode(this, newIndex);\n    }\n  }\n\n  toggleExpanded() {\n    this.throwIfDisposed();\n\n    this.expanded = !this.expanded;\n  }\n\n  toggleSelected() {\n    this.throwIfDisposed();\n\n    this.selected = !this.selected;\n  }\n\n  async triggerCreate(config: NodeCreationConfig) {\n    this.throwIfDisposed();\n\n    const nodeConfig: NodeConfig = {\n      ...config,\n      editMode: \"creation\",\n      model: this.model,\n      parent: this\n    };\n    const node = await StructuralNode.create(nodeConfig);\n\n    this._model.beginEditing(node);\n    this._model.dispatch({ kind: \"create\", node });\n  }\n\n  triggerRename() {\n    this.throwIfDisposed();\n\n    this._editMode = \"renaming\";\n    this._model.beginEditing(this);\n    this._model.dispatch({ kind: \"rename\", node: this });\n  }\n\n  validate(name: string) {\n    this.throwIfDisposed();\n\n    return this.model.provider.validate(\n      Path.combine(this.parent ? this.parent.path : Path.separator, name)\n    );\n  }\n}\n","import BatchObserver from \"../abstractions/BatchObserver\";\nimport EventKind from \"../abstractions/EventKind\";\nimport FilterDelegate from \"../abstractions/FilterDelegate\";\nimport FindDelegate from \"../abstractions/FindDelegate\";\nimport ModelChangedEvent from \"../abstractions/ModelChangedEvent\";\nimport Node from \"../abstractions/Node\";\nimport NodeCreationConfig from \"../abstractions/NodeCreationConfig\";\nimport StructuralDataProvider from \"../abstractions/StructuralDataProvider\";\nimport TreeModel from \"../abstractions/TreeModel\";\nimport createBatchObservable from \"../utilities/createBatchObservable\";\nimport Path from \"../utilities/Path\";\nimport spliceTypedArray from \"../utilities/spliceTypedArray\";\nimport NodeConfig from \"./NodeConfig\";\nimport StructuralBase from \"./StructuralBase\";\nimport StructuralNode from \"./StructuralNode\";\n\nexport default class StructuralRoot extends StructuralBase\n  implements TreeModel {\n  private _editingNode?: Node;\n  private _filter?: FilterDelegate;\n  private _flattendNodeOrder = new Uint32Array(0);\n  private readonly _observable = createBatchObservable<ModelChangedEvent>();\n  private readonly _provider: StructuralDataProvider;\n  private readonly _selectedNodes: Node[] = [];\n\n  private constructor(provider: StructuralDataProvider) {\n    super();\n\n    this._model = this;\n    this._provider = provider;\n  }\n\n  get filter() {\n    return this._filter;\n  }\n\n  get isInEditMode() {\n    return this._editingNode !== undefined;\n  }\n\n  get kind(): \"model\" {\n    return \"model\";\n  }\n\n  get provider() {\n    return this._provider;\n  }\n\n  get selectedNodes() {\n    return this._selectedNodes.slice();\n  }\n\n  async addCore(node: Node, dispatchEvent?: boolean) {\n    this.throwIfDisposed();\n\n    if (node.model === this) {\n      return;\n    }\n\n    if (node.parent) {\n      node.parent.remove(node);\n    }\n\n    this._children!.push(node);\n    node.assignTo(this);\n    this.increaseBranchSize(1 + node.branchSize);\n    this.sort();\n    this.insertNode(node, this._children!.indexOf(node));\n\n    if (dispatchEvent) {\n      this.dispatch({ kind: \"added\", node });\n    }\n  }\n\n  addToSelected(node: Node) {\n    const notSelectedYet = this._selectedNodes.indexOf(node) === -1;\n\n    if (notSelectedYet) {\n      this._selectedNodes.push(node);\n    }\n  }\n\n  beginEditing(node: Node) {\n    if (this._editingNode === node) {\n      return;\n    }\n\n    if (this._editingNode) {\n      this._editingNode.discard();\n    }\n\n    this._editingNode = node;\n  }\n\n  /** @internal */\n  static async create(provider: StructuralDataProvider): Promise<TreeModel> {\n    const instance = new StructuralRoot(provider);\n\n    await instance.loadChildren();\n\n    return instance;\n  }\n\n  async create(config: NodeCreationConfig) {\n    this.throwIfDisposed();\n\n    const nodeConfig: NodeConfig = {\n      ...config,\n      model: this\n    };\n    const node = await StructuralNode.create(nodeConfig);\n\n    this.dispatch({ kind: \"created\", node });\n\n    return node;\n  }\n\n  createNode(config: NodeConfig) {\n    return StructuralNode.create(config);\n  }\n\n  dispatch(event: ModelChangedEvent) {\n    this._observable.dispatch(event);\n  }\n\n  disposeCore() {\n    if (this._editingNode) {\n      this._editingNode.discard();\n      this._editingNode = undefined;\n    }\n\n    this._observable.dispose();\n  }\n\n  endEditing(node: Node) {\n    if (this._editingNode === node) {\n      this._editingNode = undefined;\n    }\n  }\n\n  find(predicate: FindDelegate): Node | undefined {\n    const iterator = StructuralNode._index.values();\n    let next: IteratorResult<Node> = iterator.next();\n\n    // todo: search also via provider if not loaded yet\n\n    while (\n      !next.done &&\n      ((next.value.model && next.value.model !== this) ||\n        !predicate(next.value))\n    ) {\n      next = iterator.next();\n    }\n\n    return next.value;\n  }\n\n  getById(id: number) {\n    return StructuralNode.getById(id);\n  }\n\n  getByIndex(index: number) {\n    if (index < 0 || index >= this._flattendNodeOrder.length) {\n      return undefined;\n    }\n\n    const id = this._flattendNodeOrder[index];\n\n    return this.getById(id);\n  }\n\n  getByPath(path: string): Node | undefined {\n    const iterator = StructuralNode._index.values();\n    let next: IteratorResult<Node> = iterator.next();\n\n    // todo: search also via provider if not loaded yet???\n\n    while (\n      !next.done &&\n      ((next.value.model && next.value.model !== this) ||\n        next.value.path !== path)\n    ) {\n      next = iterator.next();\n    }\n\n    return next.value;\n  }\n\n  getIdByIndex(index: number) {\n    if (index < 0 || index >= this._flattendNodeOrder.length) {\n      return undefined;\n    }\n\n    return this._flattendNodeOrder[index];\n  }\n\n  getIndex(id: number) {\n    return this._flattendNodeOrder.indexOf(id);\n  }\n\n  private getStartOffset(node: Node, position: number) {\n    let children = node.model.children;\n    let offset = 0;\n\n    if (node.parent) {\n      children = node.parent.children;\n      offset += this._flattendNodeOrder.indexOf(node.parent.id) + 1;\n    }\n\n    if (position > 0) {\n      for (let i = 0; i < position; i++) {\n        offset += children[i].branchSize;\n      }\n    }\n\n    return offset;\n  }\n\n  insertNode(node: Node, position: number) {\n    if (node.model !== this) {\n      throw new Error(\"Models differ\");\n    }\n\n    const start = this.getStartOffset(node, position);\n\n    this._flattendNodeOrder = spliceTypedArray(\n      this._flattendNodeOrder,\n      start + position,\n      0,\n      node.id\n    );\n  }\n\n  removeByPath(path: string) {\n    StructuralRoot.throwIfPathIsNotRooted(path);\n\n    const node = this.getByPath(path);\n\n    if (node) {\n      if (node.parent) {\n        node.parent.remove(node);\n      } else {\n        node.model.remove(node);\n      }\n    }\n  }\n\n  removeFromSelected(node: Node) {\n    const index = this._selectedNodes.indexOf(node);\n\n    if (index !== -1) {\n      this._selectedNodes.splice(index, 1);\n    }\n  }\n\n  removeNode(node: Node) {\n    if (node.model !== this) {\n      throw new Error(\"Models differ\");\n    }\n\n    const start = this._flattendNodeOrder.indexOf(node.id);\n\n    if (start > -1) {\n      this.removeRange(start, 1 + node.branchSize);\n    }\n  }\n\n  removeChildNodes(node?: Node) {\n    if (node) {\n      if (node.model !== this) {\n        throw new Error(\"Models differ\");\n      }\n\n      const start = this._flattendNodeOrder.indexOf(node.id);\n\n      if (start > -1) {\n        this.removeRange(start + 1, node.branchSize);\n      }\n    } else {\n      this.removeRange(0, this.branchSize);\n    }\n  }\n\n  removeRange(position: number, count: number) {\n    this._flattendNodeOrder = spliceTypedArray(\n      this._flattendNodeOrder,\n      position,\n      count\n    );\n  }\n\n  async resetFilter() {\n    this._filter = undefined;\n    await this.reload();\n    this.dispatch({ kind: \"reset-filter\" });\n  }\n\n  async setFilter(filter: FilterDelegate) {\n    this._filter = filter;\n    await this.reload();\n    this.dispatch({ kind: \"set-filter\" });\n  }\n\n  subscribe(observer: BatchObserver<ModelChangedEvent>) {\n    return this._observable.subscribe(observer);\n  }\n\n  subscribeFor(\n    observer: BatchObserver<ModelChangedEvent>,\n    ...kind: EventKind[]\n  ) {\n    if (kind.length === 0) {\n      throw new Error(\"At least one kind is required.\");\n    }\n\n    return this._observable.subscribe(batch => {\n      const filteredBatch = batch.filter(e => kind.includes(e.kind));\n\n      if (filteredBatch.length > 0) {\n        observer(filteredBatch);\n      }\n    });\n  }\n\n  subscribeTo(\n    observer: BatchObserver<ModelChangedEvent>,\n    path: string,\n    ...kind: EventKind[]\n  ) {\n    return this._observable.subscribe(batch => {\n      const filteredBatch = batch.filter(e => {\n        if (e.node && e.node.path === path) {\n          if (kind && kind.length > 0) {\n            return kind.includes(e.kind);\n          }\n\n          return true;\n        }\n\n        return false;\n      });\n\n      if (filteredBatch.length > 0) {\n        observer(filteredBatch);\n      }\n    });\n  }\n\n  private static throwIfPathIsNotRooted(path: string) {\n    if (!Path.isRooted(path)) {\n      throw new Error(\"A relative path is not allowed.\");\n    }\n  }\n\n  async triggerCreate(config: NodeCreationConfig) {\n    this.throwIfDisposed();\n\n    const nodeConfig: NodeConfig = {\n      ...config,\n      editMode: \"creation\",\n      model: this\n    };\n    const node = await StructuralNode.create(nodeConfig);\n\n    this.dispatch({ kind: \"create\", node });\n  }\n}\n","import TreeModel from \"../abstractions/TreeModel\";\n\nclass TreeModelRegistry {\n  private readonly _map = new Map<string, TreeModel>();\n\n  get(key: string) {\n    return this._map.get(key);\n  }\n\n  register(key: string, model: TreeModel) {\n    this._map.set(key, model);\n  }\n\n  unregister(key: string) {\n    this._map.delete(key);\n  }\n}\n\nconst instance = new TreeModelRegistry();\n\nexport default instance;\n","import React, {\n  FunctionComponent,\n  memo,\n  Reducer,\n  useRef,\n  useEffect,\n  useReducer,\n  useCallback\n} from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnScrollProps,\n  areEqual\n} from \"react-window\";\nimport Node from \"./abstractions/Node\";\nimport StructuralDataProvider from \"./abstractions/StructuralDataProvider\";\nimport Subscription from \"./abstractions/Subscription\";\nimport TreeModel from \"./abstractions/TreeModel\";\nimport StructuralRoot from \"./core/StructuralRoot\";\nimport treeModelRegistry from \"./utilities/TreeModelRegistry\";\n\ninterface TreeProperties {\n  id: string;\n  children: (node: Node) => JSX.Element;\n  itemHeight: number;\n  provider: StructuralDataProvider;\n  onInitialized?: (model: TreeModel) => void;\n  onScroll?: (props: ListOnScrollProps) => void;\n}\n\nconst Tree: FunctionComponent<TreeProperties> = memo(props => {\n  const ref = useRef<List>(null);\n  const nodeCache = useRef(new Map<number, Node>());\n  const { children, id, itemHeight, provider, onInitialized, onScroll } = props;\n  const [state, dispatch] = useReducer<Reducer<State, Action>>(reducer, {\n    branchSize: 0\n  });\n\n  const handleScroll = useCallback(\n    (listProps: ListOnScrollProps) => {\n      if (onScroll) {\n        onScroll(listProps);\n      }\n    },\n    [onScroll]\n  );\n\n  const getNodeIdByIndex = useCallback(\n    (index: number) => {\n      return (state.model && state.model.getIdByIndex(index)!) || -1;\n    },\n    [state.model]\n  );\n\n  const getNodePropertiesByIndex = useCallback(\n    (index: number) => {\n      let node = nodeCache.current.get(index);\n\n      if (!node) {\n        node = state.model!.getByIndex(index)!;\n        nodeCache.current.set(index, node);\n      }\n\n      return node;\n    },\n    [state.model]\n  );\n\n  const renderItem = memo(\n    ({ index, style }: ListChildComponentProps): JSX.Element => {\n      const node = getNodePropertiesByIndex(index);\n\n      return (\n        <div key={node.id} style={style}>\n          {children(node)}\n        </div>\n      );\n    },\n    areEqual\n  );\n\n  function scrollIntoView(node: Node) {\n    const index = node.model.getIndex(node.id);\n\n    if (index > -1 && ref.current) {\n      ref.current.scrollToItem(index, \"smart\");\n    }\n  }\n\n  useEffect(() => {\n    const disposables: Subscription[] = [];\n    const cache = nodeCache.current;\n\n    StructuralRoot.create(provider).then(model => {\n      treeModelRegistry.register(id, model);\n      disposables.push(\n        model.subscribe(batch => {\n          if (\n            batch.some(\n              e =>\n                e.kind !== \"deselected\" &&\n                e.kind !== \"rename\" &&\n                e.kind !== \"selected\"\n            )\n          ) {\n            cache.clear();\n            dispatch({ kind: \"size\", model });\n            ref.current && ref.current.forceUpdate();\n          }\n        })\n      );\n      disposables.push(\n        model.subscribeFor(batch => {\n          scrollIntoView(batch[0].node!);\n        }, \"selected\")\n      );\n      dispatch({ kind: \"init\", model });\n      ref.current && ref.current.forceUpdate();\n      onInitialized && onInitialized(model);\n    });\n\n    return () => {\n      treeModelRegistry.unregister(id);\n\n      let dispose: (() => void) | undefined;\n\n      while ((dispose = disposables.pop())) {\n        dispose();\n      }\n\n      cache.clear();\n    };\n  }, [id, onInitialized, provider]);\n\n  return (\n    <AutoSizer>\n      {({ width, height }) => (\n        <div\n          tabIndex={-1}\n          style={{\n            width: width + \"px\",\n            height: height + \"px\"\n          }}\n        >\n          <List\n            width={width}\n            height={height}\n            itemSize={itemHeight}\n            itemKey={getNodeIdByIndex}\n            itemCount={state.branchSize}\n            overscanCount={5}\n            ref={ref}\n            onScroll={handleScroll}\n          >\n            {renderItem}\n          </List>\n        </div>\n      )}\n    </AutoSizer>\n  );\n});\n\nexport default Tree;\n\ninterface State {\n  model?: TreeModel;\n  branchSize: number;\n}\n\ninterface Action {\n  kind: \"init\" | \"size\";\n  model: TreeModel;\n}\n\nfunction reducer(state: State | undefined, action: Action): State {\n  switch (action.kind) {\n    case \"init\":\n      return {\n        model: action.model,\n        branchSize: action.model.branchSize\n      };\n\n    case \"size\":\n      return {\n        ...state!,\n        branchSize: action.model.branchSize\n      };\n\n    default:\n      throw new Error('Unexpected action with kind \"' + action.kind + '\".');\n  }\n}\n","import React, { FunctionComponent, memo } from \"react\";\nimport styled from \"@bcp/main/styled\";\nimport { ChevronDownIcon, ChevronRightIcon } from \"../icons\";\nimport NodeIconContainer from \"./NodeIconContainer\";\n\ninterface ExpandIconProperties {\n  expanded: boolean;\n  expandable: boolean;\n}\n\nconst ExpandIcon: FunctionComponent<ExpandIconProperties> = memo((props) => {\n  const { expanded, expandable } = props;\n\n  return expandable ? (\n    <NodeIconContainer>\n      {expanded ? <ChevronDownIcon /> : <ChevronRightIcon />}\n    </NodeIconContainer>\n  ) : (\n    <Empty />\n  );\n});\n\nexport default ExpandIcon;\n\nconst Empty = styled.div`\n  flex: 0 0 20px;\n`;\n","import React, {\n  FocusEvent,\n  FunctionComponent,\n  KeyboardEvent,\n  memo,\n  MouseEvent,\n  useEffect,\n  useRef,\n} from \"react\";\nimport TreeModel from \"./abstractions/TreeModel\";\nimport Node from \"./abstractions/Node\";\nimport ValidationResult from \"./abstractions/ValidationResult\";\nimport styled from \"@bcp/main/styled\";\n\ninterface InputFieldProperties {\n  id: number;\n  name: string;\n  model: TreeModel;\n  onError(node: Node, newName: string, result: ValidationResult): void;\n  onExit(node: Node, newName?: string): void;\n}\n\nconst InputField: FunctionComponent<InputFieldProperties> = memo((props) => {\n  const { id, name, model, onError, onExit } = props;\n  const node = model.getById(id)!;\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleBlur = async (e: FocusEvent<HTMLInputElement>) => {\n    const { value } = e.currentTarget;\n\n    if (name === value) {\n      props.onExit(node);\n    } else {\n      const result = await node.validate(value);\n\n      handleResult(result, value);\n    }\n  };\n\n  const handleClick = async (e: MouseEvent<HTMLInputElement>) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  const handleKeyDown = async (e: KeyboardEvent<HTMLInputElement>) => {\n    switch (e.keyCode) {\n      case 13: // Enter\n        const { value } = e.currentTarget;\n        const result = await node.validate(value);\n\n        handleResult(result, value);\n        break;\n\n      case 27: // Esc\n        props.onExit(node);\n        break;\n    }\n  };\n\n  const handleResult = (result: ValidationResult, value: string) => {\n    if (result.succeeded) {\n      inputRef.current!.style.borderColor = \"initial\";\n      inputRef.current!.title = \"\";\n      onExit(node, value);\n    } else {\n      inputRef.current!.style.borderColor = \"#f00\";\n      inputRef.current!.title = result.errorMessage!;\n      onError(node, value, result);\n    }\n  };\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.value = name;\n      inputRef.current.focus();\n    }\n  }, [name]);\n\n  return (\n    <Container>\n      <Input\n        ref={inputRef}\n        type=\"name\"\n        onBlur={handleBlur}\n        onClick={handleClick}\n        onDoubleClick={handleClick}\n        onKeyDown={handleKeyDown}\n      />\n    </Container>\n  );\n});\n\nexport default InputField;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  padding: 1px 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst Input = styled.input`\n  flex: 0 0 auto;\n  margin: 0 3px;\n  background-color: ${(props) => props.theme.createFieldBg};\n  border: 1px solid ${(props) => props.theme.createFieldBorder};\n  color: ${(props) => props.theme.mainBgColor};\n`;\n","import cn from \"classnames\";\nimport React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  ReactElement,\n  useEffect,\n  useState,\n} from \"react\";\nimport styled from \"@bcp/main/styled\";\nimport Node from \"./abstractions/Node\";\nimport ValidationResult from \"./abstractions/ValidationResult\";\nimport ExpandIcon from \"./ExpandIcon\";\nimport InputField from \"./InputField\";\n\nconst nodeRefRegistry = new Map<number, HTMLDivElement>();\n\nexport const renderHeight = 26;\n\ninterface TreeNodeProperties {\n  id: number;\n  depth: number;\n  name: string;\n  path: string;\n  expanded: boolean;\n  expandable: boolean;\n  node: Node;\n  onClick: (e: MouseEvent<HTMLElement>, node: Node) => void;\n  onContextMenu?: (e: MouseEvent<HTMLElement>, node: Node) => void;\n  onDoubleClick?: (e: MouseEvent<HTMLElement>, node: Node) => void;\n  renderIcon: (node: Node) => ReactElement;\n  renderName?: (node: Node) => ReactElement;\n}\n\nconst TreeNode: FunctionComponent<TreeNodeProperties> = memo(\n  (props) => {\n    const {\n      id,\n      depth,\n      path,\n      name: nodeName,\n      expanded,\n      expandable,\n      node,\n      onClick,\n      onContextMenu,\n      onDoubleClick,\n      renderIcon,\n      renderName,\n    } = props;\n    const [editMode, updateEditMode] = useState(node.editMode);\n    const [selected, updateSelected] = useState(node.selected);\n    const [name, updateName] = useState(nodeName);\n\n    const handleContextMenu = (e: MouseEvent<HTMLElement>) => {\n      // context menu event when caused by user pressing context menu key\n      // on keyboard is handled in parent component\n      if (e.nativeEvent.which === 0) {\n        return;\n      }\n\n      if (onContextMenu) {\n        onContextMenu(e, node);\n      }\n    };\n\n    const handleClick = (e: MouseEvent<HTMLElement>) => {\n      if (node.editMode === \"off\") {\n        onClick(e, node);\n      }\n    };\n\n    const handleDoubleClick = (e: MouseEvent<HTMLElement>) => {\n      if (onDoubleClick) {\n        onDoubleClick(e, node);\n      }\n    };\n\n    const handleError = (\n      node: Node,\n      newName: string,\n      result: ValidationResult\n    ) => {};\n\n    const handleExit = (node: Node, newName?: string) => {\n      if (newName) {\n        node.name = newName;\n        node.apply();\n        updateName(newName);\n      } else {\n        node.discard();\n      }\n\n      updateEditMode(\"off\");\n    };\n\n    const handleRef = (ref: HTMLDivElement) => {\n      if (ref) {\n        nodeRefRegistry.set(id, ref);\n      } else {\n        nodeRefRegistry.delete(id);\n      }\n    };\n\n    const handleRenderIcon = () => {\n      return renderIcon(node);\n    };\n\n    useEffect(() => {\n      const unsubscribe = node.model.subscribeTo(\n        (batch) => {\n          const batchOfInterest = batch.filter((e) => e.node!.id === node.id);\n\n          for (let e of batchOfInterest) {\n            switch (e.kind) {\n              case \"deselected\":\n                updateSelected(false);\n                break;\n\n              case \"created\":\n              case \"rename\":\n              case \"renamed\":\n                updateEditMode(e.node!.editMode);\n                break;\n\n              case \"selected\":\n                updateSelected(true);\n                break;\n            }\n          }\n        },\n        node.path,\n        \"created\",\n        \"deselected\",\n        \"rename\",\n        \"renamed\",\n        \"selected\"\n      );\n\n      return () => {\n        unsubscribe();\n      };\n    }, [node]);\n\n    return (\n      <Container\n        ref={handleRef}\n        depth={depth}\n        title={path}\n        onClick={handleClick}\n        onContextMenu={handleContextMenu}\n        onDoubleClick={handleDoubleClick}\n        className={cn({\n          active: selected,\n        })}\n      >\n        <ExpandIcon expandable={expandable} expanded={expanded} />\n        {handleRenderIcon()}\n        {editMode === \"creation\" || editMode === \"renaming\" ? (\n          <InputField\n            id={id}\n            name={name}\n            model={node.model}\n            onError={handleError}\n            onExit={handleExit}\n          />\n        ) : (\n          <Title className=\"label\">\n            {(renderName && renderName(node)) || (\n              <DefaultTitle>{name}</DefaultTitle>\n            )}\n          </Title>\n        )}\n      </Container>\n    );\n  },\n  (prev, next) => {\n    // note: exclude node from the memo check\n\n    for (let name of Object.keys(next)) {\n      if (name !== \"node\" && (prev as any)[name] !== (next as any)[name]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n);\n\nexport default TreeNode;\n\nexport function getBoundingClientRectForItem(node: Node): ClientRect | null {\n  const ref = nodeRefRegistry.get(node.id);\n\n  if (ref) {\n    return ref.getBoundingClientRect();\n  }\n\n  return null;\n}\n\nconst Container = styled.div<{ depth: number }>`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px 4px ${(props) => `${10 + props.depth * 9}px`};\n  color: ${(props) => props.theme.textColor};\n  cursor: pointer;\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.treeHoverBg};\n  }\n\n  &.active {\n    background-color: ${(props) => props.theme.treeSelectedBg};\n\n    &:hover {\n      background-color: ${(props) => props.theme.treeSelectedBg};\n    }\n  }\n\n  > .field {\n    flex: 1 1 auto;\n    margin: 0 3px;\n    background-color: ${(props) => props.theme.createFieldBg};\n    border: 1px solid ${(props) => props.theme.createFieldBorder};\n    color: ${(props) => props.theme.mainBgColor};\n  }\n`;\n\nconst Title = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  padding: 1px 4px;\n`;\n\nconst DefaultTitle = styled.div`\n  flex: 1 1 auto;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import TreeModel from \"../abstractions/TreeModel\";\n\nexport default function deselectCurrent(model: TreeModel) {\n  const current = model.selectedNodes[0];\n\n  if (current) {\n    current.selected = false;\n  }\n}\n","export default class ValidationResult {\n  private constructor(\n    private readonly _succeeded: boolean,\n    private readonly _errorMessage?: string,\n    private readonly _errorDetails?: { [key: string]: any; }\n  ) { }\n\n  get succeeded() {\n    return this._succeeded;\n  }\n\n  get errorMessage() {\n    return this._errorMessage;\n  }\n\n  get errorDetails() {\n    return this._errorDetails;\n  }\n\n  static fail(message: string, details?: { [key: string]: any; }) {\n    return new ValidationResult(false, message, details);\n  }\n\n  static success() {\n    return new ValidationResult(true);\n  }\n}\n","import { Item, Menu, MenuIds } from \"@bcp/main/components/shared\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport store, { deleteCollection } from \"@bcp/main/state\";\nimport React, { MouseEvent } from \"react\";\nimport { contextMenu } from \"react-contexify\";\nimport { MenuItemEventHandler } from \"react-contexify/lib/types\";\n\ninterface Context {\n  collectionId: string;\n  node: Node;\n}\n\nconst deleteHandler: (args: MenuItemEventHandler) => void = async ({\n  props,\n}) => {\n  const { collectionId, node } = props as Context;\n\n  node.model.remove(node);\n  store.dispatch(deleteCollection(collectionId));\n};\n\nconst renameHandler: (args: MenuItemEventHandler) => void = async ({\n  props,\n}) => {\n  const { node } = props as Context;\n\n  node.triggerRename();\n};\n\nconst CollectionMenu = () => (\n  <Menu id={MenuIds.Collection}>\n    <Item onClick={renameHandler}>Rename</Item>\n    <Item onClick={deleteHandler}>Delete</Item>\n  </Menu>\n);\n\nexport default CollectionMenu;\n\nexport function showCollectionMenu(e: MouseEvent<HTMLElement>, node: Node) {\n  e.preventDefault();\n  e.stopPropagation();\n  contextMenu.show({\n    id: MenuIds.Collection,\n    event: e,\n    props: {\n      collectionId: node.metadata!.id,\n      node,\n    },\n  });\n}\n","import { Item, Menu, MenuIds } from \"@bcp/main/components/shared\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport store, { deleteDocument } from \"@bcp/main/state\";\nimport React, { MouseEvent } from \"react\";\nimport { contextMenu } from \"react-contexify\";\nimport { MenuItemEventHandler } from \"react-contexify/lib/types\";\n\ninterface Context {\n  documentId: string;\n  node: Node;\n}\n\nconst deleteHandler: (args: MenuItemEventHandler) => void = async ({\n  props,\n}) => {\n  const { documentId, node } = props as Context;\n\n  node.parent!.remove(node);\n  store.dispatch(deleteDocument(documentId));\n};\n\nconst renameHandler: (args: MenuItemEventHandler) => void = async ({\n  props,\n}) => {\n  const { node } = props as Context;\n\n  node.triggerRename();\n};\n\nconst CollectionMenu = () => (\n  <Menu id={MenuIds.Document}>\n    <Item onClick={renameHandler}>Rename</Item>\n    <Item onClick={deleteHandler}>Delete</Item>\n  </Menu>\n);\n\nexport default CollectionMenu;\n\nexport function showDocumentMenu(e: MouseEvent<HTMLElement>, node: Node) {\n  e.preventDefault();\n  e.stopPropagation();\n  contextMenu.show({\n    id: MenuIds.Document,\n    event: e,\n    props: {\n      documentId: node.metadata!.id,\n      node,\n    },\n  });\n}\n","import React from \"react\";\nimport {\n  faFile as faNewFile,\n  faFolder as faNewFolder,\n} from \"@fortawesome/free-regular-svg-icons\";\nimport {\n  faFile,\n  faFolderOpen,\n  faFolder,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { NodeIcon } from \"@bcp/main/components/shared/tree\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\n\nexport default function renderIcon(node: Node) {\n  if (node.metadata!.kind === \"collection\") {\n    return node.expanded ? (\n      <NodeIcon icon={faFolderOpen} color=\"yellow\" />\n    ) : node.editMode === \"creation\" ? (\n      <NodeIcon icon={faNewFolder} color=\"yellow\" />\n    ) : (\n      <NodeIcon icon={faFolder} color=\"yellow\" />\n    );\n  }\n\n  return node.editMode === \"creation\" ? (\n    <NodeIcon icon={faNewFile} color=\"blue\" />\n  ) : (\n    <NodeIcon icon={faFile} color=\"blue\" />\n  );\n}\n","import { Content, Icon, useHeaderShadow } from \"@bcp/main/components/shared\";\nimport { FilesIcon } from \"@bcp/main/components/shared/icons\";\nimport PanelElement from \"@bcp/main/components/side-bar/PanelElement\";\nimport SideBarHeader from \"@bcp/main/components/side-bar/SideBarHeader\";\nimport SideBarHeaderButton from \"@bcp/main/components/side-bar/SideBarHeaderButton\";\nimport SideBarProperties from \"@bcp/main/components/side-bar/SideBarProperties\";\nimport SideBarSearch from \"@bcp/main/components/side-bar/SideBarSearch\";\nimport SideBarTitle from \"@bcp/main/components/side-bar/SideBarTitle\";\nimport SideBarTitleIconContainer from \"@bcp/main/components/side-bar/SideBarTitleIcon\";\nimport {\n  deselectCurrent,\n  renderHeight,\n  Tree,\n  TreeNode,\n} from \"@bcp/main/components/shared/tree\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport TreeModel from \"@bcp/main/components/shared/tree/abstractions/TreeModel\";\nimport store, {\n  activeNodeId,\n  allCollections,\n  createCollection,\n  createDocument,\n  createDocumentByTab,\n  openDocumentTab,\n  renameCollection,\n  renameDocument,\n  documentSearchTerm,\n  changeDocumentSearchTerm,\n  selectCollection,\n} from \"@bcp/main/state\";\nimport React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  useEffect,\n  useRef,\n} from \"react\";\nimport { faFile, faFolderPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport CollectionMenu, { showCollectionMenu } from \"./CollectionMenu\";\nimport createDataProvider from \"./createDataProvider\";\nimport DocumentMenu, { showDocumentMenu } from \"./DocumentMenu\";\nimport renderIcon from \"./renderIcon\";\n\nconst DocumentPanel: FunctionComponent<SideBarProperties> = memo(\n  ({ location }) => {\n    const [content, header] = useHeaderShadow<HTMLDivElement, HTMLDivElement>();\n    const newDocument = useRef<HTMLButtonElement>(null);\n    const searchTerm = store.current(documentSearchTerm);\n    const provider = createDataProvider();\n    const disposables = useRef<(() => void)[]>([]);\n    const treeModel = useRef<TreeModel | undefined>();\n\n    const handleContentMenu = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (!node.metadata) {\n        throw new Error(\"Metadata should be there.\");\n      }\n\n      switch (node.metadata!.kind) {\n        case \"collection\":\n          showCollectionMenu(e, node);\n          break;\n\n        case \"document\":\n          showDocumentMenu(e, node);\n          break;\n      }\n    };\n\n    const handleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (!node.selected) {\n        deselectCurrent(node.model);\n        node.selected = true;\n      }\n\n      switch (node.metadata!.kind) {\n        case \"document\":\n          store.dispatch(openDocumentTab(node.metadata!.id, true));\n          break;\n\n        case \"collection\":\n          node.toggleExpanded();\n          store.dispatch(selectCollection(node.metadata!.id));\n          break;\n      }\n    };\n\n    const handleDoubleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (node.metadata && node.metadata.kind === \"document\") {\n        store.dispatch(openDocumentTab(node.metadata.id, false));\n      }\n    };\n\n    const handleInitialized = (model: TreeModel) => {\n      const activeNodeIdSubscription = store\n        .select(activeNodeId)\n        .subscribe(async (nodeId) => {\n          await selectNodeById(model, nodeId);\n        });\n      const unsubscribe = model.subscribeFor(\n        async (batch) => {\n          for (let e of batch) {\n            const kind = e.kind;\n            const node = e.node!;\n\n            if (kind === \"created\") {\n              if (node.metadata!.kind === \"document\") {\n                if (node.metadata!.tab) {\n                  store.dispatch(\n                    createDocumentByTab(\n                      node.parent!.name,\n                      node.metadata!.tab,\n                      node.metadata!.closeTabAfterCreation || false\n                    )\n                  );\n\n                  delete node.metadata!.tab;\n                  delete node.metadata!.closeTabAfterCreation;\n                } else {\n                  store.dispatch(\n                    createDocument(node.parent!.metadata!.id, node.name)\n                  );\n                }\n\n                await selectNode(node);\n                node.metadata!.id = store\n                  .current(allCollections)\n                  .find((c) => c.name === node.parent!.name)!\n                  .documents!.find((d) => d.name === node.name)!.id;\n              } else {\n                store.dispatch(createCollection(node.name));\n                await selectNode(node);\n                node.metadata!.id = store\n                  .current(allCollections)\n                  .find((c) => c.name === node.name)!.id;\n              }\n            } else {\n              if (node.metadata!.kind === \"document\") {\n                store.dispatch(renameDocument(node.metadata!.id, node.name));\n              } else {\n                store.dispatch(renameCollection(node.metadata!.id, node.name));\n              }\n            }\n          }\n        },\n        \"created\",\n        \"renamed\"\n      );\n\n      if (searchTerm && searchTerm.length > 0) {\n        model.setFilter(\n          (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n        );\n      }\n\n      disposables.current.push(() => activeNodeIdSubscription.unsubscribe());\n      disposables.current.push(() => unsubscribe());\n      treeModel.current = model;\n    };\n\n    const handleNewCollectionClick = async (e: MouseEvent<HTMLElement>) => {\n      if (treeModel.current) {\n        await treeModel.current.triggerCreate({\n          name: \"\",\n          expandable: true,\n          metadata: {\n            kind: \"collection\",\n          },\n        });\n      }\n    };\n\n    const handleNewDocumentClick = async (e: MouseEvent<HTMLElement>) => {\n      if (treeModel.current) {\n        const node = treeModel.current.selectedNodes[0];\n\n        if (node) {\n          await (node.parent || node).triggerCreate({\n            name: \"\",\n            expandable: false,\n            metadata: {\n              kind: \"document\",\n            },\n          });\n        }\n      }\n    };\n\n    const handleSearchTermChange = async (searchTerm: string) => {\n      store.dispatch(changeDocumentSearchTerm(searchTerm));\n\n      if (treeModel.current) {\n        if (searchTerm.length > 0) {\n          await treeModel.current.setFilter(\n            (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n          );\n        } else {\n          await treeModel.current.resetFilter();\n        }\n      }\n    };\n\n    async function selectNode(node: Node) {\n      if (!node.selected) {\n        deselectCurrent(node.model);\n        node.selected = true;\n      }\n\n      await node.ensureVisible();\n\n      if (newDocument.current) {\n        newDocument.current.style.display = \"initial\";\n      }\n    }\n\n    async function selectNodeById(\n      model: TreeModel,\n      nodeId: string | undefined\n    ) {\n      if (nodeId) {\n        const node = model.find(\n          (n) => n.metadata && n.metadata.id && n.metadata.id === nodeId\n        );\n\n        if (node) {\n          await selectNode(node);\n        } else {\n          deselectCurrent(model);\n\n          if (newDocument.current) {\n            newDocument.current.style.display = \"none\";\n          }\n        }\n      } else {\n        deselectCurrent(model);\n\n        if (newDocument.current) {\n          newDocument.current.style.display = \"none\";\n        }\n      }\n    }\n\n    useEffect(() => {\n      const items = disposables.current;\n\n      return () => {\n        let dispose: (() => void) | undefined;\n\n        while ((dispose = items.pop())) {\n          dispose();\n        }\n\n        treeModel.current = undefined;\n      };\n    }, []);\n\n    return (\n      <PanelElement>\n        <SideBarHeader location={location}>\n          <SideBarTitleIconContainer>\n            <FilesIcon color={(theme) => theme.sideBarHeaderText} />\n          </SideBarTitleIconContainer>\n          <SideBarTitle>Documents</SideBarTitle>\n          <SideBarHeaderButton\n            ref={newDocument}\n            title=\"New Document\"\n            onClick={handleNewDocumentClick}\n          >\n            <Icon icon={faFile} />\n          </SideBarHeaderButton>\n          <SideBarHeaderButton\n            title=\"New Collection\"\n            onClick={handleNewCollectionClick}\n          >\n            <Icon icon={faFolderPlus} />\n          </SideBarHeaderButton>\n        </SideBarHeader>\n        <SideBarSearch\n          ref={header}\n          searchTerm={searchTerm}\n          onSearchTermChange={handleSearchTermChange}\n        />\n        <Content ref={content}>\n          <Tree\n            id=\"documents\"\n            itemHeight={renderHeight}\n            provider={provider}\n            onInitialized={handleInitialized}\n          >\n            {(node) => (\n              <TreeNode\n                id={node.id}\n                depth={node.depth}\n                name={node.name}\n                path={node.path}\n                expanded={node.expanded}\n                expandable={node.expandable}\n                node={node}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick}\n                onContextMenu={handleContentMenu}\n                renderIcon={renderIcon}\n              />\n            )}\n          </Tree>\n        </Content>\n        <CollectionMenu />\n        <DocumentMenu />\n      </PanelElement>\n    );\n  }\n);\n\nexport default DocumentPanel;\n","import DocumentPanel from \"./DocumentPanel\";\n\nexport default DocumentPanel;\n","import store, { allCollections } from \"@bcp/main/state\";\nimport FilterDelegate from \"@bcp/main/components/shared/tree/abstractions/FilterDelegate\";\nimport StructuralDataProvider from \"@bcp/main/components/shared/tree/abstractions/StructuralDataProvider\";\nimport ValidationResult from \"@bcp/main/components/shared/tree/abstractions/ValidationResult\";\nimport Path from \"@bcp/main/components/shared/tree/utilities/Path\";\n\nexport default function createDataProvider(): StructuralDataProvider {\n  return {\n    getNodes: (path: string, filter?: FilterDelegate) => {\n      const collections = store.current(allCollections);\n\n      if (Path.isRoot(path)) {\n        let filteredCollections = collections;\n\n        if (filter) {\n          filteredCollections = collections.filter(\n            (c) => c.documents && c.documents.some((d) => filter(d))\n          );\n        }\n\n        return Promise.resolve(\n          filteredCollections.map(({ id, name, expanded }) => ({\n            name,\n            expanded: filter ? true : expanded,\n            metadata: {\n              id,\n              kind: \"collection\",\n            },\n          }))\n        );\n      }\n\n      const segments = Path.getSegments(path);\n\n      if (segments.length > 1) {\n        return Promise.resolve([]);\n      }\n\n      const collection = collections.find((c) => c.name === segments[0]);\n      let documents = collection && collection.documents;\n\n      if (documents) {\n        if (filter) {\n          documents = documents.filter((d) => filter(d));\n        }\n\n        return Promise.resolve(\n          documents.map(({ id, name }) => ({\n            name,\n            expandable: false,\n            metadata: {\n              id,\n              kind: \"document\",\n            },\n          }))\n        );\n      }\n\n      return Promise.resolve([]);\n    },\n\n    validate(path: string) {\n      const segments = Path.getSegments(path);\n\n      if (segments.length === 0) {\n        return Promise.resolve(\n          ValidationResult.fail(\"An empty path is invalid.\")\n        );\n      }\n\n      const collections = store.current(allCollections);\n      const collection = collections.find((c) => c.name === segments[0]);\n\n      if (segments.length === 1 && collection) {\n        return Promise.resolve(\n          ValidationResult.fail(\n            'A collection with name \"' + segments[0] + '\" already exists.'\n          )\n        );\n      }\n\n      if (\n        segments.length === 2 &&\n        collection &&\n        collection.documents &&\n        collection.documents.find((d) => d.name === segments[1])\n      ) {\n        return Promise.resolve(\n          ValidationResult.fail(\n            'A document with name \"' + segments[1] + '\" already exists.'\n          )\n        );\n      }\n\n      return Promise.resolve(ValidationResult.success());\n    },\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function selectCollection(id: string) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const collection = workspace.collections.find((c) => c.id === id);\n\n    if (collection) {\n      workspace.selectedNodeId = id;\n      collection.expanded = !collection.expanded;\n    }\n  };\n}\n","import { Mutation, Query, Subscription } from \"@bcp/main/components/shared\";\nimport {\n  CalendarIcon,\n  FlexIconContainer,\n} from \"@bcp/main/components/shared/icons\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport styled from \"@bcp/main/styled\";\nimport React from \"react\";\n\nexport default function renderIcon(node: Node) {\n  if (node.metadata!.kind === \"group\") {\n    return (\n      <FlexIconContainer>\n        <CalendarIcon color={(theme) => theme.yellow} />\n      </FlexIconContainer>\n    );\n  }\n\n  return (\n    <OperationTypeContainer>\n      {node.metadata!.operationType === \"mutation\" ? (\n        <Mutation title=\"Mutation\" />\n      ) : node.metadata!.operationType === \"subscription\" ? (\n        <Subscription title=\"Subscription\" />\n      ) : (\n        <Query title=\"Query\" />\n      )}\n    </OperationTypeContainer>\n  );\n}\n\nconst OperationTypeContainer = styled.div`\n  display: flex;\n  flex: 0 0 20px;\n  flex-direction: row;\n  justify-content: center;\n`;\n","import { Content, useHeaderShadow } from \"@bcp/main/components/shared\";\nimport {\n  CircleSlashIcon,\n  ErrorIcon,\n  HistoryIcon,\n  PassIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport {\n  deselectCurrent,\n  NodeIconContainer,\n  renderHeight,\n  Tree,\n  TreeNode,\n} from \"@bcp/main/components/shared/tree\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport TreeModel from \"@bcp/main/components/shared/tree/abstractions/TreeModel\";\nimport PanelElement from \"@bcp/main/components/side-bar/PanelElement\";\nimport SideBarHeader from \"@bcp/main/components/side-bar/SideBarHeader\";\nimport SideBarHeaderButton from \"@bcp/main/components/side-bar/SideBarHeaderButton\";\nimport SideBarProperties from \"@bcp/main/components/side-bar/SideBarProperties\";\nimport SideBarSearch from \"@bcp/main/components/side-bar/SideBarSearch\";\nimport SideBarTitle from \"@bcp/main/components/side-bar/SideBarTitle\";\nimport SideBarTitleIconContainer from \"@bcp/main/components/side-bar/SideBarTitleIcon\";\nimport store, {\n  clearHistory,\n  openHistoryTab,\n  historySearchTerm,\n  changeHistorySearchTerm,\n  activeNodeId,\n} from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  useEffect,\n  useRef,\n} from \"react\";\nimport createDataProvider from \"./createDataProvider\";\nimport renderIcon from \"./renderIcon\";\nimport useGroupedHistory from \"./useGroupedHistory\";\n\nconst HistoryPanel: FunctionComponent<SideBarProperties> = memo(\n  ({ location }) => {\n    const [content, header] = useHeaderShadow<HTMLDivElement, HTMLDivElement>();\n    const history = useGroupedHistory();\n    const searchTerm = store.current(historySearchTerm);\n    const provider = createDataProvider(history);\n    const disposables = useRef<(() => void)[]>([]);\n    const treeModel = useRef<TreeModel | undefined>();\n\n    const handleClearHistory = () => {\n      store.dispatch(clearHistory);\n    };\n\n    // todo: debounce\n    const handleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (!node.selected) {\n        deselectCurrent(node.model);\n        node.selected = true;\n      }\n\n      if (node.metadata!.kind === \"group\") {\n        node.toggleExpanded();\n      } else {\n        store.dispatch(openHistoryTab(node.metadata!.id, true));\n      }\n    };\n\n    const handleDoubleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (node.metadata!.kind === \"item\") {\n        store.dispatch(openHistoryTab(node.metadata!.id, false));\n      }\n    };\n\n    const handleInitialized = (model: TreeModel) => {\n      const activeNodeIdSubscription = store\n        .select(activeNodeId)\n        .subscribe(async (nodeId) => {\n          // todo: scroll position\n          selectNodeById(model, nodeId);\n        });\n\n      if (searchTerm && searchTerm.length > 0) {\n        model.setFilter(\n          (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n        );\n      }\n\n      treeModel.current = model;\n      disposables.current.push(() => activeNodeIdSubscription.unsubscribe());\n    };\n\n    const handleSearchTermChange = async (searchTerm: string) => {\n      store.dispatch(changeHistorySearchTerm(searchTerm));\n\n      if (treeModel.current) {\n        if (searchTerm.length > 0) {\n          await treeModel.current.setFilter(\n            (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n          );\n        } else {\n          await treeModel.current.resetFilter();\n        }\n      }\n    };\n\n    const renderName = (node: Node) => {\n      return (\n        <>\n          <ItemTitle title={node.name}>{node.name}</ItemTitle>\n          <Time title={node.metadata!.time}>{node.metadata!.time}</Time>\n          {node.metadata!.kind === \"group\" ? (\n            <></>\n          ) : (\n            <NodeIconContainer\n              title={\n                node.metadata!.failed\n                  ? \"Operation failed\"\n                  : \"Operation succeeded\"\n              }\n            >\n              {node.metadata!.failed ? <ErrorIcon /> : <PassIcon />}\n            </NodeIconContainer>\n          )}\n        </>\n      );\n    };\n\n    async function selectNodeById(\n      model: TreeModel,\n      nodeId: string | undefined\n    ) {\n      if (nodeId) {\n        const node = model.find(\n          (n) => n.metadata && n.metadata.id && n.metadata.id === nodeId\n        );\n\n        if (node) {\n          if (!node.selected) {\n            deselectCurrent(model);\n            node.selected = true;\n          }\n\n          await node.ensureVisible();\n        } else {\n          deselectCurrent(model);\n        }\n      } else {\n        deselectCurrent(model);\n      }\n    }\n\n    useEffect(() => {\n      const items = disposables.current;\n\n      return () => {\n        let dispose: (() => void) | undefined;\n\n        while ((dispose = items.pop())) {\n          dispose();\n        }\n\n        treeModel.current = undefined;\n      };\n    }, []);\n\n    return (\n      <PanelElement>\n        <SideBarHeader location={location}>\n          <SideBarTitleIconContainer>\n            <HistoryIcon color={(theme) => theme.sideBarHeaderText} />\n          </SideBarTitleIconContainer>\n          <SideBarTitle>History</SideBarTitle>\n          <SideBarHeaderButton\n            title=\"Clear History\"\n            onClick={handleClearHistory}\n          >\n            <CircleSlashIcon color={(theme) => theme.sideBarHeaderText} />\n          </SideBarHeaderButton>\n        </SideBarHeader>\n        <SideBarSearch\n          ref={header}\n          searchTerm={searchTerm}\n          onSearchTermChange={handleSearchTermChange}\n        />\n        <Content ref={content}>\n          <Tree\n            id=\"history\"\n            itemHeight={renderHeight}\n            provider={provider}\n            onInitialized={handleInitialized}\n          >\n            {(node) => (\n              <TreeNode\n                id={node.id}\n                depth={node.depth}\n                name={node.name}\n                path={node.path}\n                expanded={node.expanded}\n                expandable={node.expandable}\n                node={node}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick}\n                renderIcon={renderIcon}\n                renderName={renderName}\n              />\n            )}\n          </Tree>\n        </Content>\n      </PanelElement>\n    );\n  }\n);\n\nexport default HistoryPanel;\n\nconst ItemTitle = styled.h3`\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  padding: 0 4px 0 0;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst Time = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  padding: 0 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import moment from \"moment\";\nimport { useSelector } from \"@bcp/main/state\";\nimport History from \"@bcp/shared/models/History\";\nimport { allHistoryItems } from \"@bcp/main/state/selectors\";\nimport HistoryGroup from \"./HistoryGroup\";\n\nexport default function useGroupedHistory(): HistoryGroup[] {\n  const history = useSelector(allHistoryItems);\n\n  return history\n    .map((h) => {\n      const local = moment(h.timestamp).local();\n\n      return {\n        ...h,\n        title: getTitle(h),\n        day: local.format(\"D MMMM YYYY\"),\n        time: local.format(\"HH:mm\"),\n      };\n    })\n    .reduce((a: HistoryGroup[], c) => {\n      let group = a.find((g) => g.title === c.day);\n\n      if (group) {\n        group.items.push(c);\n      } else {\n        group = {\n          title: c.day,\n          items: [c],\n        };\n        a.push(group);\n      }\n\n      return a;\n    }, []);\n}\n\nfunction getTitle(item: History) {\n  if (item.operationName && item.operationName.length > 0) {\n    return `${item.operationName} [${item.name}]`;\n  }\n\n  return item.name;\n}\n","import FilterDelegate from \"@bcp/main/components/shared/tree/abstractions/FilterDelegate\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport StructuralDataProvider from \"@bcp/main/components/shared/tree/abstractions/StructuralDataProvider\";\nimport ValidationResult from \"@bcp/main/components/shared/tree/abstractions/ValidationResult\";\nimport Path from \"@bcp/main/components/shared/tree/utilities/Path\";\nimport HistoryGroup from \"./HistoryGroup\";\n\nexport default function createDataProvider(\n  history: HistoryGroup[]\n): StructuralDataProvider {\n  return {\n    comparer: (a: Node, b: Node) => {\n      const indexA = a.metadata!.index;\n      const indexB = b.metadata!.index;\n\n      if (indexA < indexB) {\n        return -1;\n      }\n\n      if (indexA > indexB) {\n        return 1;\n      }\n\n      return 0;\n    },\n\n    getNodes: (path: string, filter?: FilterDelegate) => {\n      if (Path.isRoot(path)) {\n        let groups = history;\n\n        if (filter) {\n          groups = history.filter((group) =>\n            group.items.some(({ title: name }) => filter({ name }))\n          );\n        }\n\n        return Promise.resolve(\n          groups.map(({ title: name }, index) => ({\n            name,\n            expanded: filter ? true : index === 0,\n            metadata: {\n              kind: \"group\",\n              index,\n            },\n          }))\n        );\n      }\n\n      const segments = Path.getSegments(path);\n\n      if (segments.length > 1) {\n        return Promise.resolve([]);\n      }\n\n      let group = history.find((g) => g.title === segments[0]);\n\n      if (group && group.items) {\n        let items = group.items.map((item, index) => ({\n          name: item.title,\n          expandable: false,\n          metadata: {\n            id: item.id,\n            kind: \"item\",\n            failed: item.failed,\n            index,\n            operationType: item.operationType,\n            time: item.time,\n          },\n        }));\n\n        if (filter) {\n          items = items.filter((i) => filter(i));\n        }\n\n        return Promise.resolve(items);\n      }\n\n      return Promise.resolve([]);\n    },\n\n    validate(path: string) {\n      return Promise.resolve(ValidationResult.fail(\"This tree is read-only.\"));\n    },\n  };\n}\n","import HistoryPanel from \"./HistoryPanel\";\n\nexport default HistoryPanel;\n","import { SchemaFieldType, SchemaType } from \"@bcp/shared/common\";\nimport { schemaBrowser } from \"@bcp/main/services\";\nimport { Path, ValidationResult } from \"@bcp/main/components/shared/tree\";\nimport FilterDelegate from \"@bcp/main/components/shared/tree/abstractions/FilterDelegate\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport StructuralDataProvider from \"@bcp/main/components/shared/tree/abstractions/StructuralDataProvider\";\n\nexport default function createDataProvider(): StructuralDataProvider {\n  return {\n    comparer: (a: Node, b: Node) => {\n      const indexA = a.metadata!.index;\n      const indexB = b.metadata!.index;\n\n      if (indexA < indexB) {\n        return -1;\n      }\n\n      if (indexA > indexB) {\n        return 1;\n      }\n\n      return 0;\n    },\n\n    getNodes: async (path: string, filter?: FilterDelegate) => {\n      if (Path.isRoot(path)) {\n        const rootTypeMap = new Map<string, boolean>();\n        const rootTypes: SchemaType[] =\n          (await schemaBrowser.getRootTypes()) || [];\n\n        if (filter) {\n          for (let type of rootTypes) {\n            const rootFields: SchemaFieldType[] =\n              (await schemaBrowser.getFields(type.name)) || [];\n\n            rootTypeMap.set(\n              type.name,\n              rootFields.filter(({ name }) => filter({ name })).length > 0\n            );\n          }\n\n          return mapRootTypes(\n            rootTypes.filter(\n              ({ name }) => filter({ name }) || rootTypeMap.get(name)\n            )\n          );\n        }\n\n        return mapRootTypes(rootTypes);\n      }\n\n      const typeName = path.substring(1);\n      const rootFields: SchemaFieldType[] =\n        (await schemaBrowser.getFields(typeName)) || [];\n\n      if (filter) {\n        return mapRootFields(rootFields.filter(({ name }) => filter({ name })));\n      }\n\n      return mapRootFields(rootFields);\n    },\n\n    validate() {\n      return Promise.resolve(ValidationResult.fail(\"This tree is read-only.\"));\n    },\n  };\n}\n\nfunction mapRootFields(rootFields: SchemaFieldType[]) {\n  return rootFields.map((field, index) => ({\n    name: field.name,\n    expandable: false,\n    metadata: {\n      id: field.id,\n      index,\n      kind: \"field\",\n      field,\n    },\n  }));\n}\n\nfunction mapRootTypes(rootTypes: SchemaType[]) {\n  return rootTypes.map((type, index) => ({\n    name: type.name,\n    expandable: true,\n    expanded: true, // todo: implement state here\n    metadata: {\n      id: type.id,\n      index,\n      kind: \"type\",\n      type,\n    },\n  }));\n}\n","import { Content, useHeaderShadow } from \"@bcp/main/components/shared\";\nimport {\n  BookIcon,\n  FieldIcon,\n  FlexIconContainer,\n  renderTypeIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport {\n  deselectCurrent,\n  renderHeight,\n  Tree,\n  TreeNode,\n} from \"@bcp/main/components/shared/tree\";\nimport Node from \"@bcp/main/components/shared/tree/abstractions/Node\";\nimport TreeModel from \"@bcp/main/components/shared/tree/abstractions/TreeModel\";\nimport PanelElement from \"@bcp/main/components/side-bar/PanelElement\";\nimport SideBarHeader from \"@bcp/main/components/side-bar/SideBarHeader\";\nimport SideBarProperties from \"@bcp/main/components/side-bar/SideBarProperties\";\nimport SideBarSearch from \"@bcp/main/components/side-bar/SideBarSearch\";\nimport SideBarTitle from \"@bcp/main/components/side-bar/SideBarTitle\";\nimport SideBarTitleIconContainer from \"@bcp/main/components/side-bar/SideBarTitleIcon\";\nimport { languageService, workerContextProxyService } from \"@bcp/main/services\";\nimport store, {\n  activeNodeId,\n  changeSchemaSearchTerm,\n  openSchemaTab,\n  schemaSearchTerm,\n} from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport { SchemaType, SchemaValueType } from \"@bcp/shared/common\";\nimport React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  useEffect,\n  useRef,\n} from \"react\";\nimport createDataProvider from \"./createDataProvider\";\n\nconst SchemaPanel: FunctionComponent<SideBarProperties> = memo(\n  ({ location }) => {\n    const [content, header] = useHeaderShadow<HTMLDivElement, HTMLDivElement>();\n    const searchTerm = store.current(schemaSearchTerm);\n    const provider = createDataProvider();\n    const disposables = useRef<(() => void)[]>([]);\n    const schemaEndpoint = useRef<string | undefined>();\n    const treeModel = useRef<TreeModel | undefined>();\n\n    const handleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      if (!node.selected) {\n        deselectCurrent(node.model);\n        node.selected = true;\n      }\n\n      switch (node.metadata!.kind) {\n        case \"field\":\n          store.dispatch(\n            openSchemaTab(\n              node.metadata!.field,\n              workerContextProxyService.session,\n              true\n            )\n          );\n          break;\n\n        case \"type\":\n          node.toggleExpanded();\n          store.dispatch(\n            openSchemaTab(\n              node.metadata!.type,\n              workerContextProxyService.session,\n              true\n            )\n          );\n          break;\n      }\n    };\n\n    const handleDoubleClick = (e: MouseEvent<HTMLElement>, node: Node) => {\n      store.dispatch(\n        openSchemaTab(\n          node.metadata!.field || node.metadata!.type,\n          workerContextProxyService.session,\n          false\n        )\n      );\n    };\n\n    const handleInitialized = (model: TreeModel) => {\n      let initialized = false;\n      const activeNodeIdSubscription = store\n        .select(activeNodeId)\n        .subscribe(async (nodeId) => {\n          await selectNodeById(model, nodeId);\n        });\n      const schemaInfoSubsription = languageService.subscribeToSchemaInfoChange(\n        async (info) => {\n          if (initialized && schemaEndpoint.current !== info.endpoint) {\n            schemaEndpoint.current = info.endpoint;\n            await model.reload();\n          }\n        }\n      );\n\n      if (searchTerm && searchTerm.length > 0) {\n        model.setFilter(\n          (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n        );\n      }\n\n      const modelReloadSubsription = model.subscribeFor(async () => {\n        const nodeId = store.current(activeNodeId);\n\n        await selectNodeById(model, nodeId);\n      }, \"reloaded\");\n\n      disposables.current.push(() => activeNodeIdSubscription.unsubscribe());\n      disposables.current.push(() => modelReloadSubsription());\n      disposables.current.push(() => schemaInfoSubsription.unsubscribe());\n      treeModel.current = model;\n      initialized = true;\n    };\n\n    const handleSearchTermChange = async (searchTerm: string) => {\n      store.dispatch(changeSchemaSearchTerm(searchTerm));\n\n      if (treeModel.current) {\n        if (searchTerm.length > 0) {\n          await treeModel.current.setFilter(\n            (n) => n.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\n          );\n        } else {\n          await treeModel.current.resetFilter();\n        }\n      }\n    };\n\n    const renderIcon = (node: Node) => {\n      const type = node.metadata!.type as SchemaType;\n\n      return (\n        <FlexIconContainer>\n          {type ? renderTypeIcon(type.typeKind) : <FieldIcon />}\n        </FlexIconContainer>\n      );\n    };\n\n    const renderName = (node: Node) => {\n      if (node.metadata!.type) {\n        return <Title>{node.name}</Title>;\n      } else {\n        return (\n          <Title>\n            {node.name}\n            {node.metadata!.field.arguments &&\n              node.metadata!.field.arguments.length > 0 &&\n              \"(...)\"}\n            : {renderType(node.metadata!.field.valueType)}\n          </Title>\n        );\n      }\n    };\n\n    const renderType = (type: SchemaType | SchemaValueType) => {\n      const output: string[] = [];\n\n      if (type.kind === \"value-type\") {\n        const result = renderType(type.type);\n\n        if (type.isList) {\n          output.push(`[${result}]`);\n        } else {\n          output.push(result);\n        }\n\n        if (!type.isOptional) {\n          output.push(\"!\");\n        }\n      } else {\n        output.push(type.name);\n      }\n\n      return output.join(\"\");\n    };\n\n    async function selectNodeById(\n      model: TreeModel,\n      nodeId: string | undefined\n    ) {\n      if (nodeId) {\n        const node = model.find(\n          (n) => n.metadata && n.metadata.id && n.metadata.id === nodeId\n        );\n\n        if (node) {\n          if (!node.selected) {\n            deselectCurrent(model);\n            node.selected = true;\n          }\n\n          await node.ensureVisible();\n        } else {\n          deselectCurrent(model);\n        }\n      } else {\n        deselectCurrent(model);\n      }\n    }\n\n    useEffect(() => {\n      const items = disposables.current;\n\n      return () => {\n        let dispose: (() => void) | undefined;\n\n        while ((dispose = items.pop())) {\n          dispose();\n        }\n\n        schemaEndpoint.current = undefined;\n        treeModel.current = undefined;\n      };\n    }, []);\n\n    return (\n      <PanelElement>\n        <SideBarHeader location={location}>\n          <SideBarTitleIconContainer>\n            <BookIcon color={(theme) => theme.sideBarHeaderText} />\n          </SideBarTitleIconContainer>\n          <SideBarTitle>Schema</SideBarTitle>\n        </SideBarHeader>\n        <SideBarSearch\n          ref={header}\n          searchTerm={searchTerm}\n          onSearchTermChange={handleSearchTermChange}\n        />\n        <Content ref={content}>\n          <Tree\n            id=\"schema\"\n            itemHeight={renderHeight}\n            provider={provider}\n            onInitialized={handleInitialized}\n          >\n            {(node) => (\n              <TreeNode\n                id={node.id}\n                depth={node.depth}\n                name={node.name}\n                path={node.path}\n                expanded={node.expanded}\n                expandable={node.expandable}\n                node={node}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick}\n                renderIcon={renderIcon}\n                renderName={renderName}\n              />\n            )}\n          </Tree>\n        </Content>\n      </PanelElement>\n    );\n  }\n);\n\nexport default SchemaPanel;\n\nconst Title = styled.div`\n  flex: 1 1 auto;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import SchemaPanel from \"./SchemaPanel\";\n\nexport default SchemaPanel;\n","import SideBar from \"./SideBar\";\n\nexport default SideBar;\n","import React, { FunctionComponent } from \"react\";\nimport { useSelector } from \"@bcp/main/state\";\nimport NavigationItemId from \"@bcp/shared/models/NavigationItemId\";\nimport { activeNavigationItemId } from \"@bcp/main/state/selectors\";\nimport DocumentPanel from \"./document-panel\";\nimport HistoryPanel from \"./history-panel\";\nimport SchemaPanel from \"./schema-panel\";\nimport SideBarProperties from \"./SideBarProperties\";\n\nconst SideBar: FunctionComponent<SideBarProperties> = ({ location }) => {\n  const activeId = useSelector(activeNavigationItemId);\n\n  switch (activeId) {\n    case NavigationItemId.QueryDocuments:\n      return <DocumentPanel location={location} />;\n\n    case NavigationItemId.History:\n      return <HistoryPanel location={location} />;\n\n    case NavigationItemId.Schema:\n      return <SchemaPanel location={location} />;\n\n    default:\n      throw Error();\n  }\n};\n\nexport default SideBar;\n","import styled, { keyframes } from \"@bcp/main/styled\";\nimport React from \"react\";\n\nconst Spinner = () => (\n  <Wrapper>\n    <Quater />\n    <Quater />\n    <Quater />\n    <Quater />\n  </Wrapper>\n);\n\nexport default Spinner;\n\nconst rotation = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Quater = styled.div`\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 52px;\n  height: 52px;\n  margin: 6px;\n  border: 6px solid ${(props) => props.theme.sideBarHeaderBg};\n  border-radius: 100%;\n  animation: ${rotation} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: ${(props) => props.theme.sideBarHeaderBg} transparent\n    transparent transparent;\n`;\n\nconst Wrapper = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 64px;\n  height: 64px;\n  transform: translate(-50%, -50%);\n  z-index: 30;\n\n  > ${Quater}:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n\n  > ${Quater}:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n\n  > ${Quater}:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n`;\n","import styled from \"@bcp/main/styled\";\n\nconst Button = styled.button`\n  flex: 0 0 30px;\n  height: 30px;\n  color: ${(props) => props.theme.contentTabText};\n  opacity: 0.75;\n  transition: color 0.2s ease, opacity 0.2s ease;\n\n  &:hover {\n    color: ${(props) => props.theme.contentTabTextActive};\n    opacity: 1;\n  }\n`;\n\nexport default Button;\n","import styled from \"@bcp/main/styled\";\n\nconst Tab = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  height: 30px;\n  padding: 0 12px;\n  color: ${(props) => props.theme.contentTabText};\n  cursor: pointer;\n  opacity: 0.75;\n  transition: background-color 0.2s ease, color 0.2s ease, opacity 0.2s ease;\n\n  &.active,\n  &.active:hover {\n    background-color: ${(props) => props.theme.contentTabBgActive};\n    color: ${(props) => props.theme.contentTabTextActive};\n    opacity: 1;\n  }\n\n  &:hover {\n    color: ${(props) => props.theme.contentTabTextActive};\n    opacity: 1;\n  }\n`;\n\nexport default Tab;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"@bcp/main/styled\";\n\nconst TabIcon = styled(FontAwesomeIcon)`\n  padding-right: 10px;\n`;\n\nexport default TabIcon;\n","import styled from \"styled-components\";\n\nconst TabIconContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-right: 6px;\n`;\n\nexport default TabIconContainer;\n","import styled from \"@bcp/main/styled\";\n\nconst Tabs = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  height: 100%;\n  background-color: ${(props) => props.theme.contentTabsBg};\n`;\n\nexport default Tabs;\n","import styled from \"@bcp/main/styled\";\n\nconst ContentPanel = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n`;\n\nexport default ContentPanel;\n","import styled from \"@bcp/main/styled\";\n\nconst EmptyContent = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  opacity: 0.75;\n  font-size: 1.667em;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default EmptyContent;\n","import styled from \"@bcp/main/styled\";\n\nconst FieldContainer = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  justify-content: center;\n  border-bottom: 1px solid ${(props) => props.theme.contentBorder};\n  padding: 0 8px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default FieldContainer;\n","import styled from \"@bcp/main/styled\";\n\nconst FooterContainer = styled.footer`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n  background-color: ${(props) => props.theme.sideBarBg};\n`;\n\nexport default FooterContainer;\n","import React, {\n  FunctionComponent,\n  memo,\n  MouseEvent,\n  ReactNode,\n  useEffect,\n  useReducer,\n} from \"react\";\nimport styled from \"@bcp/main/styled\";\nimport { createPortal } from \"react-dom\";\nimport { ChevronDownIcon } from \"@bcp/main/components/shared/icons\";\n\nexport interface Option {\n  content: ReactNode;\n  key: string;\n  title?: string;\n  value: string;\n}\n\ninterface SelectionProperties {\n  disabled?: boolean;\n  options: Option[];\n  selected: Option;\n  onSelectionChange?: (option: Option) => void;\n}\n\nenum MenuActionType {\n  collapse = 0,\n  expand = 1,\n  select = 2,\n}\n\nconst Selection: FunctionComponent<SelectionProperties> = memo((props) => {\n  const initialState: MenuState = {\n    expanded: false,\n    selected: props.selected,\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const clickHandler = (e: MouseEvent<HTMLDivElement>) => {\n    if (props.disabled) {\n      return;\n    }\n\n    if (state.expanded) {\n      dispatch({\n        type: MenuActionType.collapse,\n      });\n    } else {\n      const rect = e.currentTarget.getBoundingClientRect();\n\n      dispatch({\n        type: MenuActionType.expand,\n        top: rect.bottom,\n        left: rect.left,\n        width: rect.width,\n      });\n    }\n  };\n\n  const selectionChangeHandler = (\n    e: MouseEvent<HTMLDivElement>,\n    option: Option\n  ) => {\n    e.stopPropagation();\n    props.onSelectionChange && props.onSelectionChange(option);\n    dispatch({\n      type: MenuActionType.select,\n      selected: option,\n    });\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: MenuActionType.select,\n      selected: props.selected,\n    });\n  }, [props.selected]);\n\n  useEffect(() => {\n    const exitHandler = () => {\n      if (state.expanded) {\n        dispatch({\n          type: MenuActionType.collapse,\n        });\n      }\n    };\n\n    document.addEventListener(\"click\", exitHandler);\n    document.addEventListener(\"contextmenu\", exitHandler);\n    window.addEventListener(\"resize\", exitHandler);\n\n    return () => {\n      document.removeEventListener(\"click\", exitHandler);\n      document.addEventListener(\"contextmenu\", exitHandler);\n      window.removeEventListener(\"resize\", exitHandler);\n    };\n  }, [state.expanded]);\n\n  return (\n    <SelectionContainer disabled={props.disabled} onClick={clickHandler}>\n      <Trigger title={state.selected.title}>\n        {state.selected.content}\n        <ChevronDownIcon />\n      </Trigger>\n      {state.expanded &&\n        createPortal(\n          <Content menuState={state}>\n            {props.options.map((o) => (\n              <OptionElement\n                key={o.key}\n                title={o.title}\n                onClick={(e) => selectionChangeHandler(e, o)}\n              >\n                {o.content}\n              </OptionElement>\n            ))}\n          </Content>,\n          document.getElementById(\"components\")!\n        )}\n    </SelectionContainer>\n  );\n});\n\nexport default Selection;\n\ninterface MenuAction {\n  type: MenuActionType;\n  selected?: Option;\n  top?: number;\n  left?: number;\n  width?: number;\n}\n\ninterface MenuState {\n  expanded: boolean;\n  selected: Option;\n  top?: number;\n  left?: number;\n  width?: number;\n}\n\nfunction reducer(prevState: MenuState, action: MenuAction): MenuState {\n  switch (action.type) {\n    case MenuActionType.collapse:\n      return {\n        expanded: false,\n        selected: prevState.selected,\n      };\n\n    case MenuActionType.expand:\n      return {\n        expanded: true,\n        selected: prevState.selected,\n        top: action.top,\n        left: action.left,\n        width: action.width,\n      };\n\n    case MenuActionType.select:\n      return {\n        ...prevState,\n        selected: action.selected!,\n      };\n  }\n\n  throw new Error();\n}\n\ninterface SelectionContainerProperties {\n  disabled?: boolean;\n}\n\nconst SelectionContainer = styled.div<SelectionContainerProperties>`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: center;\n  padding: 11px 11px 10px;\n  color: ${(props) => props.theme.contextMenuText};\n  cursor: ${(props) => (props.disabled ? \"default\" : \"pointer\")};\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ${(props) => props.theme.contextMenuText};\n  }\n`;\n\nconst Trigger = styled.div`\n  display: flex;\n  align-items: center;\n\n  & > svg {\n    margin-left: 7px;\n  }\n`;\n\ninterface ContentProperties {\n  menuState: MenuState;\n}\n\nconst Content = styled.div<ContentProperties>`\n  display: flex;\n  position: absolute;\n  z-index: 20;\n  flex-direction: column;\n  top: ${(props) => props.menuState.top || 0}px;\n  left: ${(props) => (props.menuState.left ? props.menuState.left - 1 : 0)}px;\n  max-width: 200px;\n  min-width: ${(props) => props.menuState.width || 0}px;\n  border: 1px solid ${(props) => props.theme.contextMenuBorder};\n  background-color: ${(props) => props.theme.contextMenuBg};\n  color: ${(props) => props.theme.contextMenuText};\n`;\n\nconst OptionElement = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 11px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.contextMenuItemBgActive};\n    color: ${(props) => props.theme.contextMenuItemTextActive};\n  }\n`;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { HttpMethod } from \"@bcp/shared/common\";\nimport Selection, { Option } from \"./Selection\";\n\ninterface HttpMethodsProperties {\n  disabled?: boolean;\n  selectedKey?: HttpMethod;\n  onSelectionChange?: (option: Option) => void;\n}\n\nconst HttpMethods: FunctionComponent<HttpMethodsProperties> = memo((props) => {\n  const options = [\n    { content: \"GET\", key: \"GET\", title: \"GET\", value: \"GET\" },\n    { content: \"POST\", key: \"POST\", title: \"POST\", value: \"POST\" },\n  ];\n  const selected =\n    (props.selectedKey && options.find((o) => o.key === props.selectedKey)) ||\n    options[1];\n\n  return (\n    <Selection\n      disabled={props.disabled}\n      options={options}\n      selected={selected}\n      onSelectionChange={props.onSelectionChange}\n    />\n  );\n});\n\nexport default HttpMethods;\n","import EditorContainer from \"@bcp/main/components/shared/EditorContainer\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport JsonEditorProperties from \"./JsonEditorProperties\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\n\nconst JsonEditor: FunctionComponent<JsonEditorProperties> = memo((props) => {\n  const model = useModel(props);\n  const editor = useEditor(model);\n\n  return <EditorContainer ref={editor} />;\n});\n\nexport default JsonEditor;\n","import { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function useEditor(model: Editor.ITextModel) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n    const subscription = editor.onDidChangeModelContent((e) => {\n      editor.setScrollPosition({ scrollLeft: 0, scrollTop: 0 });\n    });\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      if (\n        editor.getLayoutInfo().width !== rect.width ||\n        editor.getLayoutInfo().height !== rect.height\n      ) {\n        editor.layout({\n          width: rect.width,\n          height: rect.height,\n        });\n      }\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      subscription.dispose();\n      editor.dispose();\n    };\n  }, [model]);\n\n  return ref;\n}\n","import \"monaco-editor/esm/vs/basic-languages/graphql/graphql.contribution\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport JsonEditorProperties from \"./JsonEditorProperties\";\n\nexport default function useModel(props: JsonEditorProperties) {\n  const model = useRef<Editor.ITextModel>(Editor.createModel(\"\", \"json\"));\n  const { content } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const value = (content && JSON.stringify(content, null, 2)) || \"\";\n\n    model.current.setValue(value);\n  }, [model, content]);\n\n  return model.current;\n}\n","import styled from \"@bcp/main/styled\";\n\nconst Main = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n`;\n\nexport default Main;\n","import styled from \"@bcp/main/styled\";\n\nconst SchemaEndpointUrlField = styled.input`\n  flex: 1 1 auto;\n  border: 0 none;\n  padding: 11px 11px;\n  background: #fff;\n  color: ${(props) => props.theme.textColor};\n`;\n\nexport default SchemaEndpointUrlField;\n","import styled, { keyframes } from \"@bcp/main/styled\";\nimport React from \"react\";\n\nconst Spinner = () => (\n  <Wrapper>\n    <Quater />\n    <Quater />\n    <Quater />\n    <Quater />\n  </Wrapper>\n);\n\nexport default Spinner;\n\nconst rotation = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Quater = styled.div`\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  margin: 2px;\n  border: 2px solid ${(props) => props.theme.tabsBg};\n  border-radius: 100%;\n  animation: ${rotation} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: ${(props) => props.theme.tabsBg} transparent transparent\n    transparent;\n`;\n\nconst Wrapper = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 18px;\n  height: 18px;\n\n  > ${Quater}:nth-child(1) {\n    animation-delay: -0.45s;\n  }\n\n  > ${Quater}:nth-child(2) {\n    animation-delay: -0.3s;\n  }\n\n  > ${Quater}:nth-child(3) {\n    animation-delay: -0.15s;\n  }\n`;\n","import styled from \"styled-components\";\n\nconst SpinnerContainer = styled.div`\n  flex: 0 0 auto;\n  padding: 10px 11px 0;\n`;\n\nexport default SpinnerContainer;\n","import React, {\n  FunctionComponent,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport { UIWindow } from \"../../../../../../old-ui/src/ui/UIWindow\";\nimport store, { changeZoomFactor, zoomFactor } from \"@bcp/main/state\";\nimport { ZoomFactor } from \"@bcp/shared/models/Preferences\";\nimport styled from \"@bcp/main/styled\";\nimport { ZoomInIcon, ZoomOutIcon } from \"@bcp/main/components/shared/icons\";\nimport { Button } from \"./content-tabs\";\n\nconst Zoom: FunctionComponent = () => {\n  const [factor, updateFactor] = useState(store.current(zoomFactor) || 1);\n  const webFrame = (window as UIWindow).electronWebFrame;\n\n  const updateZoomFactor = useCallback(\n    (factor: ZoomFactor) => {\n      webFrame.setZoomFactor(factor);\n      updateFactor(factor);\n      store.dispatch(changeZoomFactor(factor));\n    },\n    [webFrame]\n  );\n\n  const zoomIn = useCallback(() => {\n    const currentFactor =\n      (webFrame && webFrame.getZoomFactor && factor) || undefined;\n\n    if (currentFactor && currentFactor < 2) {\n      switch (currentFactor) {\n        case 1:\n          updateZoomFactor(1.1);\n          break;\n        case 1.1:\n          updateZoomFactor(1.25);\n          break;\n        case 1.25:\n          updateZoomFactor(1.5);\n          break;\n        case 1.5:\n          updateZoomFactor(1.75);\n          break;\n        case 1.75:\n          updateZoomFactor(2);\n          break;\n      }\n    }\n  }, [factor, updateZoomFactor, webFrame]);\n\n  const zoomOut = useCallback(() => {\n    const currentFactor =\n      (webFrame && webFrame.getZoomFactor && factor) || undefined;\n\n    if (currentFactor && currentFactor > 1) {\n      switch (currentFactor) {\n        case 1.1:\n          updateZoomFactor(1);\n          break;\n        case 1.25:\n          updateZoomFactor(1.1);\n          break;\n        case 1.5:\n          updateZoomFactor(1.25);\n          break;\n        case 1.75:\n          updateZoomFactor(1.5);\n          break;\n        case 2:\n          updateZoomFactor(1.75);\n          break;\n      }\n    }\n  }, [factor, updateZoomFactor, webFrame]);\n\n  useEffect(() => {\n    const handleKeyDown = (e: any) => {\n      if (e.ctrlKey) {\n        switch (e.keyCode) {\n          case 187: // Plus\n            zoomIn();\n            break;\n\n          case 189: // Minus\n            zoomOut();\n            break;\n        }\n      }\n    };\n\n    if (webFrame && factor > 1) {\n      webFrame.setZoomFactor(factor);\n    }\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [factor, webFrame, zoomIn, zoomOut]);\n\n  return (\n    <Container>\n      <Button onClick={zoomOut}>\n        <ZoomOutIcon />\n      </Button>\n      <Scale>{(100 * factor).toFixed(0)}%</Scale>\n      <Button onClick={zoomIn}>\n        <ZoomInIcon />\n      </Button>\n    </Container>\n  );\n};\n\nexport default Zoom;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 0 0 100px;\n  flex-direction: row;\n  background: #cecece;\n  border-left: 1px solid ${(props) => props.theme.contentBorder};\n  height: 100%;\n`;\n\nconst Scale = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  justify-content: center;\n  height: 30px;\n`;\n","import Application from \"@bcp/shared/models/Application\";\nimport { ZoomFactor } from \"@bcp/shared/models/Preferences\";\n\nexport default function changeZoomFactor(zoomFactor: ZoomFactor) {\n  return (draft: Application) => {\n    if (draft.preferences) {\n      draft.preferences.zoomFactor = zoomFactor;\n    } else {\n      draft.preferences = {\n        zoomFactor,\n      };\n    }\n  };\n}\n","import React, { FunctionComponent } from \"react\";\nimport store, {\n  activeFooterItemId,\n  activeTab,\n  changeFooterItem,\n  changeResultOrientation,\n  footerCollapsed,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { FooterItemId } from \"@bcp/shared/models/FooterItemId\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport { activeTabId, resultOrientation } from \"@bcp/main/state/selectors\";\nimport {\n  ConsoleIcon,\n  ResultsIcon,\n  SplitHorizontalIcon,\n  SplitVerticalIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { Button, Tab, TabIconContainer, Tabs } from \"../content-tabs\";\nimport { FooterContainer, Zoom } from \"..\";\n\nexport const Footer: FunctionComponent = () => {\n  // triggers re-render if active tab id changes; don't remove\n  useSelector(activeTabId);\n\n  const activeId = useSelector(activeFooterItemId);\n  const collapsed = useSelector(footerCollapsed);\n  const orientation = useSelector(resultOrientation);\n  const cachedTab = store.current(activeTab);\n  const isDocumentTab = isDocumentOrHistoryTab(cachedTab);\n\n  const getClass = (id: FooterItemId) => {\n    return !collapsed && activeId === id ? \"active\" : \"\";\n  };\n\n  const changeActiveItem = (id: FooterItemId) => {\n    store.dispatch(changeFooterItem(id));\n  };\n\n  const changeOrientation = () => {\n    store.dispatch(\n      changeResultOrientation(\n        orientation === \"vertical\" ? \"horizontal\" : \"vertical\"\n      )\n    );\n  };\n\n  return (\n    <FooterContainer>\n      <Tabs>\n        <Tab\n          title=\"Tab: Console\"\n          className={getClass(\"console\")}\n          onClick={() => changeActiveItem(\"console\")}\n        >\n          <TabIconContainer>\n            <ConsoleIcon />\n          </TabIconContainer>\n          Console\n        </Tab>\n        {isDocumentTab && (\n          <Tab\n            title=\"Tab: Results\"\n            className={getClass(\"results\")}\n            onClick={() => changeActiveItem(\"results\")}\n          >\n            <TabIconContainer>\n              <ResultsIcon />\n            </TabIconContainer>\n            Results\n          </Tab>\n        )}\n      </Tabs>\n      {isDocumentTab && (\n        <Button onClick={changeOrientation}>\n          {orientation === \"horizontal\" ? (\n            <SplitHorizontalIcon />\n          ) : (\n            <SplitVerticalIcon />\n          )}\n        </Button>\n      )}\n      <Zoom />\n    </FooterContainer>\n  );\n};\n","import Application from \"@bcp/shared/models/Application\";\nimport { FooterItemId } from \"@bcp/shared/models/FooterItemId\";\nimport activeFooterItemId from \"../../selectors/activeFooterItemId\";\n\nexport default function changeFooterItem(id: FooterItemId) {\n  return (draft: Application) => {\n    const selectedFooterItemId = activeFooterItemId(draft);\n\n    if (selectedFooterItemId === id) {\n      draft.settings.footerCollapsed = !draft.settings.footerCollapsed;\n    } else {\n      if (draft.settings.footerCollapsed) {\n        draft.settings.footerCollapsed = false;\n      }\n\n      draft.selectedFooterItemId = id;\n    }\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeResultOrientation(\n  resultOrientation: \"vertical\" | \"horizontal\"\n) {\n  return (draft: Application) => {\n    if (draft.preferences) {\n      draft.preferences.resultOrientation = resultOrientation;\n    } else {\n      draft.preferences = {\n        resultOrientation,\n      };\n    }\n  };\n}\n","import styled from \"@bcp/main/styled\";\n\nconst PanelElement = styled.aside`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n\nexport default PanelElement;\n","import React, { FunctionComponent, memo, useEffect, useState } from \"react\";\nimport { consoleLogService } from \"@bcp/main/services\";\nimport { Entry } from \"@bcp/main/services/console-log-service\";\nimport EmptyContent from \"../../EmptyContent\";\nimport JsonEditor from \"../../json-editor\";\n\ninterface EntryDetailsProiperties {\n  tabId: string;\n}\n\nconst EntryDetails: FunctionComponent<EntryDetailsProiperties> = memo(\n  ({ tabId }) => {\n    const [result, updateResult] = useState<Entry | undefined>();\n\n    useEffect(() => {\n      const subscription = consoleLogService.subscribeToSelected(\n        tabId,\n        updateResult\n      );\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }, [tabId]);\n\n    return result?.details ? (\n      <JsonEditor content={result.details} />\n    ) : (\n      <EmptyContent>No details</EmptyContent>\n    );\n  }\n);\n\nexport default EntryDetails;\n","import styled from \"@bcp/main/styled\";\nimport { FlexIconContainer } from \"@bcp/main/components/shared/icons\";\n\nconst Container = styled.div<{ height: number; selected: boolean }>`\n  display: flex;\n  flex: 0 0 ${(props) => props.height}px;\n  flex-direction: row;\n  align-items: center;\n  border-bottom: 1px solid ${(props) => props.theme.sideBarBg};\n  padding: 5px 3px 5px 10px;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  background-color: ${(props) =>\n    props.selected ? props.theme.sideBarBg : \"transparent\"};\n\n  :hover {\n    background-color: ${(props) => props.theme.sideBarBg};\n  }\n`;\n\nconst StatusIcon = styled(FlexIconContainer)`\n  margin-right: 5px;\n`;\n\nconst Time = styled.div`\n  flex: 0 0 75px;\n  padding: 0 6px;\n  white-space: nowrap;\n  text-align: right;\n`;\n\nconst Title = styled.div`\n  flex: 1 1 auto;\n  padding: 0 6px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst Took = styled.div`\n  flex: 0 0 45px;\n  padding: 0 6px;\n  white-space: nowrap;\n  text-align: right;\n`;\n\nexport { Container, StatusIcon, Time, Title, Took };\n","import {\n  Container,\n  StatusIcon,\n  Time,\n  Title,\n} from \"@bcp/main/components/stage/shared/footer/shared\";\nimport {\n  ErrorIcon,\n  InfoIcon,\n  WarningIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { LogLevel } from \"@bcp/shared/common\";\nimport moment from \"moment\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface LogEntryProperties {\n  level: LogLevel;\n  message: string;\n  selected: boolean;\n  timestamp: number;\n}\n\nconst LogEntry: FunctionComponent<LogEntryProperties> = memo(\n  ({ level, message, selected, timestamp }) => {\n    return (\n      <Container height={logEntryHeight} selected={selected}>\n        <StatusIcon>\n          {level === LogLevel.error ? (\n            <ErrorIcon />\n          ) : level === LogLevel.warning ? (\n            <WarningIcon />\n          ) : (\n            <InfoIcon />\n          )}\n        </StatusIcon>\n        <Title>{message}</Title>\n        <Time>{moment(timestamp).local().format(\"HH:mm:ss.SSS\")}</Time>\n      </Container>\n    );\n  }\n);\n\nexport default LogEntry;\n\nconst logEntryHeight = 27;\n\nexport { logEntryHeight };\n","import React, {\n  FunctionComponent,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  areEqual,\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnScrollProps,\n} from \"react-window\";\nimport { consoleLogService } from \"@bcp/main/services\";\nimport { EntriesAndState, Entry } from \"@bcp/main/services/console-log-service\";\nimport styled from \"@bcp/main/styled\";\nimport EmptyContent from \"../../EmptyContent\";\nimport LogEntry, { logEntryHeight } from \"./LogEntry\";\n\ninterface ResultsProiperties {\n  tabId: string;\n}\n\nconst Entries: FunctionComponent<ResultsProiperties> = memo(({ tabId }) => {\n  const ref = useRef<AutoSizer>(null);\n  const listRef = useRef<List>(null);\n  const initialized = useRef(false);\n  const enriesAndStateCache = useRef<EntriesAndState | undefined>();\n\n  const handleClick = useCallback(\n    (result: Entry) => {\n      consoleLogService.setSelectedId(tabId, result.id);\n    },\n    [tabId]\n  );\n\n  const handleClickNewest = useCallback(() => {\n    consoleLogService.setSelectNewest(tabId, true);\n  }, [tabId]);\n\n  const handleScroll = (props: ListOnScrollProps) => {\n    if (initialized.current) {\n      consoleLogService.setScrollPosition(tabId, props.scrollOffset);\n    }\n  };\n\n  const renderItem = memo(\n    ({ data, index, style }: ListChildComponentProps): JSX.Element => {\n      const state = data as EntriesAndState;\n      const entry = state.entries[index] as Entry;\n\n      return (\n        <div\n          key={`result-${entry.id}`}\n          style={style}\n          onClick={() => handleClick(entry)}\n        >\n          <LogEntry\n            key={entry.id}\n            level={entry.level}\n            message={entry.message}\n            selected={entry.id === state.selectedId}\n            timestamp={entry.timestamp}\n          />\n        </div>\n      );\n    },\n    areEqual\n  );\n\n  useEffect(() => {\n    const subscription = consoleLogService.subscribe(\n      tabId,\n      (entriesAndState) => {\n        if (entriesAndState) {\n          enriesAndStateCache.current = entriesAndState;\n          ref.current!.forceUpdate(() => {\n            if (listRef.current) {\n              if (enriesAndStateCache.current!.selectNewest) {\n                listRef.current.scrollToItem(\n                  enriesAndStateCache.current!.entries.length - 1,\n                  \"end\"\n                );\n              } else {\n                listRef.current!.scrollTo(\n                  enriesAndStateCache.current!.scrollPosition\n                );\n              }\n            }\n\n            initialized.current = true;\n          });\n        } else {\n          enriesAndStateCache.current = undefined;\n          initialized.current = false;\n          ref.current!.forceUpdate();\n        }\n      }\n    );\n\n    return () => {\n      subscription.unsubscribe();\n      enriesAndStateCache.current = undefined;\n      initialized.current = false;\n    };\n  }, [tabId]);\n\n  return (\n    <AutoSizer ref={ref}>\n      {({ width, height }) => (\n        <div\n          tabIndex={-1}\n          style={{\n            width: width + \"px\",\n            height: height + \"px\",\n          }}\n        >\n          {enriesAndStateCache.current &&\n          enriesAndStateCache.current.entries.length > 0 ? (\n            <>\n              <List\n                width={width}\n                height={height}\n                layout=\"vertical\"\n                itemSize={logEntryHeight}\n                itemKey={(index) => `result-${index}`}\n                itemData={enriesAndStateCache.current}\n                itemCount={enriesAndStateCache.current.entries.length}\n                overscanCount={5}\n                ref={listRef}\n                onScroll={handleScroll}\n              >\n                {renderItem}\n              </List>\n              {enriesAndStateCache.current.hasNewEntries && (\n                <NewEntries>\n                  <Button onClick={handleClickNewest}>\n                    Jump to newest logs\n                  </Button>\n                </NewEntries>\n              )}\n            </>\n          ) : (\n            <EmptyContent>No logs</EmptyContent>\n          )}\n        </div>\n      )}\n    </AutoSizer>\n  );\n});\n\nexport default Entries;\n\nconst NewEntries = styled.div`\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n`;\n\nconst Button = styled.button`\n  border-radius: 4px;\n  padding: 3px 5px;\n  background: ${(props) => props.theme.navBgColor2};\n  color: ${(props) => props.theme.navItemText};\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.navItemActiveBgColor};\n  }\n`;\n","import { SplitterIds, VerticalSplitter } from \"@bcp/main/components/shared\";\nimport PanelElement from \"@bcp/main/components/stage/document-content/PanelElement\";\nimport store, {\n  changeResultDetailWidth,\n  resultDetailWidth,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { activeTabId } from \"@bcp/main/state/selectors\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport EntryDetails from \"./EntryDetails\";\nimport Entries from \"./Entries\";\n\nconst ConsolePanel: FunctionComponent = () => {\n  const tabId = useSelector(activeTabId)!;\n  const width = store.current(resultDetailWidth);\n\n  const handleResultDetailWidthChange = useCallback((width: number) => {\n    store.dispatch(changeResultDetailWidth(width));\n  }, []);\n\n  return (\n    <VerticalSplitter\n      id={SplitterIds.Results}\n      asideWidth={width}\n      onAsideWidthChange={handleResultDetailWidthChange}\n      mainPane=\"left\"\n      leftContent={\n        <PanelElement>\n          <Entries tabId={tabId} />\n        </PanelElement>\n      }\n      rightContent={\n        <PanelElement>\n          <EntryDetails tabId={tabId} />\n        </PanelElement>\n      }\n      showSeparator\n    />\n  );\n};\n\nexport default ConsolePanel;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { QueryAndMutationResult } from \"@bcp/shared/common\";\nimport styled from \"@bcp/main/styled\";\nimport { EmptyContent, JsonEditor } from \"../..\";\n\ninterface QueryAndMutationErrorContentProiperties {\n  payload: QueryAndMutationResult;\n}\n\nconst QueryAndMutationErrorContent: FunctionComponent<QueryAndMutationErrorContentProiperties> = memo(\n  ({ payload }) => {\n    const { response } = payload;\n\n    return (\n      <Container>\n        {response.error ? (\n          <JsonEditor content={response.error} />\n        ) : (\n          <EmptyContent>No error details</EmptyContent>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default QueryAndMutationErrorContent;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n","import styled from \"@bcp/main/styled\";\n\nconst List = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nconst ListTitle = styled.h2`\n  flex: 0 0 auto;\n  margin: 10px 10px 5px;\n  font-weight: bold;\n`;\n\nconst ListItems = styled.ul`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n\nconst ListItem = styled.li`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  border-top: 1px solid ${(props) => props.theme.contentBorderLight};\n  padding: 4px 10px;\n  overflow-x: auto;\n\n  :nth-child(even) {\n    background-color: #fff;\n  }\n\n  :nth-child(odd) {\n    background-color: #efefef;\n  }\n`;\n\nconst ListItemName = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin: 4px 0;\n`;\n\nconst ListItemNameIcon = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n`;\n\nconst ListItemNameTitle = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  margin: 0 4px;\n`;\n\nconst ListItemDescription = styled.div<{ warning?: boolean }>`\n  ${(props) =>\n    props.warning\n      ? `\n        margin: 5px -10px;\n        border-top: 1px solid #856404;\n        border-bottom: 1px solid #856404;\n        padding: 5px 10px;\n        background: #fff3cd;\n        color: #856404;\n\n        h3 {\n          margin-bottom: 5px;\n          font-weight: bold;\n        }\n      `\n      : `\n        padding: 4px 0;\n      `}\n`;\n\nexport {\n  List,\n  ListTitle,\n  ListItems,\n  ListItem,\n  ListItemName,\n  ListItemNameIcon,\n  ListItemNameTitle,\n  ListItemDescription,\n};\n","import React, { FunctionComponent, memo } from \"react\";\nimport { QueryAndMutationResult } from \"@bcp/shared/common\";\nimport styled from \"@bcp/main/styled\";\nimport {\n  List,\n  ListTitle,\n  ListItems,\n  ListItem,\n  ListItemName,\n} from \"../../contentList\";\n\ninterface QueryAndMutationGeneralContentProiperties {\n  payload: QueryAndMutationResult;\n}\n\nconst QueryAndMutationGeneralContent: FunctionComponent<QueryAndMutationGeneralContentProiperties> = memo(\n  ({ payload }) => {\n    const { request, response } = payload;\n    const requestHeaders = request.headers;\n    const requestHeaderKeys =\n      (requestHeaders && Object.keys(requestHeaders)) || [];\n    const responseHeaders = response.headers;\n    const responseHeaderKeys =\n      (responseHeaders && Object.keys(responseHeaders)) || [];\n\n    return (\n      <Container>\n        <List>\n          <ListTitle>General HTTP Informations</ListTitle>\n          <ListItems>\n            <ListItem>\n              <ListItemName>Uri: {request.uri}</ListItemName>\n            </ListItem>\n            <ListItem>\n              <ListItemName>\n                Method: <HttpMethod>{request.method}</HttpMethod>\n              </ListItemName>\n            </ListItem>\n            {(response.statusCode || response.error) && (\n              <ListItem>\n                <ListItemName>\n                  Status:{\" \"}\n                  {response.statusCode ? (\n                    <StatusCode success={response.statusCode < 300}>\n                      {response.statusCode}\n                    </StatusCode>\n                  ) : (\n                    <StatusCode>failed</StatusCode>\n                  )}{\" \"}\n                  {response.statusText}\n                </ListItemName>\n              </ListItem>\n            )}\n            <ListItem>\n              <ListItemName>Cache: {request.cache}</ListItemName>\n            </ListItem>\n            {request.credentials && (\n              <ListItem>\n                <ListItemName>Credentials: {request.credentials}</ListItemName>\n              </ListItem>\n            )}\n            {request.referrerPolicy && (\n              <ListItem>\n                <ListItemName>\n                  Referrer Policy: {request.referrerPolicy}\n                </ListItemName>\n              </ListItem>\n            )}\n          </ListItems>\n        </List>\n        {requestHeaders && requestHeaderKeys.length > 0 && (\n          <List>\n            <ListTitle>Request Headers</ListTitle>\n            <ListItems>\n              {requestHeaderKeys.map((key) => (\n                <ListItem key={key}>\n                  <ListItemName>\n                    {key}: {requestHeaders[key]}\n                  </ListItemName>\n                </ListItem>\n              ))}\n            </ListItems>\n          </List>\n        )}\n        {responseHeaders && responseHeaderKeys.length > 0 && (\n          <List>\n            <ListTitle>Response Headers</ListTitle>\n            <ListItems>\n              {responseHeaderKeys.map((key) => (\n                <ListItem key={key}>\n                  <ListItemName>\n                    {key}: {responseHeaders[key]}\n                  </ListItemName>\n                </ListItem>\n              ))}\n            </ListItems>\n          </List>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default QueryAndMutationGeneralContent;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n`;\n\nconst HttpMethod = styled.span`\n  margin: 0 3px;\n  border-radius: 2px;\n  padding: 1px 3px;\n  background-color: ${(props) => props.theme.blue};\n  color: ${(props) => props.theme.sideBarHeaderText};\n`;\n\nconst StatusCode = styled.span<{ success?: boolean }>`\n  margin: 0 3px;\n  border-radius: 2px;\n  padding: 1px 3px;\n  background-color: ${(props) =>\n    props.success ? props.theme.green : props.theme.red};\n  color: ${(props) => props.theme.sideBarHeaderText};\n`;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { QueryAndMutationResult } from \"@bcp/shared/common\";\nimport styled from \"@bcp/main/styled\";\nimport { EmptyContent, JsonEditor } from \"../..\";\n\ninterface QueryAndMutationRequestContentProiperties {\n  payload: QueryAndMutationResult;\n}\n\nconst QueryAndMutationRequestContent: FunctionComponent<QueryAndMutationRequestContentProiperties> = memo(\n  ({ payload }) => {\n    const { request } = payload;\n\n    return (\n      <Container>\n        {request.body ? (\n          <JsonEditor content={request.body} />\n        ) : (\n          <EmptyContent>No request body</EmptyContent>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default QueryAndMutationRequestContent;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n","import styled from \"styled-components\";\n\nconst DetailsContainer = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nexport { DetailsContainer };\n","import React, { FunctionComponent, memo, useState } from \"react\";\nimport { QueryAndMutationResult } from \"@bcp/shared/common\";\nimport store, {\n  activeQueryResultTabId,\n  updateDocumentTab,\n} from \"@bcp/main/state\";\nimport { QueryResultTabId } from \"@bcp/shared/models/Tabs\";\nimport styled from \"@bcp/main/styled\";\nimport {\n  CloudDownloadIcon,\n  DashboardIcon,\n  ErrorIcon,\n  InfoIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { Tab, TabIconContainer, Tabs } from \"../../content-tabs\";\nimport { EmptyContent } from \"../..\";\nimport QueryAndMutationErrorContent from \"./QueryAndMutationErrorContent\";\nimport QueryAndMutationGeneralContent from \"./QueryAndMutationGeneralContent\";\nimport QueryAndMutationRequestContent from \"./QueryAndMutationRequestContent\";\nimport { DetailsContainer } from \"./shared\";\n\ninterface QueryAndMutationDetailsProiperties {\n  payload: QueryAndMutationResult;\n}\n\nconst QueryAndMutationDetails: FunctionComponent<QueryAndMutationDetailsProiperties> = memo(\n  ({ payload }) => {\n    const [activeId, updateActiveId] = useState<QueryResultTabId>(\n      store.current(activeQueryResultTabId) || \"info\"\n    );\n\n    if (\n      (activeId === \"error\" && !payload.response.error) ||\n      (activeId === \"request\" && !payload.request.body) ||\n      (activeId === \"tracing\" &&\n        !payload.response.parsedBody?.extensions?.tracing)\n    ) {\n      updateActiveId(\"info\");\n    }\n\n    const getClass = (tabId: QueryResultTabId) => {\n      return activeId === tabId ? \"active\" : \"\";\n    };\n\n    const handleTabClick = (tabId: QueryResultTabId) => {\n      store.dispatch(\n        updateDocumentTab((draft) => {\n          draft.activeQueryResultTabId = tabId;\n        })\n      );\n      updateActiveId(tabId);\n    };\n\n    const renderTabContent = (tabId: QueryResultTabId) => {\n      switch (tabId) {\n        case \"error\":\n          return <QueryAndMutationErrorContent payload={payload} />;\n\n        case \"info\":\n          return <QueryAndMutationGeneralContent payload={payload} />;\n\n        case \"request\":\n          return <QueryAndMutationRequestContent payload={payload} />;\n\n        case \"tracing\":\n          return <EmptyContent>No tracing details</EmptyContent>;\n\n        default:\n          return <></>;\n      }\n    };\n\n    return (\n      <DetailsContainer>\n        <Navigation>\n          <Tabs>\n            <Tab\n              title=\"Tab: General\"\n              className={getClass(\"info\")}\n              onClick={() => handleTabClick(\"info\")}\n            >\n              <TabIconContainer>\n                <InfoIcon />\n              </TabIconContainer>\n              General\n            </Tab>\n            {payload.request.body && (\n              <Tab\n                title=\"Tab: Request Body\"\n                className={getClass(\"request\")}\n                onClick={() => handleTabClick(\"request\")}\n              >\n                <TabIconContainer>\n                  <CloudDownloadIcon />\n                </TabIconContainer>\n                Request Body\n              </Tab>\n            )}\n            {payload.response.error && (\n              <Tab\n                title=\"Tab: HTTP Error\"\n                className={getClass(\"error\")}\n                onClick={() => handleTabClick(\"error\")}\n              >\n                <TabIconContainer>\n                  <ErrorIcon />\n                </TabIconContainer>\n                HTTP Error\n              </Tab>\n            )}\n            {payload.response.parsedBody?.extensions?.tracing && (\n              <Tab\n                title=\"Tab: Tracing\"\n                className={getClass(\"tracing\")}\n                onClick={() => handleTabClick(\"tracing\")}\n              >\n                <TabIconContainer>\n                  <DashboardIcon />\n                </TabIconContainer>\n                Tracing\n              </Tab>\n            )}\n          </Tabs>\n        </Navigation>\n        <Content>{renderTabContent(activeId)}</Content>\n      </DetailsContainer>\n    );\n  }\n);\n\nexport default QueryAndMutationDetails;\n\nconst Navigation = styled.nav`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n","import React, { FunctionComponent, memo } from \"react\";\nimport { SubscriptionResult } from \"@bcp/shared/common\";\nimport styled from \"@bcp/main/styled\";\nimport { EmptyContent, JsonEditor } from \"../..\";\n\ninterface SubscriptionErrorContentProiperties {\n  payload: SubscriptionResult;\n}\n\nconst SubscriptionErrorContent: FunctionComponent<SubscriptionErrorContentProiperties> = memo(\n  ({ payload }) => {\n    const { error } = payload;\n\n    return (\n      <Container>\n        {error ? (\n          <JsonEditor content={error} />\n        ) : (\n          <EmptyContent>No error details</EmptyContent>\n        )}\n      </Container>\n    );\n  }\n);\n\nexport default SubscriptionErrorContent;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n","import React, { FunctionComponent, memo, useState } from \"react\";\nimport { SubscriptionResult } from \"@bcp/shared/common\";\nimport store, {\n  activeSubscriptionResultTabId,\n  updateDocumentTab,\n} from \"@bcp/main/state\";\nimport { SubscriptionResultTabId } from \"@bcp/shared/models/Tabs\";\nimport styled from \"@bcp/main/styled\";\nimport { ErrorIcon } from \"@bcp/main/components/shared/icons\";\nimport { Tab, TabIconContainer, Tabs } from \"../../content-tabs\";\nimport { EmptyContent } from \"../..\";\nimport { DetailsContainer } from \"./shared\";\nimport SubscriptionErrorContent from \"./SubscriptionErrorContent\";\n\ninterface SubscriptionDetailsProiperties {\n  payload: SubscriptionResult;\n}\n\nconst SubscriptionDetails: FunctionComponent<SubscriptionDetailsProiperties> = memo(\n  ({ payload }) => {\n    const [activeId, updateActiveId] = useState<\n      SubscriptionResultTabId | undefined\n    >(store.current(activeSubscriptionResultTabId));\n\n    if (!activeId && payload.error) {\n      updateActiveId(\"error\");\n    }\n\n    if (activeId === \"error\" && !payload.error) {\n      updateActiveId(undefined);\n    }\n\n    const getClass = (tabId: SubscriptionResultTabId) => {\n      return activeId === tabId ? \"active\" : \"\";\n    };\n\n    const handleTabClick = (tabId: SubscriptionResultTabId) => {\n      store.dispatch(\n        updateDocumentTab((draft) => {\n          draft.activeSubscriptionResultTabId = tabId;\n        })\n      );\n      updateActiveId(tabId);\n    };\n\n    const renderTabContent = (tabId?: SubscriptionResultTabId) => {\n      switch (tabId) {\n        case \"error\":\n          return <SubscriptionErrorContent payload={payload} />;\n\n        default:\n          return <EmptyContent>No details</EmptyContent>;\n      }\n    };\n\n    return (\n      <DetailsContainer>\n        {activeId && (\n          <Navigation>\n            <Tabs>\n              {payload.error && (\n                <Tab\n                  title=\"Tab: WS Error\"\n                  className={getClass(\"error\")}\n                  onClick={() => handleTabClick(\"error\")}\n                >\n                  <TabIconContainer>\n                    <ErrorIcon />\n                  </TabIconContainer>\n                  WS Error\n                </Tab>\n              )}\n            </Tabs>\n          </Navigation>\n        )}\n        <Content>{renderTabContent(activeId)}</Content>\n      </DetailsContainer>\n    );\n  }\n);\n\nexport default SubscriptionDetails;\n\nconst Navigation = styled.nav`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n","import React, { FunctionComponent, memo, useEffect, useState } from \"react\";\nimport { resultCache } from \"@bcp/main/services\";\nimport { Result } from \"@bcp/main/services/result-cache\";\nimport { EmptyContent } from \"../..\";\nimport QueryAndMutationDetails from \"./QueryAndMutationDetails\";\nimport SubscriptionDetails from \"./SubscriptionDetails\";\n\ninterface ResultDetailsProiperties {\n  documentId: string;\n}\n\nconst ResultDetails: FunctionComponent<ResultDetailsProiperties> = memo(\n  ({ documentId }) => {\n    const [result, updateResult] = useState<Result | undefined>();\n\n    useEffect(() => {\n      const subscription = resultCache.subscribeToSelected(\n        documentId,\n        updateResult\n      );\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }, [documentId]);\n\n    return result ? (\n      \"request\" in result.payload ? (\n        <QueryAndMutationDetails payload={result.payload} />\n      ) : (\n        <SubscriptionDetails payload={result.payload} />\n      )\n    ) : (\n      <EmptyContent>No details</EmptyContent>\n    );\n  }\n);\n\nexport default ResultDetails;\n","import { Mutation, Query, Subscription } from \"@bcp/main/components/shared\";\nimport {\n  ChevronRightIcon,\n  ErrorIcon,\n  FlexIconContainer,\n  PassIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport {\n  Container,\n  StatusIcon,\n  Time,\n  Title,\n  Took,\n} from \"@bcp/main/components/stage/shared/footer/shared\";\nimport { OperationTypeNode } from \"graphql\";\nimport moment from \"moment\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface ResultEntryProperties {\n  duration: number;\n  operationName?: string;\n  operationType: OperationTypeNode | \"unknown\";\n  selected: boolean;\n  statusCode?: number;\n  success: boolean;\n  timestamp: number;\n}\n\nconst ResultEntry: FunctionComponent<ResultEntryProperties> = memo((props) => {\n  return (\n    <Container height={resultEntryHeight} selected={props.selected}>\n      <StatusIcon>{props.success ? <PassIcon /> : <ErrorIcon />}</StatusIcon>\n      <FlexIconContainer>\n        {props.operationType === \"mutation\" ? (\n          <Mutation title=\"Mutation\" />\n        ) : props.operationType === \"subscription\" ? (\n          <Subscription title=\"Subscription\" />\n        ) : (\n          <Query title=\"Query\" />\n        )}\n      </FlexIconContainer>\n      <Title>\n        {props.operationName ? props.operationName : props.operationType}\n      </Title>\n      <Time>{moment(props.timestamp).local().format(\"HH:mm:ss.SSS\")}</Time>\n      <Took>{props.duration ? getDuration(props.duration) : \"N/A\"}</Took>\n      <FlexIconContainer>\n        <ChevronRightIcon />\n      </FlexIconContainer>\n    </Container>\n  );\n});\n\nexport default ResultEntry;\n\nconst resultEntryHeight = 27;\n\nexport { resultEntryHeight };\n\nfunction getDuration(duration: number): string {\n  if (duration > 0 && duration < 1) {\n    return \"~1 ms\";\n  }\n\n  if (duration > 0 && duration < 1000) {\n    return duration + \" ms\";\n  }\n\n  if (duration >= 1000 && duration <= 60000) {\n    return Math.round(duration / 1000) + \" sec\";\n  }\n\n  return Math.round(duration / 1000 / 60) + \" min\";\n}\n","import React, {\n  FunctionComponent,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  areEqual,\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnScrollProps,\n} from \"react-window\";\nimport { resultCache } from \"@bcp/main/services\";\nimport { Result, ResultsAndState } from \"@bcp/main/services/result-cache\";\nimport styled from \"@bcp/main/styled\";\nimport { EmptyContent } from \"../..\";\nimport ResultEntry, { resultEntryHeight } from \"./ResultEntry\";\n\ninterface ResultsProiperties {\n  documentId: string;\n}\n\nconst Results: FunctionComponent<ResultsProiperties> = memo(\n  ({ documentId }) => {\n    const ref = useRef<AutoSizer>(null);\n    const listRef = useRef<List>(null);\n    const initialized = useRef(false);\n    const resultsAndStateCache = useRef<ResultsAndState | undefined>();\n\n    const handleClick = useCallback(\n      (result: Result) => {\n        resultCache.setSelectedId(documentId, result.id);\n      },\n      [documentId]\n    );\n\n    const handleClickNewest = useCallback(() => {\n      resultCache.setSelectNewest(documentId, true);\n    }, [documentId]);\n\n    const handleScroll = (props: ListOnScrollProps) => {\n      if (initialized.current) {\n        resultCache.setScrollPosition(documentId, props.scrollOffset);\n      }\n    };\n\n    const renderItem = memo(\n      ({ data, index, style }: ListChildComponentProps): JSX.Element => {\n        const state = data as ResultsAndState;\n        const entry = state.results[index] as Result;\n\n        return (\n          <div\n            key={`result-${entry.id}`}\n            style={style}\n            onClick={() => handleClick(entry)}\n          >\n            <ResultEntry\n              duration={entry.duration}\n              operationName={entry.operationName}\n              operationType={entry.operationType}\n              selected={entry.id === state.selectedId}\n              success={entry.success}\n              timestamp={entry.timestamp}\n            />\n          </div>\n        );\n      },\n      areEqual\n    );\n\n    useEffect(() => {\n      const subscription = resultCache.subscribe(\n        documentId,\n        (resultsAndState) => {\n          if (resultsAndState) {\n            resultsAndStateCache.current = resultsAndState;\n            ref.current!.forceUpdate(() => {\n              if (listRef.current) {\n                if (resultsAndStateCache.current!.selectNewest) {\n                  listRef.current.scrollToItem(\n                    resultsAndStateCache.current!.results.length - 1,\n                    \"end\"\n                  );\n                } else {\n                  listRef.current!.scrollTo(\n                    resultsAndStateCache.current!.scrollPosition\n                  );\n                }\n              }\n\n              initialized.current = true;\n            });\n          } else {\n            resultsAndStateCache.current = undefined;\n            initialized.current = false;\n            ref.current!.forceUpdate();\n          }\n        }\n      );\n\n      return () => {\n        subscription.unsubscribe();\n        resultsAndStateCache.current = undefined;\n        initialized.current = false;\n      };\n    }, [documentId]);\n\n    return (\n      <AutoSizer ref={ref}>\n        {({ width, height }) => (\n          <div\n            tabIndex={-1}\n            style={{\n              width: width + \"px\",\n              height: height + \"px\",\n            }}\n          >\n            {resultsAndStateCache.current &&\n            resultsAndStateCache.current.results.length > 0 ? (\n              <>\n                <List\n                  width={width}\n                  height={height}\n                  layout=\"vertical\"\n                  itemSize={resultEntryHeight}\n                  itemKey={(index) => `result-${index}`}\n                  itemData={resultsAndStateCache.current}\n                  itemCount={resultsAndStateCache.current.results.length}\n                  overscanCount={5}\n                  ref={listRef}\n                  onScroll={handleScroll}\n                >\n                  {renderItem}\n                </List>\n                {resultsAndStateCache.current.hasNewResults && (\n                  <NewResults>\n                    <Button onClick={handleClickNewest}>\n                      Jump to newest result\n                    </Button>\n                  </NewResults>\n                )}\n              </>\n            ) : (\n              <EmptyContent>No results</EmptyContent>\n            )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n);\n\nexport default Results;\n\nconst NewResults = styled.div`\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n`;\n\nconst Button = styled.button`\n  border-radius: 4px;\n  padding: 3px 5px;\n  background: ${(props) => props.theme.navBgColor2};\n  color: ${(props) => props.theme.navItemText};\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.navItemActiveBgColor};\n  }\n`;\n","import { SplitterIds, VerticalSplitter } from \"@bcp/main/components/shared\";\nimport PanelElement from \"@bcp/main/components/stage/document-content/PanelElement\";\nimport store, {\n  changeResultDetailWidth,\n  resultDetailWidth,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { activeTabId } from \"@bcp/main/state/selectors\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport ResultDetails from \"./ResultDetails\";\nimport Results from \"./Results\";\n\nconst ResultPanel: FunctionComponent = () => {\n  const documentId = useSelector(activeTabId)!;\n  const width = store.current(resultDetailWidth);\n\n  const handleResultDetailWidthChange = useCallback((width: number) => {\n    store.dispatch(changeResultDetailWidth(width));\n  }, []);\n\n  return (\n    <VerticalSplitter\n      id={SplitterIds.Results}\n      asideWidth={width}\n      onAsideWidthChange={handleResultDetailWidthChange}\n      mainPane=\"left\"\n      leftContent={\n        <PanelElement>\n          <Results documentId={documentId} />\n        </PanelElement>\n      }\n      rightContent={\n        <PanelElement>\n          <ResultDetails documentId={documentId} />\n        </PanelElement>\n      }\n      showSeparator\n    />\n  );\n};\n\nexport default ResultPanel;\n","import React, { FunctionComponent } from \"react\";\nimport ConsolePanel from \"./console-panel\";\nimport ResultPanel from \"./result-panel\";\nimport { activeFooterItemId, useSelector } from \"@bcp/main/state\";\nimport { activeTabId } from \"@bcp/main/state/selectors\";\n\nexport const FooterContent: FunctionComponent = () => {\n  // triggers re-render if active tab id changes; don't remove\n  useSelector(activeTabId);\n\n  const activeId = useSelector(activeFooterItemId);\n\n  switch (activeId) {\n    case \"console\":\n      return <ConsolePanel />;\n\n    case \"results\":\n      return <ResultPanel />;\n\n    default:\n      throw Error();\n  }\n};\n","import styled from \"@bcp/main/styled\";\nimport { Mutation, Query, Subscription } from \"@bcp/main/components/shared\";\nimport Selection, { Option } from \"@bcp/main/components/stage/shared/Selection\";\nimport { Operation } from \"@bcp/shared/common\";\nimport React, { FunctionComponent, memo, ReactNode } from \"react\";\n\ninterface OperationsProperties {\n  selectedKey: string;\n  operations: Operation[];\n  onSelectionChange: (option: Option) => void;\n}\n\nconst Operations: FunctionComponent<OperationsProperties> = memo((props) => {\n  const options = (props.operations || []).map<Option>((o) => {\n    let content: ReactNode | undefined;\n    let title: string | undefined;\n\n    switch (o.type) {\n      case \"mutation\":\n        content = (\n          <>\n            <Mutation />\n            <Text>{o.name}</Text>\n          </>\n        );\n        title = `Mutation: ${o.name}`;\n        break;\n\n      case \"query\":\n        content = (\n          <>\n            <Query />\n            <Text>{o.name}</Text>\n          </>\n        );\n        title = `Query: ${o.name}`;\n        break;\n\n      case \"subscription\":\n        content = (\n          <>\n            <Subscription />\n            <Text>{o.name}</Text>\n          </>\n        );\n        title = `Subscription: ${o.name}`;\n        break;\n\n      default:\n        throw new Error(`Type \"${o.type}\" does not exist.`);\n    }\n\n    return {\n      content,\n      title,\n      key: o.name,\n      value: o.name,\n    };\n  });\n  const selected =\n    options.find((o) => o.key === props.selectedKey) || options[0];\n\n  return (\n    <Selection\n      selected={selected}\n      options={options}\n      onSelectionChange={props.onSelectionChange}\n    />\n  );\n});\n\nexport default Operations;\n\nconst Text = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  margin-left: 7px;\n`;\n","import {\n  getVariables,\n  tryExecuteOperation,\n  tryParseAndCacheDocument,\n  tryParseAndCacheHttpHeaders,\n  tryParseAndCacheVariables,\n} from \"@bcp/main/components/shared\";\nimport {\n  ContentPanel,\n  FieldContainer,\n  HttpMethods,\n  SchemaEndpointUrlField,\n  Spinner,\n  SpinnerContainer,\n} from \"@bcp/main/components/stage/shared\";\nimport { Option } from \"@bcp/main/components/stage/shared/Selection\";\nimport {\n  documentCache,\n  httpHeadersCache,\n  languageService,\n  operationExecuter,\n  schemaFetcher,\n  variablesCache,\n  workerContextProxyService,\n} from \"@bcp/main/services\";\nimport store, {\n  activeTab,\n  changeDocumentHeaderCollapsed,\n  runSubscription,\n  stopSubscription,\n  switchSchemaPolling,\n  switchShowSubscriptionEndpoint,\n  updateTabContent,\n} from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport { debounce } from \"@bcp/main/utils\";\nimport { HttpMethod, Operation } from \"@bcp/shared/common\";\nimport { DocumentTab, isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\nimport {\n  faExchangeAlt,\n  faPlay,\n  faRedoAlt,\n  faSlidersH,\n  faStop,\n  faToggleOff,\n  faToggleOn,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {\n  ChangeEvent,\n  FunctionComponent,\n  KeyboardEvent,\n  memo,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { combineLatest } from \"rxjs\";\nimport { debounceTime } from \"rxjs/operators\";\nimport Operations from \"./Operations\";\n\ninterface QueryHeaderProperties {\n  id: string;\n  httpMethod: HttpMethod;\n  operationName?: string;\n  schemaEndpoint: string;\n  subscriptionEndpoint?: string;\n  showRequestConfig: boolean;\n  showSubscriptionEndpoint?: boolean;\n  enableSchemaPolling?: boolean;\n}\n\nconst QueryHeader: FunctionComponent<QueryHeaderProperties> = memo((props) => {\n  const endpointRef = useRef<HTMLInputElement>(null);\n  const [httpMethod, updateHttpMethod] = useState(props.httpMethod);\n  const [operationName, updateOperationName] = useState(props.operationName);\n  const [operations, updateOperations] = useState<Operation[]>([]);\n  const [enableSchemaPolling, updateEnableSchemaPolling] = useState(\n    !!props.enableSchemaPolling\n  );\n  const [executing, updateExecuting] = useState(false);\n  const [loading, updateLoading] = useState(false);\n  const [schemaEndpoint, updateSchemaEndpoint] = useState(props.schemaEndpoint);\n  const [subscriptionEndpoint, updateSubscriptionEndpoint] = useState(\n    props.subscriptionEndpoint\n  );\n  const [showSubscriptionEndpoint, updateShowSubscriptionEndpoint] = useState(\n    !!props.showSubscriptionEndpoint\n  );\n  const [schemaAvailable, updateSchemaAvailable] = useState(false);\n  const [hasSubscriptions, updateHasSubscriptions] = useState(false);\n\n  // TODO: debounce && block if the previous request is not finished yet\n  const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n\n    // Enter\n    if (schemaAvailable && e.keyCode === 13 && value && value.length > 0) {\n      handleSubmit();\n    }\n  };\n\n  const handleCancel = () => {\n    operationExecuter.cancel();\n  };\n\n  // TODO: debounce && block if the previous request is not finished yet\n  const handleSubmit = () => {\n    // TODO: move into schema worker\n    const tab = store.current(activeTab);\n\n    if (isDocumentOrHistoryTab(tab)) {\n      const operationName = getOperationName(tab);\n\n      tryExecuteOperation(operationName);\n    }\n  };\n\n  const handleReloadSchema = () => {\n    if (!enableSchemaPolling && !loading) {\n      schemaFetcher.refetch();\n    }\n  };\n\n  const handleToggleEndpoint = () => {\n    const endpointField = endpointRef.current!;\n    const show = !showSubscriptionEndpoint;\n\n    updateShowSubscriptionEndpoint(show);\n    store.dispatch(switchShowSubscriptionEndpoint(show));\n    endpointField.value = show ? subscriptionEndpoint || \"\" : schemaEndpoint;\n  };\n\n  const handleToggleSchemaPolling = () => {\n    updateEnableSchemaPolling(enableSchemaPolling);\n    store.dispatch(switchSchemaPolling(enableSchemaPolling));\n    workerContextProxyService.update((session) => ({\n      ...session,\n      enableSchemaPolling,\n    }));\n    schemaFetcher.cancel();\n    schemaFetcher.fetch();\n  };\n\n  const emitEndpointChange = debounce<string>((endpoint) => {\n    if (showSubscriptionEndpoint) {\n      updateSubscriptionEndpoint(endpoint);\n      store.dispatch(\n        updateTabContent((draft) => {\n          draft.subscriptionEndpoint = endpoint;\n        })\n      );\n      workerContextProxyService.update((session) => ({\n        ...session,\n        subscriptionEndpoint: endpoint,\n      }));\n    } else {\n      updateSchemaEndpoint(endpoint);\n      store.dispatch(\n        updateTabContent((draft) => {\n          draft.schemaEndpoint = endpoint;\n        })\n      );\n      workerContextProxyService.update((session) => ({\n        ...session,\n        schemaEndpoint: endpoint,\n      }));\n      schemaFetcher.cancel();\n      schemaFetcher.fetch();\n    }\n  });\n\n  const endpointChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    emitEndpointChange(e.currentTarget.value.trim());\n  };\n\n  const methodChangeHandler = (o: Option) => {\n    var httpMethod = o.value as HttpMethod;\n\n    updateHttpMethod(httpMethod);\n    store.dispatch(\n      updateTabContent((draft) => {\n        draft.httpMethod = httpMethod;\n      })\n    );\n    workerContextProxyService.update((session) => ({\n      ...session,\n      httpMethod,\n    }));\n  };\n\n  const operationChangeHandler = (o: Option) => {\n    var operationName = o.key;\n\n    updateOperationName(operationName);\n    store.dispatch(\n      updateTabContent((draft) => {\n        draft.operationName = operationName;\n      })\n    );\n    workerContextProxyService.update((session) => ({\n      ...session,\n      operationName,\n    }));\n  };\n\n  const showRequestConfigChangeHandler = () => {\n    const value = props.showRequestConfig;\n\n    store.dispatch(changeDocumentHeaderCollapsed(value));\n  };\n\n  useEffect(() => {\n    // Things relying on inputs (props)\n\n    const subscription = documentCache.subscribeOperations(updateOperations);\n    const endpointField = endpointRef.current!;\n    const tab = store.current(activeTab) as DocumentTab;\n    const { document, httpHeaders } = tab.draft;\n    const variables = getVariables(tab);\n\n    workerContextProxyService.update((session) => ({\n      ...session,\n      operationName,\n    }));\n    workerContextProxyService.update((session) => ({\n      ...session,\n      documentId: tab.id,\n      enableSchemaPolling: tab.enableSchemaPolling,\n      httpMethod: tab.draft.httpMethod,\n      httpHeaders: tab.draft.httpHeaders,\n      credentials: tab.draft.credentials,\n      operationName: tab.draft.operationName,\n      schemaEndpoint: tab.draft.schemaEndpoint,\n      schemaPollingInterval: tab.schemaPollingInterval,\n      subscriptionEndpoint: tab.draft.subscriptionEndpoint,\n    }));\n\n    if (!httpHeadersCache.exists()) {\n      tryParseAndCacheHttpHeaders(props.id, httpHeaders);\n    }\n\n    if (!variablesCache.exists()) {\n      tryParseAndCacheVariables(props.id, variables);\n    }\n\n    if (!documentCache.exists()) {\n      tryParseAndCacheDocument(props.id, document);\n    }\n\n    updateSchemaEndpoint(props.schemaEndpoint);\n    updateSubscriptionEndpoint(props.subscriptionEndpoint);\n    updateShowSubscriptionEndpoint(!!props.showSubscriptionEndpoint);\n    updateEnableSchemaPolling(!!props.enableSchemaPolling);\n    updateHttpMethod(props.httpMethod);\n    updateOperationName(props.operationName);\n\n    if (props.showSubscriptionEndpoint) {\n      if (endpointField.value !== props.subscriptionEndpoint) {\n        endpointField.value = props.subscriptionEndpoint || \"\";\n      }\n    } else {\n      if (endpointField.value !== props.schemaEndpoint) {\n        endpointField.value = props.schemaEndpoint;\n      }\n    }\n\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [\n    operationName,\n    props.id,\n    props.enableSchemaPolling,\n    props.httpMethod,\n    props.operationName,\n    props.schemaEndpoint,\n    props.subscriptionEndpoint,\n    props.showSubscriptionEndpoint,\n  ]);\n\n  useEffect(() => {\n    // Things relying on state\n\n    const endpointField = endpointRef.current!;\n    const subscription = languageService.subscribeToSchemaInfoChange(\n      (schema) => {\n        updateSchemaAvailable(schema.exists);\n        updateHasSubscriptions(schema.hasSubscriptionType);\n\n        if (!schema.hasSubscriptionType && showSubscriptionEndpoint) {\n          updateShowSubscriptionEndpoint(false);\n          store.dispatch(switchShowSubscriptionEndpoint(false));\n          endpointField.value = schemaEndpoint;\n        }\n      }\n    );\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [schemaEndpoint, showSubscriptionEndpoint]);\n\n  useEffect(() => {\n    // Things out of state and input (props)\n\n    const subscription = combineLatest([\n      operationExecuter.isExecuting,\n      operationExecuter.isSubscription,\n      schemaFetcher.isFetching,\n    ])\n      .pipe(debounceTime(250))\n      .subscribe((result) => {\n        const isExecuting = result[0];\n        const isSubscription = result[1];\n        const isLoading = result.indexOf(true) !== -1;\n\n        if (isSubscription && isExecuting) {\n          store.dispatch(runSubscription);\n        } else {\n          store.dispatch(stopSubscription);\n        }\n\n        updateExecuting(isExecuting);\n        updateLoading(isLoading);\n      });\n\n    schemaFetcher.fetch();\n\n    return () => {\n      if (!operationExecuter.isSubscription) {\n        operationExecuter.cancel();\n      }\n\n      schemaFetcher.cancel();\n      subscription.unsubscribe();\n    };\n  }, [props.id]);\n\n  return (\n    <ContentPanel>\n      <FieldContainer>\n        <HttpMethods\n          selectedKey={httpMethod}\n          onSelectionChange={methodChangeHandler}\n        />\n        {hasSubscriptions && (\n          <Button\n            active={showSubscriptionEndpoint}\n            title={\n              showSubscriptionEndpoint\n                ? \"Show Schema Endpoint\"\n                : \"Show Subscription Endpoint\"\n            }\n            onClick={handleToggleEndpoint}\n          >\n            <FontAwesomeIcon icon={faExchangeAlt} />\n          </Button>\n        )}\n        <SchemaEndpointUrlField\n          type=\"url\"\n          ref={endpointRef}\n          defaultValue=\"\"\n          placeholder={\n            hasSubscriptions && showSubscriptionEndpoint\n              ? \"Enter the subscription endpoint URI here\"\n              : \"Enter the schema endpoint URI here\"\n          }\n          onChange={endpointChangeHandler}\n          onKeyDown={handleKeyDown}\n        />\n        {loading && (\n          <SpinnerContainer>\n            <Spinner />\n          </SpinnerContainer>\n        )}\n        {operations && operations.length > 1 && (\n          <Operations\n            selectedKey={operationName || operations[0].name}\n            operations={operations}\n            onSelectionChange={operationChangeHandler}\n          />\n        )}\n        <Button\n          active={props.showRequestConfig}\n          title=\"Operation Settings\"\n          onClick={showRequestConfigChangeHandler}\n        >\n          <FontAwesomeIcon icon={faSlidersH} />\n        </Button>\n        <Button\n          active={enableSchemaPolling}\n          title={\n            enableSchemaPolling\n              ? \"Disable Schema Polling\"\n              : \"Enable Schema Polling\"\n          }\n          onClick={handleToggleSchemaPolling}\n        >\n          <FontAwesomeIcon\n            icon={enableSchemaPolling ? faToggleOn : faToggleOff}\n          />\n        </Button>\n        <Button\n          title=\"Reload Schema\"\n          disabled={enableSchemaPolling || loading}\n          onClick={handleReloadSchema}\n        >\n          <FontAwesomeIcon icon={faRedoAlt} />\n        </Button>\n        {executing ? (\n          <Button title=\"Cancel\" onClick={handleCancel}>\n            <FontAwesomeIcon icon={faStop} />\n          </Button>\n        ) : (\n          <Button\n            title=\"Execute\"\n            disabled={!schemaAvailable}\n            onClick={handleSubmit}\n          >\n            <FontAwesomeIcon icon={faPlay} />\n          </Button>\n        )}\n      </FieldContainer>\n    </ContentPanel>\n  );\n});\n\nexport default QueryHeader;\n\nfunction getOperationName(tab: DocumentTab): string | undefined {\n  const { operations } = documentCache;\n  const selectedOperation =\n    (operations.length > 0 &&\n      (operations.find((o) => o.name === tab.draft.operationName) ||\n        operations[0])) ||\n    undefined;\n\n  return selectedOperation ? selectedOperation.name : undefined;\n}\n\ninterface ButtonProperties {\n  active?: boolean;\n}\n\nconst Button = styled.button<ButtonProperties>`\n  flex: 0 0 auto;\n  padding: 11px 11px;\n  color: ${(props) =>\n    props.active ? props.theme.red : props.theme.sideBarText};\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ${(props) => props.theme.red};\n  }\n\n  &:disabled {\n    color: ${(props) => props.theme.sideBarBg};\n  }\n`;\n","import Application from \"@bcp/shared/models/Application\";\nimport { isDocumentOrHistoryTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function switchSchemaPolling(enable: boolean) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    const tab =\n      workspace && workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (\n      tab &&\n      isDocumentOrHistoryTab(tab) &&\n      tab.enableSchemaPolling !== enable\n    ) {\n      if (enable) {\n        tab.enableSchemaPolling = true;\n      } else {\n        delete tab.enableSchemaPolling;\n      }\n    }\n  };\n}\n","import \"monaco-editor/esm/vs/language/json/monaco.contribution\";\nimport EditorContainer from \"@bcp/main/components/shared/EditorContainer\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport HttpHeaderEditorProperties from \"./HttpHeaderEditorProperties\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\n\nconst HttpHeaderEditor: FunctionComponent<HttpHeaderEditorProperties> = memo(\n  (props) => {\n    const model = useModel(props);\n    const editor = useEditor(model);\n\n    return <EditorContainer ref={editor} />;\n  }\n);\n\nexport default HttpHeaderEditor;\n","import { useEffect, useRef } from \"react\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\n\nexport default function useEditor(model: Editor.ITextModel) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      editor.layout({\n        width: rect.width,\n        height: rect.height,\n      });\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      editor.dispose();\n    };\n  }, [model]);\n\n  return ref;\n}\n","import { registerEditorSchemas } from \"@bcp/main/components/shared\";\nimport { debounce } from \"@bcp/main/utils\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport HttpHeaderEditorProperties from \"./HttpHeaderEditorProperties\";\n\nimport schema from \"@bcp/main/json-schemas/http-headers.json\";\n\nexport default function useModel(props: HttpHeaderEditorProperties) {\n  const model = useRef<Editor.ITextModel>(\n    Editor.createModel(\"{\\n  \\n}\", \"json\")\n  );\n  const { content, onContentChange } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const emitContentChange = debounce<Editor.ITextModel>((m) => {\n      onContentChange && onContentChange(m.getValue());\n    });\n\n    if (model.current.getValue() !== content) {\n      model.current.setValue(content || \"{\\n  \\n}\");\n    }\n\n    const dispose = registerEditorSchemas(model.current.uri, [\n      {\n        uri: \"editor://schemas/http-headers.json\",\n        schema,\n      },\n    ]);\n    const subscription = model.current.onDidChangeContent(() => {\n      emitContentChange(model.current);\n    });\n\n    return () => {\n      subscription.dispose();\n      dispose();\n    };\n  }, [content, onContentChange]);\n\n  return model.current;\n}\n","import tryParseAndCacheHttpHeaders from \"@bcp/main/components/shared/tryParseAndCacheHttpHeaders\";\nimport PanelElement from \"@bcp/main/components/stage/document-content/PanelElement\";\nimport { workerContextProxyService } from \"@bcp/main/services\";\nimport store, { activeHttpHeaders, updateTabContent } from \"@bcp/main/state\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport HttpHeaderEditor from \"./http-header-editor\";\n\ninterface HttpHeadersPanelProperties {\n  id: string;\n}\n\nconst HttpHeadersPanel: FunctionComponent<HttpHeadersPanelProperties> = memo(\n  (props) => {\n    const content = store.current(activeHttpHeaders);\n\n    const contentChangeHandler = (content: string) => {\n      tryParseAndCacheHttpHeaders(props.id, content);\n      workerContextProxyService.update((session) => ({\n        ...session,\n        httpHeaders: content,\n      }));\n      store.dispatch(\n        updateTabContent((draft) => {\n          draft.httpHeaders = content;\n        })\n      );\n    };\n\n    return (\n      <PanelElement>\n        <HttpHeaderEditor\n          content={content}\n          onContentChange={contentChangeHandler}\n        />\n      </PanelElement>\n    );\n  }\n);\n\nexport default HttpHeadersPanel;\n","import PanelElement from \"@bcp/main/components/stage/document-content/PanelElement\";\nimport { workerContextProxyService } from \"@bcp/main/services\";\nimport store, { updateTabContent, useSelector } from \"@bcp/main/state\";\nimport { activeHttpRequestCredentials } from \"@bcp/main/state/selectors\";\nimport styled from \"@bcp/main/styled\";\nimport { HttpRequestCredentials } from \"@bcp/shared/common\";\nimport React, { ChangeEvent, FunctionComponent, memo } from \"react\";\n\nconst HttpSettingsPanel: FunctionComponent = memo(() => {\n  const credentials = useSelector(activeHttpRequestCredentials);\n\n  const credentialsChangeHandler = (event: ChangeEvent<HTMLInputElement>) => {\n    const credentials = event.target.value as HttpRequestCredentials;\n\n    workerContextProxyService.update((session) => ({\n      ...session,\n      credentials,\n    }));\n    store.dispatch(\n      updateTabContent((draft) => {\n        draft.credentials = credentials;\n      })\n    );\n  };\n\n  return (\n    <PanelElement>\n      <Form>\n        <InputGroup>\n          <InputGroupTitle>Credentials</InputGroupTitle>\n          <InputGroupContent>\n            <LabelAndInput>\n              <Input\n                type=\"radio\"\n                name=\"credentials\"\n                id=\"credentials-omit\"\n                checked={credentials === \"omit\"}\n                value=\"omit\"\n                onChange={credentialsChangeHandler}\n              />\n              <Label htmlFor=\"credentials-omit\">Omit</Label>\n            </LabelAndInput>\n            <LabelAndInput>\n              <Input\n                type=\"radio\"\n                name=\"credentials\"\n                id=\"credentials-same-origin\"\n                checked={!credentials || credentials === \"same-origin\"}\n                value=\"same-origin\"\n                onChange={credentialsChangeHandler}\n              />\n              <Label htmlFor=\"credentials-same-origin\">Same Origin</Label>\n            </LabelAndInput>\n            <LabelAndInput>\n              <Input\n                type=\"radio\"\n                name=\"credentials\"\n                id=\"credentials-include\"\n                checked={credentials === \"include\"}\n                value=\"include\"\n                onChange={credentialsChangeHandler}\n              />\n              <Label htmlFor=\"credentials-include\">Include</Label>\n            </LabelAndInput>\n          </InputGroupContent>\n        </InputGroup>\n      </Form>\n    </PanelElement>\n  );\n});\n\nexport default HttpSettingsPanel;\n\nconst Form = styled.div`\n  padding: 10px;\n`;\n\nconst InputGroup = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n`;\n\nconst InputGroupTitle = styled.h1`\n  margin: 3px 0 5px;\n  font-weight: bold;\n`;\n\nconst InputGroupContent = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n`;\n\nconst Label = styled.label`\n  padding: 0 1px 0 5px;\n  cursor: pointer;\n`;\n\nconst LabelAndInput = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: center;\n  padding: 5px;\n`;\n\nconst Input = styled.input`\n  padding: 3px;\n  cursor: pointer;\n`;\n","import \"monaco-editor/esm/vs/language/json/monaco.contribution\";\nimport EditorContainer from \"@bcp/main/components/shared/EditorContainer\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\nimport VariableEditorProperties from \"./VariableEditorProperties\";\n\nconst VariableEditor: FunctionComponent<VariableEditorProperties> = memo(\n  (props) => {\n    const model = useModel(props);\n    const editor = useEditor(model);\n\n    return <EditorContainer ref={editor} />;\n  }\n);\n\nexport default VariableEditor;\n","import { useEffect, useRef } from \"react\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\n\nexport default function useEditor(model: Editor.ITextModel) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      editor.layout({\n        width: rect.width,\n        height: rect.height,\n      });\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      editor.dispose();\n    };\n  }, [model]);\n\n  return ref;\n}\n","import { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport { debounce } from \"@bcp/main/utils\";\nimport VariableEditorProperties from \"./VariableEditorProperties\";\n\nexport default function useModel(props: VariableEditorProperties) {\n  const model = useRef<Editor.ITextModel>(\n    Editor.createModel(\"{\\n  \\n}\", \"json\")\n  );\n  const { content, onContentChange } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const emitContentChange = debounce<Editor.ITextModel>((m) => {\n      onContentChange && onContentChange(m.getValue());\n    });\n\n    if (model.current.getValue() !== content) {\n      model.current.setValue(content || \"{\\n  \\n}\");\n    }\n\n    const subscription = model.current.onDidChangeContent(() => {\n      emitContentChange(model.current);\n    });\n\n    return () => {\n      subscription.dispose();\n    };\n  }, [content, onContentChange]);\n\n  return model.current;\n}\n","import tryParseAndCacheVariables from \"@bcp/main/components/shared/tryParseAndCacheVariables\";\nimport PanelElement from \"@bcp/main/components/stage/document-content/PanelElement\";\nimport store, { activeVariableSet, updateTabContent } from \"@bcp/main/state\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport VariableEditor from \"./variable-editor\";\n\ninterface VariablesPanelProperties {\n  id: string;\n}\n\nconst VariablesPanel: FunctionComponent<VariablesPanelProperties> = memo(\n  (props) => {\n    const content = store.current(activeVariableSet);\n\n    const contentChangeHandler = (content: string) => {\n      tryParseAndCacheVariables(props.id, content);\n      store.dispatch(\n        updateTabContent((draft) => {\n          if (draft.variableSets) {\n            const set = draft.variableSets.find(\n              (s) => s.id === draft.selectedVariableSetId\n            );\n\n            if (set) {\n              set.variables = content;\n            } else {\n              draft.selectedVariableSetId = \"__default\";\n              draft.variableSets.push({\n                id: \"__default\",\n                name: \"Default\",\n                variables: content,\n              });\n            }\n          }\n        })\n      );\n    };\n\n    return (\n      <PanelElement>\n        <VariableEditor\n          content={content}\n          onContentChange={contentChangeHandler}\n        />\n      </PanelElement>\n    );\n  }\n);\n\nexport default VariablesPanel;\n","import React, { FunctionComponent, memo } from \"react\";\nimport DocumentHeaderItemId from \"@bcp/shared/models/DocumentHeaderItemId\";\nimport HttpHeadersPanel from \"./http-headers-panel\";\nimport HttpSettingsPanel from \"./http-settings-panel\";\nimport VariablesPanel from \"./variables-panel\";\n\ninterface HeaderContentPanelsProperties {\n  id: string;\n  itemId: DocumentHeaderItemId;\n}\n\nconst HeaderContentPanels: FunctionComponent<HeaderContentPanelsProperties> = memo(\n  ({ id, itemId }) => {\n    switch (itemId) {\n      case DocumentHeaderItemId.HttpHeaders:\n        return <HttpHeadersPanel id={id} />;\n\n      case DocumentHeaderItemId.HttpSettings:\n        return <HttpSettingsPanel />;\n\n      case DocumentHeaderItemId.Variables:\n        return <VariablesPanel id={id} />;\n\n      default:\n        throw Error();\n    }\n  }\n);\n\nexport default HeaderContentPanels;\n","import {\n  CodeIcon,\n  ListFlatIcon,\n  SettingsIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport {\n  Tab,\n  TabIconContainer,\n  Tabs,\n} from \"@bcp/main/components/stage/shared/content-tabs\";\nimport store, { changeDocumentHeaderItem, useSelector } from \"@bcp/main/state\";\nimport {\n  activeDocumentHeaderItemId,\n  documentHeaderCollapsed,\n} from \"@bcp/main/state/selectors\";\nimport styled from \"@bcp/main/styled\";\nimport DocumentHeaderItemId from \"@bcp/shared/models/DocumentHeaderItemId\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport HeaderContentPanels from \"./HeaderContentPanels\";\n\ninterface HeaderContentProperties {\n  id: string;\n}\n\nconst HeaderContent: FunctionComponent<HeaderContentProperties> = memo(\n  (props) => {\n    const activeId = useSelector(activeDocumentHeaderItemId);\n    const isCollapsed = useSelector(documentHeaderCollapsed);\n\n    const getClass = (id: DocumentHeaderItemId) => {\n      return !isCollapsed && activeId === id ? \"active\" : \"\";\n    };\n\n    const changeActiveItem = (id: DocumentHeaderItemId) => {\n      store.dispatch(changeDocumentHeaderItem(id));\n    };\n\n    return (\n      <Container>\n        <Header>\n          <Tabs>\n            <Tab\n              title=\"Tab: HTTP Headers\"\n              className={getClass(DocumentHeaderItemId.HttpHeaders)}\n              onClick={() => changeActiveItem(DocumentHeaderItemId.HttpHeaders)}\n            >\n              <TabIconContainer>\n                <ListFlatIcon />\n              </TabIconContainer>\n              HTTP Headers\n            </Tab>\n            <Tab\n              title=\"Tab: HTTP Settings\"\n              className={getClass(DocumentHeaderItemId.HttpSettings)}\n              onClick={() =>\n                changeActiveItem(DocumentHeaderItemId.HttpSettings)\n              }\n            >\n              <TabIconContainer>\n                <SettingsIcon />\n              </TabIconContainer>\n              HTTP Settings\n            </Tab>\n            <Tab\n              title=\"Tab: GraphQL Variables\"\n              className={getClass(DocumentHeaderItemId.Variables)}\n              onClick={() => changeActiveItem(DocumentHeaderItemId.Variables)}\n            >\n              <TabIconContainer>\n                <CodeIcon />\n              </TabIconContainer>\n              GraphQL Variables\n            </Tab>\n          </Tabs>\n        </Header>\n        <HeaderContentPanels id={props.id} itemId={activeId} />\n      </Container>\n    );\n  }\n);\n\nexport default HeaderContent;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n`;\n","import Application from \"@bcp/shared/models/Application\";\nimport DocumentHeaderItemId from \"@bcp/shared/models/DocumentHeaderItemId\";\n\nexport default function changeDocumentHeaderItem(id: DocumentHeaderItemId) {\n  return (draft: Application) => {\n    draft.selectedDocumentHeaderItemId = id;\n  };\n}\n","import {\n  QueryEditor,\n  ResultEditor,\n  Splitter,\n  SplitterIds,\n} from \"@bcp/main/components/shared\";\nimport tryParseAndCacheDocument from \"@bcp/main/components/shared/tryParseAndCacheDocument\";\nimport store, {\n  changeResultSize,\n  resultSize,\n  updateTabContent,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { resultOrientation } from \"@bcp/main/state/selectors\";\nimport React, { FunctionComponent, memo, useCallback } from \"react\";\n\ninterface QueryAndResultPaneProperties {\n  activeTabId: string;\n  document: string;\n}\n\nconst QueryAndResultPane: FunctionComponent<QueryAndResultPaneProperties> = memo(\n  ({ activeTabId, document }) => {\n    const orientation = useSelector(resultOrientation);\n    const size = store.current(resultSize);\n\n    const contentChangeHandler = useCallback(\n      (content: string) => {\n        tryParseAndCacheDocument(activeTabId, content);\n        store.dispatch(\n          updateTabContent((draft) => {\n            draft.document = content;\n          })\n        );\n      },\n      [activeTabId]\n    );\n\n    return (\n      <Splitter\n        id={SplitterIds.DocumentContent}\n        orientation={orientation}\n        asideSize={size}\n        onAsideSizeChange={(size) => store.dispatch(changeResultSize(size))}\n        mainPane=\"pane-a\"\n        paneAContent={\n          <QueryEditor\n            content={document}\n            onContentChange={contentChangeHandler}\n          />\n        }\n        paneBContent={<ResultEditor id={activeTabId} />}\n        showSeparator\n      />\n    );\n  }\n);\n\nexport default QueryAndResultPane;\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeResultSize(size: number) {\n  return (draft: Application) => {\n    const orientation = draft.preferences?.resultOrientation || \"vertical\";\n\n    if (orientation === \"vertical\") {\n      draft.settings.resultWidth = size;\n    } else {\n      draft.settings.resultHeight = size;\n    }\n  };\n}\n","import {\n  Content,\n  HorizontalSplitter,\n  SplitterIds,\n} from \"@bcp/main/components/shared\";\nimport store, {\n  activeTab,\n  changeDocumentHeaderCollapsed,\n  changeDocumentHeaderHeight,\n  documentHeaderHeight,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { DocumentTab } from \"@bcp/shared/models/Tabs\";\nimport {\n  activeTabId,\n  documentHeaderCollapsed,\n} from \"@bcp/main/state/selectors\";\nimport React, { FunctionComponent, memo, useCallback } from \"react\";\nimport QueryHeader, { HeaderContent } from \"./header\";\nimport QueryAndResultPane from \"./QueryAndResultPane\";\n\nconst QueryHeaderAndContent: FunctionComponent = memo(() => {\n  const tabId = useSelector(activeTabId)!;\n  const cachedTab = store.current(activeTab) as DocumentTab;\n  const headerCollapsed = useSelector(documentHeaderCollapsed);\n  const headerHeight = store.current(documentHeaderHeight);\n\n  const handleAsideCollapsedChange = useCallback((collapsed) => {\n    store.dispatch(changeDocumentHeaderCollapsed(collapsed));\n  }, []);\n\n  const handleAsideHeightChange = useCallback((height) => {\n    store.dispatch(changeDocumentHeaderHeight(height));\n  }, []);\n\n  return (\n    <Content>\n      <QueryHeader\n        id={tabId}\n        httpMethod={cachedTab.draft.httpMethod}\n        operationName={cachedTab.draft.operationName}\n        showRequestConfig={!headerCollapsed}\n        schemaEndpoint={cachedTab.draft.schemaEndpoint}\n        subscriptionEndpoint={cachedTab.draft.subscriptionEndpoint}\n        showSubscriptionEndpoint={cachedTab.showSubscriptionEndpoint}\n        enableSchemaPolling={cachedTab.enableSchemaPolling}\n      />\n      <HorizontalSplitter\n        id={SplitterIds.DocumentHeader}\n        asideCollapsable\n        asideCollapsed={headerCollapsed}\n        asideHeight={headerHeight}\n        onAsideCollapsedChange={handleAsideCollapsedChange}\n        onAsideHeightChange={handleAsideHeightChange}\n        mainPane=\"bottom\"\n        topContent={<HeaderContent id={tabId} />}\n        bottomContent={\n          <QueryAndResultPane\n            activeTabId={tabId}\n            document={cachedTab.draft.document}\n          />\n        }\n        showSeparator\n      />\n    </Content>\n  );\n});\n\nexport default QueryHeaderAndContent;\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeDocumentHeaderHeight(height: number) {\n  return (draft: Application) => {\n    draft.settings.documentHeaderHeight = height;\n  };\n}\n","import store, {\n  changeFooterCollapsed,\n  changeFooterHeight,\n  footerCollapsed,\n  footerHeight,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { HorizontalSplitter, SplitterIds } from \"@bcp/main/components/shared\";\nimport {\n  Footer,\n  FooterContent,\n} from \"@bcp/main/components/stage/shared/footer\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport QueryHeaderAndContent from \"./QueryHeaderAndContent\";\n\nconst DocumentContent: FunctionComponent = () => {\n  const collapsed = useSelector(footerCollapsed);\n  const height = store.current(footerHeight);\n\n  const handleAsideCollapsedChange = useCallback((collapsed) => {\n    store.dispatch(changeFooterCollapsed(collapsed));\n  }, []);\n\n  const handleAsideHeightChange = useCallback((height) => {\n    store.dispatch(changeFooterHeight(height));\n  }, []);\n\n  return (\n    <>\n      <HorizontalSplitter\n        id={SplitterIds.Document}\n        asideCollapsable\n        asideCollapsed={collapsed}\n        asideHeight={height}\n        onAsideCollapsedChange={handleAsideCollapsedChange}\n        onAsideHeightChange={handleAsideHeightChange}\n        mainPane=\"top\"\n        topContent={<QueryHeaderAndContent />}\n        bottomContent={<FooterContent />}\n        showSeparator\n      />\n      <Footer />\n    </>\n  );\n};\n\nexport default DocumentContent;\n","import styled from \"@bcp/main/styled\";\n\ninterface ButtonProperties {\n  disabled?: boolean;\n}\n\nconst Button = styled.button<ButtonProperties>`\n  flex: 0 0 auto;\n  margin: 0 3px;\n  height: 28px;\n  padding: 0 9px;\n  background-color: ${(props) =>\n    props.disabled\n      ? props.theme.dialogButtonBgDisabled\n      : props.theme.dialogButtonBg};\n  color: ${(props) =>\n    props.disabled\n      ? props.theme.dialogButtonTextDisabled\n      : props.theme.dialogButtonText};\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) =>\n      props.disabled\n        ? props.theme.dialogButtonBgDisabled\n        : props.theme.dialogButtonBgHover};\n    color: ${(props) =>\n      props.disabled\n        ? props.theme.dialogButtonTextDisabled\n        : props.theme.dialogButtonTextHover};\n  }\n`;\n\nexport default Button;\n","import React, { FunctionComponent, ReactNode } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"@bcp/main/styled\";\n\ninterface DialogProperties {\n  title: string;\n  footer: ReactNode;\n  onClose?: () => void;\n}\n\nconst Dialog: FunctionComponent<DialogProperties> = (props) => {\n  return (\n    <>\n      {createPortal(\n        <Modal>\n          <Container>\n            <Header>\n              <Title>{props.title}</Title>\n              <CloseButton onClick={() => props.onClose && props.onClose()}>\n                <FontAwesomeIcon icon={faTimes} />\n              </CloseButton>\n            </Header>\n            <Content>{props.children}</Content>\n            <Footer>{props.footer}</Footer>\n          </Container>\n        </Modal>,\n        document.getElementById(\"components\")!\n      )}\n      {createPortal(<Backdrop />, document.getElementById(\"components\")!)}\n    </>\n  );\n};\n\nexport default Dialog;\n\nconst Container = styled.div`\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  margin-top: 100px;\n  width: 400px;\n  max-height: 300px;\n  background-color: ${(props) => props.theme.dialogContentBg};\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.4);\n  color: ${(props) => props.theme.dialogContentText};\n`;\n\nconst Header = styled.header`\n  display: flex;\n  flex: 0 0 28px;\n  flex-direction: row;\n  align-items: center;\n  background-color: ${(props) => props.theme.dialogHeaderBg};\n  color: ${(props) => props.theme.dialogHeaderText};\n`;\n\nconst Title = styled.h1`\n  flex: 1 1 auto;\n  padding-left: 12px;\n  font-weight: bold;\n`;\n\nconst CloseButton = styled.button`\n  flex: 0 0 40px;\n  height: 28px;\n  color: ${(props) => props.theme.dialogHeaderText};\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.red};\n    color: ${(props) => props.theme.controlTextActiveColor};\n  }\n`;\n\nconst Content = styled.main`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nconst Footer = styled.footer`\n  display: flex;\n  flex: 0 0 28px;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 6px 9px;\n`;\n\nconst Modal = styled.div`\n  z-index: 20;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n`;\n\nconst Backdrop = styled.div`\n  z-index: 15;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n`;\n","import styled from \"@bcp/main/styled\";\n\nconst DialogContentSubtitle = styled.h2`\n  flex: 0 0 auto;\n  margin: 0 12px 18px;\n  font-size: 1.167em;\n  text-align: center;\n`;\n\nexport default DialogContentSubtitle;\n","import styled from \"@bcp/main/styled\";\n\nconst DialogContentTitle = styled.h1`\n  flex: 0 0 auto;\n  margin: 12px 12px 18px;\n  font-size: 1.5em;\n  text-align: center;\n\n  & > em {\n    white-space: nowrap;\n  }\n`;\n\nexport default DialogContentTitle;\n","import Dialog, {\n  Button,\n  DialogContentTitle,\n} from \"@bcp/main/components/shared/dialog\";\nimport store, { createDocumentByTab } from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport { DocumentTab, TabBase } from \"@bcp/shared/models/Tabs\";\nimport { Path, treeModelRegistry } from \"@bcp/main/components/shared/tree\";\nimport React, { FunctionComponent, memo, useReducer } from \"react\";\n\ninterface CreateDocumentDialogProperties {\n  tab: TabBase;\n  closeTabAfterCreation?: boolean;\n  onSaved: (tab: TabBase) => void;\n  onCancelled: (tab: TabBase) => void;\n}\n\nenum ActionType {\n  ChangeDocumentName = 0,\n  ChangeCollectionName = 1,\n}\n\nconst CreateDocumentDialog: FunctionComponent<CreateDocumentDialogProperties> = memo(\n  (props) => {\n    const [state, dispatch] = useReducer(reducer, {\n      collectionName: \"\",\n      documentName: \"\",\n      saveDisabled: true,\n    });\n    const handleSave = async () => {\n      if (!state.saveDisabled) {\n        const tab = { ...props.tab, name: state.documentName };\n        const treeModel = treeModelRegistry.get(\"documents\");\n\n        if (treeModel) {\n          // TODO: verify name does not exist\n\n          const folderPath = Path.combine(Path.separator, state.collectionName);\n          const parent =\n            treeModel.getByPath(folderPath) ||\n            (await treeModel.create({\n              name: state.collectionName,\n              expandable: true,\n              expanded: true,\n              metadata: {\n                kind: \"collection\",\n              },\n            }));\n\n          await parent.create({\n            name: state.documentName,\n            expandable: false,\n            metadata: {\n              kind: \"document\",\n              closeTabAfterCreation: props.closeTabAfterCreation || false,\n              tab,\n            },\n          });\n        } else {\n          store.dispatch(\n            createDocumentByTab(\n              state.collectionName,\n              tab as DocumentTab,\n              props.closeTabAfterCreation || false\n            )\n          );\n        }\n\n        props.onSaved(tab);\n      }\n    };\n\n    return (\n      <Dialog\n        title=\"Create Document\"\n        footer={\n          <>\n            <Button disabled={state.saveDisabled} onClick={handleSave}>\n              Save\n            </Button>\n            <Button onClick={() => props.onCancelled(props.tab)}>Cancel</Button>\n          </>\n        }\n        onClose={() => props.onCancelled(props.tab)}\n      >\n        <DialogContentTitle>\n          Choose a name and collection for document.\n        </DialogContentTitle>\n        <Form>\n          <Group>\n            <Label htmlFor=\"documentName\">Document Name</Label>\n            <Input\n              id=\"documentName\"\n              type=\"text\"\n              value={state.documentName}\n              placeholder=\"Enter a document name here\"\n              onChange={(e) => {\n                dispatch({\n                  type: ActionType.ChangeDocumentName,\n                  name: e.currentTarget.value,\n                });\n              }}\n            />\n          </Group>\n          <Group>\n            <Label htmlFor=\"collectionName\">Collection Name</Label>\n            <Input\n              id=\"collectionName\"\n              type=\"text\"\n              value={state.collectionName}\n              placeholder=\"Enter a collection name here\"\n              onChange={(e) => {\n                dispatch({\n                  type: ActionType.ChangeCollectionName,\n                  name: e.currentTarget.value,\n                });\n              }}\n            />\n          </Group>\n        </Form>\n      </Dialog>\n    );\n  }\n);\n\nexport default CreateDocumentDialog;\n\ninterface DialogAction {\n  type: ActionType;\n  name: string;\n}\n\ninterface DialogState {\n  collectionName: string;\n  documentName: string;\n  saveDisabled: boolean;\n}\n\nconst reducer = (prevState: DialogState, action: DialogAction): DialogState => {\n  switch (action.type) {\n    case ActionType.ChangeCollectionName:\n      return {\n        ...prevState,\n        collectionName: action.name,\n        saveDisabled: !(\n          prevState.documentName.length > 0 && action.name.length > 0\n        ),\n      };\n\n    case ActionType.ChangeDocumentName:\n      return {\n        ...prevState,\n        documentName: action.name,\n        saveDisabled: !(\n          prevState.collectionName.length > 0 && action.name.length > 0\n        ),\n      };\n  }\n\n  throw new Error();\n};\n\nconst Form = styled.form`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nconst Group = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  padding: 0 12px 18px;\n`;\n\nconst Label = styled.label`\n  flex: 1 1 auto;\n  margin-bottom: 4px;\n`;\n\nconst Input = styled.input`\n  flex: 1 1 auto;\n  border: 1px solid ${(props) => props.theme.contentBorder};\n  padding: 6px 6px;\n  background-color: ${(props) => props.theme.mainBgColor};\n  color: ${(props) => props.theme.controlTextColor};\n`;\n","import Dialog, {\n  Button,\n  DialogContentSubtitle,\n  DialogContentTitle,\n} from \"@bcp/main/components/shared/dialog\";\nimport store, { closeTab, saveAndCloseTab } from \"@bcp/main/state\";\nimport {\n  isDocumentOrHistoryTab,\n  isPreferencesTab,\n  TabBase,\n} from \"@bcp/shared/models/Tabs\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface SaveDocumentDialogProperties {\n  tab: TabBase;\n  onSaved: (tab: TabBase) => void;\n  onDidNotSave: (tab: TabBase) => void;\n  onCancelled: (tab: TabBase) => void;\n}\n\nconst SaveDocumentDialog: FunctionComponent<SaveDocumentDialogProperties> = memo(\n  (props) => {\n    const handleSave = () => {\n      const { tab } = props;\n\n      if ((isDocumentOrHistoryTab(tab) && !tab.new) || isPreferencesTab(tab)) {\n        store.dispatch(saveAndCloseTab);\n      }\n\n      props.onSaved(tab);\n    };\n\n    const doNotSaveDocumentHandler = () => {\n      const { tab } = props;\n\n      store.dispatch(closeTab(tab.id));\n      props.onDidNotSave(tab);\n    };\n\n    return (\n      <Dialog\n        title=\"Save Changes\"\n        footer={\n          <>\n            <Button onClick={handleSave}>Save</Button>\n            <Button onClick={doNotSaveDocumentHandler}>Don't save</Button>\n            <Button onClick={() => props.onCancelled(props.tab)}>Cancel</Button>\n          </>\n        }\n        onClose={() => props.onCancelled(props.tab)}\n      >\n        <DialogContentTitle>\n          Do you want to save the changes you made to <em>{props.tab.name}</em>?\n        </DialogContentTitle>\n        <DialogContentSubtitle>\n          Your changes will be lost if you don't save them.\n        </DialogContentSubtitle>\n      </Dialog>\n    );\n  }\n);\n\nexport default SaveDocumentDialog;\n","import { Item, Menu, MenuIds } from \"@bcp/main/components/shared\";\nimport React, { MouseEvent } from \"react\";\nimport { contextMenu } from \"react-contexify\";\nimport { MenuItemEventHandler } from \"react-contexify/lib/types\";\n\ninterface Context {\n  tabId: string;\n  onClose: (tabId: string) => void;\n}\n\nconst closeHandler: (args: MenuItemEventHandler) => void = async ({\n  props,\n}) => {\n  const { tabId, onClose } = props as Context;\n\n  onClose(tabId);\n};\n\nconst TabsMenu = () => (\n  <Menu id={MenuIds.Tabs}>\n    <Item onClick={closeHandler}>Close Tab</Item>\n  </Menu>\n);\n\nexport default TabsMenu;\n\nexport function showTabsMenu(e: MouseEvent<HTMLElement>, context: Context) {\n  e.preventDefault();\n  e.stopPropagation();\n  contextMenu.show({\n    id: MenuIds.Tabs,\n    event: e,\n    props: context,\n  });\n}\n","import React, { FunctionComponent, memo, MouseEvent } from \"react\";\nimport {\n  faCircle,\n  faTimes,\n  IconDefinition,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"@bcp/main/styled\";\nimport { showTabsMenu } from \"./TabsMenu\";\n\ninterface ContainerProperties {\n  active?: boolean;\n  hasChanges?: boolean;\n  new?: boolean;\n  preview?: boolean;\n}\n\ninterface TabDocumentProperties extends ContainerProperties {\n  id: string;\n  name: string;\n  iconDef: IconDefinition;\n  onClick: (tabId: string, openTabIfPreview: boolean) => void;\n  onClose: (tabId: string) => void;\n}\n\nconst Tab: FunctionComponent<TabDocumentProperties> = memo((props) => {\n  const handleClick = (openTabIfPreview: boolean) => {\n    props.onClick(props.id, openTabIfPreview);\n  };\n\n  const handleCloseClick = (e: MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    props.onClose(props.id);\n  };\n\n  const handleContextMenu = (e: MouseEvent<HTMLElement>) => {\n    showTabsMenu(e, {\n      tabId: props.id,\n      onClose: props.onClose,\n    });\n  };\n\n  return (\n    <Container\n      active={props.active}\n      hasChanges={props.hasChanges}\n      new={props.new}\n      preview={props.preview}\n      title={\"Tab: \" + props.name}\n      onClick={() => handleClick(false)}\n      onContextMenu={handleContextMenu}\n      onDoubleClick={() => handleClick(true)}\n    >\n      <FlexIcon icon={props.iconDef} />\n      {props.name}\n      <CloseButton\n        title={\"Close Tab: \" + props.name}\n        onClick={handleCloseClick}\n      >\n        <FontAwesomeIcon icon={faTimes} className=\"close\" />\n        <FontAwesomeIcon icon={faCircle} className=\"changes\" />\n      </CloseButton>\n    </Container>\n  );\n});\n\nexport default Tab;\n\nconst CloseButton = styled.button`\n  width: 30px;\n  height: 100%;\n  color: transparent;\n  transition: color 0.2s ease;\n`;\n\nconst Container = styled.div<ContainerProperties>`\n  flex: 0 0 auto;\n  height: 100%;\n  background-color: ${(props) =>\n    props.active ? props.theme.tabBgActive : \"transparent\"};\n  color: ${(props) =>\n    props.active ? props.theme.tabTextActive : props.theme.tabText};\n  font-weight: ${(props) => (props.new ? \"bold\" : \"normal\")};\n  font-style: ${(props) => (props.preview ? \"italic\" : \"normal\")};\n  white-space: nowrap;\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\n  cursor: pointer;\n  transition: background-color 0.2s ease, color 0.2s ease, opacity 0.2s ease;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  & > ${CloseButton} {\n    color: ${(props) =>\n      props.active\n        ? props.theme.tabTextActive\n        : props.hasChanges\n        ? props.theme.tabText\n        : \"transparent\"};\n\n    & > .changes {\n      display: ${(props) => (props.hasChanges ? \"inline-block\" : \"none\")};\n      font-size: 0.667em;\n      margin-bottom: 1px;\n    }\n\n    & > .close {\n      display: ${(props) => (props.hasChanges ? \"none\" : \"inline-block\")};\n    }\n  }\n\n  &:hover > ${CloseButton} {\n    color: ${(props) =>\n      props.active ? props.theme.tabTextActive : props.theme.tabText};\n    opacity: 1;\n\n    & > .changes {\n      display: ${(props) => (props.hasChanges ? \"inline-block\" : \"none\")};\n    }\n\n    & > .close {\n      display: ${(props) => (props.hasChanges ? \"none\" : \"inline-block\")};\n    }\n  }\n\n  & > ${CloseButton}:hover {\n    color: ${(props) =>\n      props.active ? props.theme.tabTextActive : props.theme.tabText};\n\n    & > .changes {\n      display: none;\n    }\n\n    & > .close {\n      display: inline-block;\n    }\n  }\n`;\n\nconst FlexIcon = styled(FontAwesomeIcon)`\n  padding: 0 10px 0 12px;\n`;\n","import { createVirtualScrolling } from \"@bcp/main/components/shared\";\nimport store, {\n  activateTab,\n  closeTab,\n  createAndOpenNewDocumentTab,\n  openPreferencesTab,\n  saveTab,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { activeTabId, allTabs } from \"@bcp/main/state/selectors\";\nimport styled from \"@bcp/main/styled\";\nimport {\n  isDocumentTab,\n  isDocumentOrHistoryTab,\n  isHistoryTab,\n  isSchemaTab,\n  isPreferencesTab,\n  TabBase,\n} from \"@bcp/shared/models/Tabs\";\nimport {\n  faCog,\n  faPlus,\n  faSave,\n  faFileDownload,\n  faBook,\n  faFile,\n  faHistory,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {\n  FunctionComponent,\n  useEffect,\n  useReducer,\n  useRef,\n  useCallback,\n} from \"react\";\nimport pkg from \"@bcp/package\";\nimport CreateDocumentDialog from \"./CreateDocumentDialog\";\nimport SaveDocumentDialog from \"./SaveDocumentDialog\";\nimport Tab from \"./Tab\";\nimport TabsMenu from \"./TabsMenu\";\n\nenum DialogActionType {\n  close = 0,\n  showCreateDialog = 1,\n  showSaveDialog = 2,\n  showSaveDialogAndClose = 3,\n}\n\nconst Header: FunctionComponent = () => {\n  const tabId = useSelector(activeTabId);\n  const tabs = useSelector(allTabs);\n  const tabsRef = useRef<HTMLDivElement>(null);\n  const activeTab = tabs.find((t) => t.id === tabId);\n  const [state, dispatch] = useReducer(reducer, {\n    showCreateDialog: false,\n    showSaveDialog: false,\n  });\n\n  const createIcon = (tab: TabBase) => {\n    if (isDocumentTab(tab)) {\n      return tab.subscriptionRunning ? faFileDownload : faFile;\n    }\n\n    if (isHistoryTab(tab)) {\n      return tab.subscriptionRunning ? faFileDownload : faHistory;\n    }\n\n    if (isSchemaTab(tab)) {\n      return faBook;\n    }\n\n    if (isPreferencesTab(tab)) {\n      return faCog;\n    }\n\n    return faFile;\n  };\n\n  const isNew = (tab: TabBase) => {\n    return isDocumentOrHistoryTab(tab) ? tab.new : false;\n  };\n\n  const handleDialogDefault = useCallback(() => {\n    dispatch({ type: DialogActionType.close });\n  }, []);\n\n  const handleSaveDialogSave = useCallback((tab: TabBase) => {\n    if (isDocumentOrHistoryTab(tab) && tab.new) {\n      dispatch({ type: DialogActionType.showCreateDialog, tab });\n    } else {\n      dispatch({ type: DialogActionType.close });\n    }\n  }, []);\n\n  const handleTabClose = useCallback(\n    (tab: TabBase) => () => {\n      if (tab.hasChanges) {\n        dispatch({ type: DialogActionType.showSaveDialogAndClose, tab });\n      } else {\n        store.dispatch(closeTab(tab.id));\n      }\n    },\n    []\n  );\n\n  const handleDocumentClick = useCallback((id, openTabIfPreview) => {\n    store.dispatch(activateTab(id, openTabIfPreview));\n  }, []);\n\n  const handlePreferencesClick = () => {\n    store.dispatch(openPreferencesTab(true));\n  };\n\n  const handleSave = () => {\n    if (activeTab) {\n      if (isDocumentOrHistoryTab(activeTab)) {\n        if (activeTab.hasChanges || activeTab.new) {\n          if (activeTab.new || isHistoryTab(activeTab)) {\n            dispatch({\n              type: DialogActionType.showCreateDialog,\n              tab: activeTab,\n            });\n          } else {\n            store.dispatch(saveTab);\n          }\n        }\n      }\n\n      if (isPreferencesTab(activeTab) && activeTab.hasChanges) {\n        store.dispatch(saveTab);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (activeTab) {\n      document.title = `${pkg.displayName} >> ${activeTab.name}`;\n    }\n\n    const unsubscribe = createVirtualScrolling(tabsRef.current!, \"vertical\");\n\n    return () => {\n      unsubscribe();\n    };\n  }, [activeTab]);\n\n  return (\n    <Container>\n      <Tabs ref={tabsRef}>\n        {tabs &&\n          tabs.map((tab) => (\n            <Tab\n              active={tab.id === tabId}\n              id={tab.id}\n              key={tab.id}\n              name={tab.name}\n              iconDef={createIcon(tab)}\n              hasChanges={tab.hasChanges}\n              new={isNew(tab)}\n              preview={tab.preview}\n              onClick={handleDocumentClick}\n              onClose={handleTabClose(tab)}\n            />\n          ))}\n      </Tabs>\n      <Button\n        title=\"New Tab\"\n        onClick={() => store.dispatch(createAndOpenNewDocumentTab)}\n      >\n        <FontAwesomeIcon icon={faPlus} />\n      </Button>\n      {activeTab && !isSchemaTab(activeTab) && (\n        <Button title=\"Save Current Tab\" onClick={handleSave}>\n          <FontAwesomeIcon icon={faSave} />\n        </Button>\n      )}\n      <Button title=\"Preferences\" onClick={handlePreferencesClick}>\n        <FontAwesomeIcon icon={faCog} />\n      </Button>\n      {state.showCreateDialog && (\n        <CreateDocumentDialog\n          tab={state.tab!}\n          closeTabAfterCreation={state.closeTabAfterCreation}\n          onSaved={handleDialogDefault}\n          onCancelled={handleDialogDefault}\n        />\n      )}\n      {state.showSaveDialog && (\n        <SaveDocumentDialog\n          tab={state.tab!}\n          onSaved={handleSaveDialogSave}\n          onDidNotSave={handleDialogDefault}\n          onCancelled={handleDialogDefault}\n        />\n      )}\n      <TabsMenu />\n    </Container>\n  );\n};\n\nexport default Header;\n\ninterface DialogAction {\n  tab?: TabBase;\n  type: DialogActionType;\n}\n\ninterface DialogState {\n  closeTabAfterCreation?: boolean;\n  showCreateDialog: boolean;\n  showSaveDialog: boolean;\n  tab?: TabBase;\n}\n\nfunction reducer(prevState: DialogState, action: DialogAction): DialogState {\n  switch (action.type) {\n    case DialogActionType.close:\n      return { showCreateDialog: false, showSaveDialog: false };\n    case DialogActionType.showCreateDialog:\n      return {\n        ...prevState,\n        showCreateDialog: true,\n        showSaveDialog: false,\n        tab: action.tab,\n      };\n    case DialogActionType.showSaveDialog:\n      return { showCreateDialog: false, showSaveDialog: true, tab: action.tab };\n    case DialogActionType.showSaveDialogAndClose:\n      return {\n        closeTabAfterCreation: true,\n        showCreateDialog: false,\n        showSaveDialog: true,\n        tab: action.tab,\n      };\n    default:\n      throw new Error();\n  }\n}\n\nconst Container = styled.header`\n  z-index: 1;\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n  background: linear-gradient(\n    15deg,\n    ${(props) => props.theme.tabsBg2} 0%,\n    ${(props) => props.theme.tabsBg} 35%,\n    ${(props) => props.theme.tabsBg} 65%,\n    ${(props) => props.theme.tabsBg2} 100%\n  );\n  transition: box-shadow 0.2s ease;\n`;\n\nconst Tabs = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row;\n  border-right: 1px solid ${(props) => props.theme.tabsBg2};\n  height: 30px;\n`;\n\nconst Button = styled.button`\n  flex: 0 0 30px;\n  height: 30px;\n  color: ${(props) => props.theme.tabText};\n  transition: background-color 0.2s ease, opacity 0.2s ease;\n  opacity: 0.75;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n","import { createLinkedList } from \"@bcp/main/utils\";\nimport Application from \"@bcp/shared/models/Application\";\nimport {\n  isDocumentTab,\n  isSchemaTab,\n  isHistoryTab,\n} from \"@bcp/shared/models/Tabs\";\n\nexport default function activateTab(\n  id: string | undefined,\n  openIfInPreviewMode: boolean | undefined\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === id);\n\n    if (tab) {\n      if (tab.id !== workspace.selectedTabId) {\n        workspace.tabHistory = createLinkedList(workspace.tabHistory)\n          .setFirst(tab.id)\n          .toArray();\n        workspace.selectedTabId = tab.id;\n      }\n\n      if (tab.preview && openIfInPreviewMode) {\n        delete tab.preview;\n      }\n\n      if (isDocumentTab(tab) && !tab.new) {\n        const collection = workspace.collections.find(\n          (c) =>\n            (c.documents &&\n              c.documents.find((d) => d.id === tab.id) !== undefined) ||\n            false\n        );\n\n        if (collection) {\n          workspace.selectedNodeId = tab.id;\n          collection.expanded = true;\n        }\n      } else if (isHistoryTab(tab)) {\n        workspace.selectedNodeId = tab.id;\n        // todo: expand group\n      } else if (isSchemaTab(tab)) {\n        workspace.selectedNodeId = tab.id;\n        // todo: expand type\n      } else {\n        delete workspace.selectedNodeId;\n      }\n    }\n  };\n}\n","import \"monaco-editor/esm/vs/language/json/monaco.contribution\";\nimport EditorContainer from \"@bcp/main/components/shared/EditorContainer\";\nimport React, { FunctionComponent, memo } from \"react\";\nimport PreferencesEditorProperties from \"./PreferencesEditorProperties\";\nimport useEditor from \"./useEditor\";\nimport useModel from \"./useModel\";\n\nconst PreferencesEditor: FunctionComponent<PreferencesEditorProperties> = memo(\n  (props) => {\n    const model = useModel(props);\n    const editor = useEditor(model);\n\n    return <EditorContainer ref={editor} />;\n  }\n);\n\nexport default PreferencesEditor;\n","import { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function useEditor(model: Editor.ITextModel) {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = ref.current!;\n    const config: Editor.IStandaloneEditorConstructionOptions = {\n      contextmenu: false,\n      minimap: {\n        enabled: false,\n      },\n      model,\n      showFoldingControls: \"always\",\n      fixedOverflowWidgets: true,\n      theme: \"light\",\n      fontSize: 13,\n    };\n    const editor = Editor.create(element, config);\n\n    function setLayout() {\n      const rect = element.parentElement!.getBoundingClientRect();\n\n      editor.layout({\n        width: rect.width,\n        height: rect.height,\n      });\n    }\n\n    window.addEventListener(\"splitterchange\", setLayout);\n\n    return () => {\n      window.removeEventListener(\"splitterchange\", setLayout);\n      editor.dispose();\n    };\n  }, [model]);\n\n  return ref;\n}\n","import { registerEditorSchemas } from \"@bcp/main/components/shared\";\nimport { debounce } from \"@bcp/main/utils\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport { useEffect, useRef } from \"react\";\nimport PreferencesEditorProperties from \"./PreferencesEditorProperties\";\n\nimport schema from \"@bcp/main/json-schemas/preferences.json\";\n\nexport default function useModel(props: PreferencesEditorProperties) {\n  const model = useRef<Editor.ITextModel>(\n    Editor.createModel(\"{\\n  \\n}\", \"json\")\n  );\n  const { content, onContentChange } = props;\n\n  model.current.updateOptions({\n    insertSpaces: true,\n    tabSize: 2,\n  });\n\n  useEffect(() => {\n    const emitContentChange = debounce<Editor.ITextModel>((m) => {\n      onContentChange && onContentChange(m.getValue());\n    });\n\n    if (model.current.getValue() !== content) {\n      model.current.setValue(content || \"{\\n  \\n}\");\n    }\n\n    const dispose = registerEditorSchemas(model.current.uri, [\n      {\n        uri: \"editor://schemas/preferences.json\",\n        schema,\n      },\n    ]);\n    const subscription = model.current.onDidChangeContent(() => {\n      emitContentChange(model.current);\n    });\n\n    return () => {\n      subscription.dispose();\n      dispose();\n    };\n  }, [content, onContentChange]);\n\n  return model.current;\n}\n","import { HorizontalSplitter, SplitterIds } from \"@bcp/main/components/shared\";\nimport {\n  Footer,\n  FooterContent,\n} from \"@bcp/main/components/stage/shared/footer\";\nimport store, {\n  activeTab,\n  changeFooterCollapsed,\n  changeFooterHeight,\n  footerCollapsed,\n  footerHeight,\n  updatePreferencesTab,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { PreferencesTab } from \"@bcp/shared/models/Tabs\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport PreferencesEditor from \"./preferences-editor\";\n\nconst PreferencesContent: FunctionComponent = () => {\n  const collapsed = useSelector(footerCollapsed);\n  const height = store.current(footerHeight);\n  const { content } = store.current(activeTab) as PreferencesTab;\n\n  const handleAsideCollapsedChange = useCallback((collapsed) => {\n    store.dispatch(changeFooterCollapsed(collapsed));\n  }, []);\n\n  const handleAsideHeightChange = useCallback((height) => {\n    store.dispatch(changeFooterHeight(height));\n  }, []);\n\n  const contentChangeHandler = useCallback((content: string) => {\n    store.dispatch(\n      updatePreferencesTab((draft) => {\n        if (content && content.length > 0) {\n          draft.content = content;\n        } else {\n          delete draft.content;\n        }\n      })\n    );\n  }, []);\n\n  return (\n    <>\n      <HorizontalSplitter\n        id={SplitterIds.Preferences}\n        asideCollapsable\n        asideCollapsed={collapsed}\n        asideHeight={height}\n        onAsideCollapsedChange={handleAsideCollapsedChange}\n        onAsideHeightChange={handleAsideHeightChange}\n        mainPane=\"top\"\n        topContent={\n          <PreferencesEditor\n            content={content}\n            onContentChange={contentChangeHandler}\n          />\n        }\n        bottomContent={<FooterContent />}\n        showSeparator\n      />\n      <Footer />\n    </>\n  );\n};\n\nexport default PreferencesContent;\n","import { createHash } from \"@bcp/shared/utils\";\nimport Application from \"@bcp/shared/models/Application\";\nimport { isPreferencesTab, PreferencesTab } from \"@bcp/shared/models/Tabs\";\n\nexport default function updatePreferencesTab(\n  update: (draft: PreferencesTab) => void\n) {\n  return (draft: Application) => {\n    const workspace = draft.workspaces.find(\n      (w) => w.id === draft.selectedWorkspaceId\n    );\n\n    if (!workspace) {\n      return;\n    }\n\n    const tab = workspace.tabs.find((t) => t.id === workspace.selectedTabId);\n\n    if (tab && isPreferencesTab(tab)) {\n      const prevHash = tab.hash;\n\n      update(tab);\n      tab.hash = createHash(tab.content || \"\");\n\n      // check if there are changes after hash recalculation\n      if (prevHash !== tab.hash) {\n        tab.hasChanges = true;\n        delete tab.preview;\n      }\n    }\n  };\n}\n","import { schemaBrowser } from \"@bcp/main/services\";\nimport {\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport { SchemaBreadCrumbItem } from \"@bcp/shared/models/Tabs\";\nimport ColumnDescription from \"./ColumnDescription\";\n\nconst fetchFieldOrType = (\n  id: string\n): Promise<SchemaFieldType | SchemaType | undefined> => {\n  const [typeName, fieldName] = id.split(\"-\");\n\n  if (fieldName) {\n    return schemaBrowser.getField(typeName, fieldName);\n  }\n\n  return schemaBrowser.getType(typeName);\n};\n\nconst fetchPane = async (\n  item: SchemaBreadCrumbItem\n): Promise<ColumnDescription | undefined> => {\n  const fieldOrType = await fetchFieldOrType(item.id);\n\n  return fieldOrType\n    ? {\n        fieldOrType,\n        headerExpanded: item.headerExpanded,\n        scrollPosition: item.scrollPosition,\n        searchTerm: item.searchTerm,\n      }\n    : undefined;\n};\n\nconst filterPanes = (panes: ColumnDescription[]) => {\n  let result = panes;\n\n  if (result.length > 1) {\n    const startIndex = result.length - 1;\n    const type = getInnerType(result[startIndex].fieldOrType);\n\n    if (type.typeKind === \"enum\" || type.typeKind === \"scalar\") {\n      result = result.slice();\n      result.splice(startIndex, 1);\n    }\n  }\n\n  return result;\n};\n\nfunction getInnerType(type: SchemaFieldType | SchemaType | SchemaValueType) {\n  let innerType = type.kind === \"field\" ? type.valueType : type;\n\n  while (innerType.kind === \"value-type\") {\n    innerType = innerType.type;\n  }\n\n  return innerType;\n}\n\nfunction isScalar(type: SchemaType | SchemaValueType) {\n  let innerType = getInnerType(type);\n\n  return innerType.typeKind === \"scalar\";\n}\n\nexport { fetchFieldOrType, fetchPane, filterPanes, getInnerType, isScalar };\n","import { createVirtualScrolling } from \"@bcp/main/components/shared\";\nimport {\n  ChevronRightIcon,\n  FieldIcon,\n  renderTypeIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { languageService } from \"@bcp/main/services\";\nimport store, { activeSchemaBreadCrumb } from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport { SchemaBreadCrumbItem } from \"@bcp/shared/models/Tabs\";\nimport { createId } from \"@bcp/shared/utils\";\nimport React, {\n  FunctionComponent,\n  memo,\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n} from \"react\";\nimport { combineLatest } from \"rxjs\";\nimport ColumnDescription from \"./ColumnDescription\";\nimport { fetchPane } from \"./utils\";\n\ninterface BreadCrumbNavigationProperties {\n  onClick: (index: number, pane: ColumnDescription) => void;\n}\n\nconst BreadCrumbNavigation: FunctionComponent<BreadCrumbNavigationProperties> = memo(\n  ({ onClick }) => {\n    const [panes, updatePanes] = useState<ColumnDescription[]>([]);\n    const ref = useRef<HTMLDivElement>(null);\n    const requestId = useRef<string>(\"\");\n\n    const fetchData = useCallback(\n      async (breadCrumbs: SchemaBreadCrumbItem[]) => {\n        if (breadCrumbs.length > 0) {\n          const currentRequestId = createId();\n\n          requestId.current = currentRequestId;\n\n          const fetchedPanes = await Promise.all(\n            breadCrumbs.map(async (item) => await fetchPane(item))\n          );\n\n          if (currentRequestId === requestId.current) {\n            if (fetchedPanes && fetchedPanes.indexOf(undefined) === -1) {\n              return fetchedPanes as ColumnDescription[];\n            }\n          } else {\n            return undefined;\n          }\n        }\n\n        return [];\n      },\n      []\n    );\n\n    useEffect(() => {\n      const subscription = combineLatest(\n        languageService.observable,\n        store.select(activeSchemaBreadCrumb)\n      ).subscribe(async ([info, breadCrumbs]) => {\n        if (info.exists && breadCrumbs) {\n          const fetchedPanes = await fetchData(breadCrumbs);\n\n          if (fetchedPanes) {\n            updatePanes(fetchedPanes);\n          }\n        } else {\n          updatePanes([]);\n        }\n      });\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }, [fetchData]);\n\n    useEffect(() => {\n      const unsubscribe = createVirtualScrolling(ref.current!, \"vertical\");\n\n      return () => {\n        unsubscribe();\n      };\n    }, []);\n\n    return (\n      <BreadCrumbs ref={ref}>\n        {panes.map((pane, i, a) => (\n          <BreadCrumbItem key={`breadcrumb-${i}`}>\n            {i + 1 < a.length ? (\n              <>\n                <Link onClick={() => onClick(i - 1, pane)}>\n                  <IconContainer>\n                    {pane.fieldOrType.kind === \"type\" ? (\n                      renderTypeIcon(pane.fieldOrType.typeKind)\n                    ) : (\n                      <FieldIcon />\n                    )}\n                  </IconContainer>\n                  <span>{pane.fieldOrType.name}</span>\n                </Link>\n                <Separator>\n                  <ChevronRightIcon />\n                </Separator>\n              </>\n            ) : (\n              <Current>\n                <IconContainer>\n                  {pane.fieldOrType.kind === \"type\" ? (\n                    renderTypeIcon(pane.fieldOrType.typeKind)\n                  ) : (\n                    <FieldIcon />\n                  )}\n                </IconContainer>\n                <span>{pane.fieldOrType.name}</span>\n              </Current>\n            )}\n          </BreadCrumbItem>\n        ))}\n      </BreadCrumbs>\n    );\n  }\n);\n\nexport default BreadCrumbNavigation;\n\nconst BreadCrumbs = styled.div`\n  display: flex;\n  flex: 0 0 20px;\n  border-bottom: 1px solid ${(props) => props.theme.contentBorderLight};\n  padding: 0 10px;\n  background-color: ${(props) => props.theme.sideBarBg};\n  align-items: center;\n`;\n\nconst BreadCrumbItem = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst Current = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n\n  > span {\n    opacity: 0.75;\n  }\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin-right: 5px;\n`;\n\nconst Link = styled.a`\n  display: flex;\n  flex-direction: row;\n  cursor: pointer;\n\n  :hover {\n    color: ${(props) => props.theme.blue};\n  }\n`;\n\nconst Separator = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0 5px;\n`;\n","import { CloseIcon, SearchIcon } from \"@bcp/main/components/shared/icons\";\nimport styled from \"@bcp/main/styled\";\nimport { debounce } from \"@bcp/main/utils\";\nimport React, { forwardRef, useEffect, useRef, ChangeEvent, memo } from \"react\";\n\ninterface ColumnSearchProperties {\n  searchTerm?: string;\n  onSearchTermChange: (searchTerm: string) => void;\n}\n\nconst ColumnSearch = memo(\n  forwardRef<HTMLDivElement, ColumnSearchProperties>((props, ref) => {\n    const fieldRef = useRef<HTMLInputElement>(null);\n    const buttonRef = useRef<HTMLButtonElement>(null);\n    const { searchTerm } = props;\n\n    const emitChange = debounce<string>((searchTerm) => {\n      props.onSearchTermChange(searchTerm);\n    });\n\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n      emitChange(e.currentTarget.value.trim());\n      buttonRef.current!.style.display =\n        e.currentTarget.value.length > 0 ? \"flex\" : \"none\";\n    };\n\n    const handleClearClick = () => {\n      props.onSearchTermChange(\"\");\n      fieldRef.current!.value = \"\";\n      buttonRef.current!.style.display = \"none\";\n    };\n\n    useEffect(() => {\n      const field = fieldRef.current!;\n      const button = buttonRef.current!;\n\n      button.style.display =\n        searchTerm && searchTerm.length > 0 ? \"flex\" : \"none\";\n      field.value = searchTerm || \"\";\n    }, [searchTerm]);\n\n    return (\n      <Container ref={ref}>\n        <IconContainer>\n          <SearchIcon />\n        </IconContainer>\n        <SearchField\n          ref={fieldRef}\n          placeholder=\"Find...\"\n          onChange={handleChange}\n        />\n        <ClearButton ref={buttonRef} onClick={handleClearClick}>\n          <CloseIcon />\n        </ClearButton>\n      </Container>\n    );\n  })\n);\n\nexport default ColumnSearch;\n\nconst Container = styled.div`\n  z-index: 1;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  justify-content: center;\n  border-bottom: 1px solid ${(props) => props.theme.contentBorderLight};\n  padding: 0 3px;\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.mainBgColor};\n`;\n\nconst IconContainer = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin-left: 8px;\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst ClearButton = styled.button`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  color: ${(props) => props.theme.textColor};\n  opacity: 0.75;\n  transition: opacity 0.2s ease;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchField = styled.input`\n  flex: 1 1 auto;\n  border: 0 none;\n  padding: 6px 7px;\n  color: ${(props) => props.theme.textColor};\n  background-color: ${(props) => props.theme.mainBgColor};\n`;\n","import React from \"react\";\nimport {\n  SchemaArgumentType,\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport styled from \"@bcp/main/styled\";\nimport { isScalar } from \"./utils\";\n\nexport function renderArgument(\n  argument: SchemaArgumentType,\n  onClick?: (argument: SchemaArgumentType) => void\n) {\n  return (\n    <Argument key={argument.id}>\n      <Identifier>{argument.name}</Identifier>\n      <Delimiter>:</Delimiter>\n      <Whitespace>&nbsp;</Whitespace>\n      {renderType(argument.type, onClick ? () => onClick(argument) : undefined)}\n      {argument.defaultValue && (\n        <>\n          <Whitespace>&nbsp;</Whitespace>\n          <Operator>=</Operator>\n          <Whitespace>&nbsp;</Whitespace>\n          {isScalar(argument.type) ? (\n            typeof argument.defaultValue === \"string\" ? (\n              <String>{JSON.stringify(argument.defaultValue)}</String>\n            ) : (\n              <Number>{JSON.stringify(argument.defaultValue)}</Number>\n            )\n          ) : (\n            <Type>{JSON.stringify(argument.defaultValue, null, 2)}</Type>\n          )}\n        </>\n      )}\n    </Argument>\n  );\n}\n\nfunction renderArguments(\n  argumentTypes?: SchemaArgumentType[],\n  onClick?: (argument: SchemaArgumentType) => void\n) {\n  if (!argumentTypes || argumentTypes.length === 0) {\n    return <></>;\n  }\n\n  return argumentTypes.map((argument) => (\n    <Argument key={argument.id}>\n      <Whitespace>&nbsp;&nbsp;</Whitespace>\n      <Identifier>{argument.name}</Identifier>\n      <Delimiter>:</Delimiter>\n      <Whitespace>&nbsp;</Whitespace>\n      {renderType(argument.type, onClick ? () => onClick(argument) : undefined)}\n      {argument.defaultValue && (\n        <>\n          <Whitespace>&nbsp;</Whitespace>\n          <Operator>=</Operator>\n          <Whitespace>&nbsp;</Whitespace>\n          {isScalar(argument.type) ? (\n            typeof argument.defaultValue === \"string\" ? (\n              <String>{JSON.stringify(argument.defaultValue)}</String>\n            ) : (\n              <Number>{JSON.stringify(argument.defaultValue)}</Number>\n            )\n          ) : (\n            <Type>{JSON.stringify(argument.defaultValue, null, 2)}</Type>\n          )}\n        </>\n      )}\n      <br />\n    </Argument>\n  ));\n}\n\nexport function renderField(\n  type: SchemaFieldType,\n  collapsed?: boolean,\n  onClick?: (argumentOrField: SchemaArgumentType | SchemaFieldType) => void\n): JSX.Element {\n  return (\n    <Field>\n      <Identifier>{type.name}</Identifier>\n      {type.arguments && type.arguments.length > 0 && (\n        <>\n          <Bracket>(</Bracket>\n          {collapsed ? (\n            \"...\"\n          ) : (\n            <>\n              <br />\n              {renderArguments(type.arguments, onClick)}\n            </>\n          )}\n          <Bracket>)</Bracket>\n        </>\n      )}\n      <Delimiter>:</Delimiter>\n      <Whitespace>&nbsp;</Whitespace>\n      {renderType(type.valueType, onClick ? () => onClick(type) : undefined)}\n    </Field>\n  );\n}\n\nexport function renderType(\n  type: SchemaType | SchemaValueType,\n  onClick?: (type: SchemaType | SchemaValueType) => void\n): JSX.Element {\n  if (type.kind === \"value-type\") {\n    const result = renderType(type.type, onClick);\n\n    return (\n      <>\n        {type.isList ? (\n          <>\n            <Bracket>[</Bracket>\n            {result}\n            <Bracket>]</Bracket>\n          </>\n        ) : (\n          result\n        )}\n        {!type.isOptional && <Operator>!</Operator>}\n      </>\n    );\n  }\n\n  return type.typeKind === \"scalar\" ? (\n    <Keyword>{renderTypeOrTypeLink(type, onClick)}</Keyword>\n  ) : (\n    <Type>{renderTypeOrTypeLink(type, onClick)}</Type>\n  );\n}\n\nconst renderTypeOrTypeLink = (\n  type: SchemaType,\n  onClick?: (type: SchemaType | SchemaValueType) => void\n) => {\n  return (\n    <>\n      {onClick ? (\n        <Link onClick={() => onClick(type)}>{type.name}</Link>\n      ) : (\n        type.name\n      )}\n    </>\n  );\n};\n\nconst Argument = styled.span`\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst Bracket = styled.span`\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst Delimiter = styled.span`\n  color: ${(props) => props.theme.delimiterToken};\n`;\n\nconst Field = styled.span`\n  color: ${(props) => props.theme.textColor};\n`;\n\nconst Identifier = styled.span`\n  color: ${(props) => props.theme.identifierToken};\n`;\n\nconst Keyword = styled.span`\n  color: ${(props) => props.theme.keywordToken};\n`;\n\nconst Link = styled.a`\n  cursor: pointer;\n  text-decoration: underline;\n\n  :hover {\n    text-decoration: none;\n  }\n`;\n\nconst Number = styled.span`\n  color: ${(props) => props.theme.numberToken};\n`;\n\nconst Operator = styled.span`\n  color: ${(props) => props.theme.operatorToken};\n`;\n\nconst String = styled.span`\n  color: ${(props) => props.theme.stringToken};\n`;\n\nconst Type = styled.span`\n  color: ${(props) => props.theme.typeToken};\n`;\n\nconst Whitespace = styled.span`\n  color: ${(props) => props.theme.mainBgColor};\n`;\n","import {\n  ChevronDownIcon,\n  ChevronRightIcon,\n  ChevronUpIcon,\n  FieldIcon,\n  FlexIconContainer,\n  ObjectIcon,\n  renderTypeIcon,\n  WarningIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { schemaBrowser } from \"@bcp/main/services\";\nimport store, { updateSchemaTab } from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport {\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport { createId } from \"@bcp/shared/utils\";\nimport React, {\n  FunctionComponent,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  areEqual,\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnScrollProps,\n} from \"react-window\";\nimport ColumnSearch from \"./ColumnSearch\";\nimport ColumnDescription from \"./ColumnDescription\";\nimport { renderField, renderType } from \"./rendering\";\nimport { getInnerType } from \"./utils\";\n\ninterface ColumnProperties extends ColumnDescription {\n  position: number;\n  selectedFieldId?: string;\n  onClick: (pane: ColumnDescription) => void;\n  onNavigate: (toType: SchemaType | SchemaValueType) => void;\n}\n\nconst Column: FunctionComponent<ColumnProperties> = memo(\n  ({\n    fieldOrType,\n    headerExpanded,\n    searchTerm,\n    scrollPosition,\n    position,\n    selectedFieldId,\n    onClick,\n    onNavigate,\n  }) => {\n    const ref = useRef<AutoSizer>(null);\n    const listRef = useRef<List>(null);\n    const requestId = useRef(\"\");\n    const itemCache = useRef<Item[]>([]);\n    const [expanded, updateExpanded] = useState(headerExpanded || false);\n\n    const fetchItems = useCallback(\n      async (\n        fieldOrType: SchemaFieldType | SchemaType,\n        searchTerm?: string,\n        callback?: () => void\n      ) => {\n        let type = getInnerType(fieldOrType);\n        const searchTermLowerCase = searchTerm?.toLocaleLowerCase();\n\n        if (type.types) {\n          itemCache.current = type.types\n            .map(getInnerType)\n            .filter(\n              (t) =>\n                !searchTermLowerCase ||\n                t.name.toLocaleLowerCase().indexOf(searchTermLowerCase) !== -1\n            )\n            .map((fieldOrType) => ({\n              fieldOrType,\n              selected: selectedFieldId === fieldOrType.id,\n            }));\n\n          if (ref.current) {\n            ref.current.forceUpdate(callback);\n          }\n        } else {\n          const currentRequestId = createId();\n\n          requestId.current = currentRequestId;\n\n          const fields:\n            | SchemaFieldType[]\n            | undefined = await schemaBrowser.getFields(type.name);\n\n          if (requestId.current === currentRequestId) {\n            itemCache.current = fields\n              ? fields\n                  .filter(\n                    (t) =>\n                      !searchTermLowerCase ||\n                      t.name\n                        .toLocaleLowerCase()\n                        .indexOf(searchTermLowerCase) !== -1\n                  )\n                  .map((fieldOrType) => ({\n                    fieldOrType,\n                    selected: selectedFieldId === fieldOrType.id,\n                  }))\n              : [];\n\n            if (ref.current) {\n              ref.current.forceUpdate(callback);\n            }\n          }\n        }\n      },\n      [selectedFieldId]\n    );\n\n    const handleClick = useCallback(\n      (fieldOrType: SchemaFieldType | SchemaType) => () => {\n        onClick({\n          fieldOrType,\n        });\n      },\n      [onClick]\n    );\n\n    const handleScroll = (props: ListOnScrollProps) => {\n      store.dispatch(\n        updateSchemaTab((draft) => {\n          if (props.scrollOffset > 0) {\n            draft.breadCrumbs[position].scrollPosition = props.scrollOffset;\n          } else if (draft.breadCrumbs[position]) {\n            delete draft.breadCrumbs[position].scrollPosition;\n          }\n        })\n      );\n    };\n\n    const handleSearchTermChange = useCallback(\n      async (searchTerm: string) => {\n        store.dispatch(\n          updateSchemaTab((draft) => {\n            delete draft.breadCrumbs[position].scrollPosition;\n\n            if (searchTerm.length > 0) {\n              draft.breadCrumbs[position].searchTerm = searchTerm;\n            } else {\n              delete draft.breadCrumbs[position].searchTerm;\n            }\n          })\n        );\n        await fetchItems(fieldOrType, searchTerm);\n      },\n      [fetchItems, fieldOrType, position]\n    );\n\n    const handleToggleHeaderClick = () => {\n      store.dispatch(\n        updateSchemaTab((draft) => {\n          if (expanded) {\n            delete draft.breadCrumbs[position].headerExpanded;\n          } else {\n            draft.breadCrumbs[position].headerExpanded = true;\n          }\n        })\n      );\n      updateExpanded(!expanded);\n    };\n\n    const renderItem = memo(\n      ({ data, index, style }: ListChildComponentProps): JSX.Element => {\n        const item = data[index] as Item;\n        const activeClass = (item.selected && \"active\") || undefined;\n        const innerType = getInnerType(item.fieldOrType);\n\n        return (\n          <div\n            key={`explorer-pane-${position}-item-${index}`}\n            style={style}\n            onClick={handleClick(item.fieldOrType)}\n          >\n            {item.fieldOrType.kind === \"type\" ? (\n              <Field className={activeClass}>\n                <FlexIconContainer>\n                  <ObjectIcon />\n                </FlexIconContainer>\n                <FieldTitle>{renderType(item.fieldOrType)}</FieldTitle>\n                <FlexIconContainer>\n                  <ChevronRightIcon />\n                </FlexIconContainer>\n              </Field>\n            ) : (\n              <Field className={activeClass}>\n                <FlexIconContainer>\n                  <FieldIcon />\n                </FlexIconContainer>\n                <FieldTitle>{renderField(item.fieldOrType, true)}</FieldTitle>\n                {item.fieldOrType.isDeprecated && (\n                  <FlexIconContainer>\n                    <WarningIcon />\n                  </FlexIconContainer>\n                )}\n                {[\"input-object\", \"interface\", \"object\", \"union\"].includes(\n                  innerType.typeKind\n                ) && (\n                  <FlexIconContainer>\n                    <ChevronRightIcon />\n                  </FlexIconContainer>\n                )}\n              </Field>\n            )}\n          </div>\n        );\n      },\n      areEqual\n    );\n\n    useEffect(() => {\n      const copy = itemCache.current.slice();\n\n      for (let item of copy) {\n        item.selected = item.fieldOrType.id === selectedFieldId;\n      }\n\n      itemCache.current = copy;\n\n      if (ref.current) {\n        ref.current.forceUpdate();\n      }\n    }, [selectedFieldId]);\n\n    useEffect(() => {\n      fetchItems(fieldOrType, searchTerm, () => {\n        if (scrollPosition && listRef.current) {\n          listRef.current.scrollTo(scrollPosition);\n        }\n      });\n\n      return () => {\n        requestId.current = \"\";\n      };\n    }, [fetchItems, fieldOrType, scrollPosition, searchTerm]);\n\n    useEffect(() => {\n      updateExpanded(headerExpanded || false);\n    }, [headerExpanded]);\n\n    return (\n      <Container>\n        <Header>\n          {fieldOrType.kind === \"type\" ? (\n            <>\n              <FlexIconContainer>\n                {renderTypeIcon(fieldOrType.typeKind)}\n              </FlexIconContainer>\n              <HeaderTitle>{renderType(fieldOrType)}</HeaderTitle>\n            </>\n          ) : (\n            <>\n              <FlexIconContainer>\n                <FieldIcon />\n              </FlexIconContainer>\n              <HeaderTitle>\n                {renderField(fieldOrType, !expanded, (argumentOrField) =>\n                  onNavigate(\n                    argumentOrField.kind === \"argument\"\n                      ? argumentOrField.type\n                      : argumentOrField.valueType\n                  )\n                )}\n              </HeaderTitle>\n              {fieldOrType.arguments && fieldOrType.arguments.length > 0 && (\n                <FlexIconContainer>\n                  <IconButton onClick={handleToggleHeaderClick}>\n                    {expanded ? <ChevronUpIcon /> : <ChevronDownIcon />}\n                  </IconButton>\n                </FlexIconContainer>\n              )}\n            </>\n          )}\n        </Header>\n        <ColumnSearch\n          searchTerm={searchTerm}\n          onSearchTermChange={handleSearchTermChange}\n        />\n        <Fields>\n          <AutoSizer ref={ref}>\n            {({ width, height }) => (\n              <div\n                tabIndex={-1}\n                style={{\n                  width: width + \"px\",\n                  height: height + \"px\",\n                }}\n              >\n                <List\n                  width={width}\n                  height={height}\n                  layout=\"vertical\"\n                  itemSize={25}\n                  itemKey={(index) => `explorer-pane-${position}-item-${index}`}\n                  itemData={itemCache.current}\n                  itemCount={itemCache.current.length}\n                  overscanCount={5}\n                  ref={listRef}\n                  onScroll={handleScroll}\n                >\n                  {renderItem}\n                </List>\n              </div>\n            )}\n          </AutoSizer>\n        </Fields>\n      </Container>\n    );\n  }\n);\n\nexport default Column;\n\nexport const panelWidth = 300;\n\ninterface Item {\n  fieldOrType: SchemaFieldType | SchemaType;\n  selected: boolean;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex: 0 0 ${panelWidth}px;\n  flex-direction: column;\n  border-right: 1px solid ${(props) => props.theme.contentBorderLight};\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.1);\n`;\n\nconst Field = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 3px 4px 10px;\n  color: ${(props) => props.theme.textColor};\n  cursor: pointer;\n  transition: background-color 0.2s ease, color 0.2s ease;\n\n  &:hover {\n    background-color: ${(props) => props.theme.treeHoverBg};\n  }\n\n  &.active {\n    background-color: ${(props) => props.theme.treeHoverBg};\n\n    &:hover {\n      background-color: ${(props) => props.theme.treeHoverBg};\n    }\n  }\n`;\n\nconst Fields = styled.main`\n  flex: 1 1 auto;\n`;\n\nconst Header = styled.header`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  align-items: flex-start;\n  border-bottom: 1px solid ${(props) => props.theme.contentBorderLight};\n  padding: 8px 3px 8px 10px;\n  font-size: 1.167em;\n\n  > ${FlexIconContainer} {\n    margin-top: 1px;\n  }\n`;\n\nconst HeaderTitle = styled.h1`\n  flex: 1 1 auto;\n  padding: 0px 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n`;\n\nconst FieldTitle = styled.div`\n  flex: 1 1 auto;\n  padding: 1px 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst IconButton = styled.button`\n  height: 16px;\n`;\n","import React, {\n  FunctionComponent,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  areEqual,\n  FixedSizeList as List,\n  ListChildComponentProps,\n  ListOnScrollProps,\n} from \"react-window\";\nimport {\n  SchemaType,\n  SchemaValueType,\n  SchemaFieldType,\n} from \"@bcp/shared/common\";\nimport { createId } from \"@bcp/shared/utils\";\nimport { languageService } from \"@bcp/main/services\";\nimport store, { updateSchemaTab, activeTab } from \"@bcp/main/state\";\nimport { SchemaBreadCrumbItem, SchemaTab } from \"@bcp/shared/models/Tabs\";\nimport styled from \"@bcp/main/styled\";\nimport BreadCrumbNavigation from \"./BreadCrumbNavigation\";\nimport Column, { panelWidth } from \"./Column\";\nimport ColumnDescription from \"./ColumnDescription\";\nimport { fetchPane, filterPanes } from \"./utils\";\n\ninterface ExplorerProperties {\n  breadCrumbs: SchemaBreadCrumbItem[];\n  scrollPosition?: number;\n  onNavigate: (\n    toType: SchemaFieldType | SchemaType | SchemaValueType,\n    reset?: boolean\n  ) => void;\n}\n\nconst Explorer: FunctionComponent<ExplorerProperties> = memo(\n  ({ breadCrumbs, scrollPosition, onNavigate }) => {\n    const ref = useRef<AutoSizer>(null);\n    const listRef = useRef<List>(null);\n    const requestId = useRef(\"\");\n    const paneCache = useRef<ColumnDescription[]>([]);\n    const selectedIdsCache = useRef<string[]>([]);\n\n    const fetchData = async (\n      breadCrumbs: SchemaBreadCrumbItem[],\n      callback?: () => void\n    ) => {\n      if (breadCrumbs.length > 0) {\n        const currentRequestId = createId();\n\n        requestId.current = currentRequestId;\n\n        const panes = await Promise.all(\n          breadCrumbs.map((item) => fetchPane(item))\n        );\n\n        if (currentRequestId === requestId.current) {\n          if (panes && panes.indexOf(undefined) === -1) {\n            paneCache.current = filterPanes(panes as ColumnDescription[]);\n            selectedIdsCache.current =\n              panes.length > 0\n                ? panes\n                    .slice(1)\n                    .map((p) => (p as ColumnDescription).fieldOrType.id)\n                : [];\n          } else {\n            paneCache.current = [];\n            selectedIdsCache.current = [];\n          }\n\n          if (ref.current) {\n            ref.current.forceUpdate(callback);\n          }\n        }\n      } else {\n        paneCache.current = [];\n        selectedIdsCache.current = [];\n\n        if (ref.current) {\n          ref.current.forceUpdate(callback);\n        }\n      }\n    };\n\n    const handleClick = useCallback(\n      (index: number) => async (pane: ColumnDescription) => {\n        const startIndex = index + 1;\n        const { breadCrumbs } = store.current(activeTab) as SchemaTab;\n        const copy = breadCrumbs.slice();\n\n        copy.splice(startIndex, copy.length - startIndex, {\n          id: pane.fieldOrType.id,\n          headerExpanded: pane.headerExpanded,\n          scrollPosition: pane.scrollPosition,\n          searchTerm: pane.searchTerm,\n        });\n        store.dispatch(\n          updateSchemaTab((draft) => {\n            draft.breadCrumbs = copy;\n          })\n        );\n        onNavigate(pane.fieldOrType, true);\n        await fetchData(copy, () => {\n          if (listRef.current) {\n            listRef.current.scrollToItem(paneCache.current.length - 1, \"end\");\n          }\n        });\n      },\n      [onNavigate]\n    );\n\n    const handleScroll = (props: ListOnScrollProps) => {\n      store.dispatch(\n        updateSchemaTab((draft) => {\n          draft.scrollPosition = props.scrollOffset;\n        })\n      );\n    };\n\n    const renderItem = memo(\n      ({ data, index, style }: ListChildComponentProps): JSX.Element => {\n        const selectedId =\n          data.selectedIds.length > index\n            ? (data.selectedIds[index] as string)\n            : undefined;\n        const pane = data.panes[index] as ColumnDescription;\n\n        return (\n          <div key={`explorer-pane-${index}`} style={style}>\n            <Column\n              fieldOrType={pane.fieldOrType}\n              headerExpanded={pane.headerExpanded}\n              position={index}\n              scrollPosition={pane.scrollPosition}\n              searchTerm={pane.searchTerm}\n              selectedFieldId={selectedId}\n              onClick={handleClick(index)}\n              onNavigate={onNavigate}\n            />\n          </div>\n        );\n      },\n      areEqual\n    );\n\n    useEffect(() => {\n      const subscription = languageService.subscribeToSchemaInfoChange(\n        async (schemaInfo) => {\n          if (schemaInfo.exists) {\n            await fetchData(breadCrumbs, () => {\n              if (scrollPosition && listRef.current) {\n                listRef.current.scrollTo(scrollPosition);\n              }\n            });\n          }\n        }\n      );\n\n      return () => {\n        requestId.current = \"\";\n        paneCache.current = [];\n        selectedIdsCache.current = [];\n        subscription.unsubscribe();\n      };\n    }, [breadCrumbs, scrollPosition]);\n\n    return (\n      <Container>\n        <BreadCrumbNavigation\n          onClick={(index, pane) => handleClick(index)(pane)}\n        />\n        <Content>\n          <AutoSizer ref={ref}>\n            {({ width, height }) => (\n              <div\n                tabIndex={-1}\n                style={{\n                  width: width + \"px\",\n                  height: height + \"px\",\n                }}\n              >\n                <List\n                  width={width}\n                  height={height}\n                  layout=\"horizontal\"\n                  itemSize={panelWidth}\n                  itemKey={(index) => `explorer-pane-${index}`}\n                  itemData={{\n                    panes: paneCache.current,\n                    selectedIds: selectedIdsCache.current,\n                  }}\n                  itemCount={paneCache.current.length}\n                  overscanCount={5}\n                  ref={listRef}\n                  onScroll={handleScroll}\n                >\n                  {renderItem}\n                </List>\n              </div>\n            )}\n          </AutoSizer>\n        </Content>\n      </Container>\n    );\n  }\n);\n\nexport default Explorer;\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  background: linear-gradient(\n    15deg,\n    ${(props) => props.theme.sideBarBg} 0%,\n    ${(props) => props.theme.mainBgColor} 100%\n  );\n`;\n","import { renderArgument } from \"@bcp/main/components/stage/schema-content/rendering\";\nimport { getInnerType } from \"@bcp/main/components/stage/schema-content/utils\";\nimport {\n  List,\n  ListItem,\n  ListItemDescription,\n  ListItemName,\n  ListItemNameIcon,\n  ListItemNameTitle,\n  ListItems,\n  ListTitle,\n} from \"@bcp/main/components/stage/shared/contentList\";\nimport { renderTypeIcon } from \"@bcp/main/components/shared/icons\";\nimport { renderMarkdown } from \"@bcp/main/utils\";\nimport {\n  SchemaType,\n  SchemaValueType,\n  SchemaArgumentType,\n} from \"@bcp/shared/common\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface InfoArgumentsProperties {\n  arguments: SchemaArgumentType[];\n  onNavigate: (toType: SchemaType | SchemaValueType) => void;\n}\n\nconst InfoArguments: FunctionComponent<InfoArgumentsProperties> = memo(\n  ({ arguments: args, onNavigate }) => {\n    return (\n      <List>\n        <ListTitle>Arguments</ListTitle>\n        <ListItems>\n          {args.map((argument) => {\n            const innerType = getInnerType(argument.type);\n\n            return (\n              <ListItem key={`info-arguments-${argument.id}`}>\n                <ListItemName>\n                  <ListItemNameIcon>\n                    {renderTypeIcon(innerType.typeKind)}\n                  </ListItemNameIcon>\n                  <ListItemNameTitle>\n                    {renderArgument(argument, (argument) =>\n                      onNavigate(argument.type)\n                    )}\n                  </ListItemNameTitle>\n                </ListItemName>\n                {argument.description && (\n                  <ListItemDescription\n                    dangerouslySetInnerHTML={{\n                      __html: renderMarkdown(argument.description),\n                    }}\n                  ></ListItemDescription>\n                )}\n              </ListItem>\n            );\n          })}\n        </ListItems>\n      </List>\n    );\n  }\n);\n\nexport default InfoArguments;\n","import { EnumValueIcon, WarningIcon } from \"@bcp/main/components/shared/icons\";\nimport {\n  List,\n  ListItem,\n  ListItemDescription,\n  ListItemName,\n  ListItemNameIcon,\n  ListItemNameTitle,\n  ListItems,\n  ListTitle,\n} from \"@bcp/main/components/stage/shared/contentList\";\nimport styled from \"@bcp/main/styled\";\nimport { renderMarkdown } from \"@bcp/main/utils\";\nimport { SchemaEnumValue } from \"@bcp/shared/common\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface InfoEnumValuesProperties {\n  enumValues: SchemaEnumValue[];\n}\n\nconst InfoEnumValues: FunctionComponent<InfoEnumValuesProperties> = memo(\n  ({ enumValues }) => {\n    return (\n      <List>\n        <ListTitle>Enum Values</ListTitle>\n        <ListItems>\n          {enumValues!.map((value) => (\n            <ListItem key={`info-values-${value.id}`}>\n              <ListItemName>\n                <ListItemNameIcon>\n                  <EnumValueIcon />\n                </ListItemNameIcon>\n                <ListItemNameTitle>\n                  <EnumValue>{value.name}</EnumValue>\n                </ListItemNameTitle>\n                {value.isDeprecated && (\n                  <ListItemNameIcon>\n                    <WarningIcon />\n                  </ListItemNameIcon>\n                )}\n              </ListItemName>\n              {value.description && (\n                <ListItemDescription\n                  dangerouslySetInnerHTML={{\n                    __html: renderMarkdown(value.description),\n                  }}\n                ></ListItemDescription>\n              )}\n              {value.isDeprecated && value.deprecationReason && (\n                <ListItemDescription warning>\n                  <h3>Deprecated</h3>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: renderMarkdown(value.deprecationReason),\n                    }}\n                  ></p>\n                </ListItemDescription>\n              )}\n            </ListItem>\n          ))}\n        </ListItems>\n      </List>\n    );\n  }\n);\n\nexport default InfoEnumValues;\n\nconst EnumValue = styled.span`\n  color: ${(props) => props.theme.typeToken};\n`;\n","import { FieldIcon, WarningIcon } from \"@bcp/main/components/shared/icons\";\nimport { renderField } from \"@bcp/main/components/stage/schema-content/rendering\";\nimport { renderMarkdown } from \"@bcp/main/utils\";\nimport {\n  List,\n  ListItem,\n  ListItemDescription,\n  ListItemName,\n  ListItemNameIcon,\n  ListItemNameTitle,\n  ListItems,\n  ListTitle,\n} from \"@bcp/main/components/stage/shared/contentList\";\nimport {\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface InfoFieldsProperties {\n  fields: SchemaFieldType[];\n  onNavigate: (toType: SchemaType | SchemaValueType) => void;\n}\n\nconst InfoFields: FunctionComponent<InfoFieldsProperties> = memo(\n  ({ fields, onNavigate }) => {\n    return (\n      <List>\n        <ListTitle>Fields</ListTitle>\n        <ListItems>\n          {fields.map((field) => (\n            <ListItem key={`info-fields-${field.id}`}>\n              <ListItemName>\n                <ListItemNameIcon>\n                  <FieldIcon />\n                </ListItemNameIcon>\n                <ListItemNameTitle>\n                  {renderField(field, true, (argumentOrField) =>\n                    onNavigate(\n                      argumentOrField.kind === \"argument\"\n                        ? argumentOrField.type\n                        : argumentOrField.valueType\n                    )\n                  )}\n                </ListItemNameTitle>\n                {field.isDeprecated && (\n                  <ListItemNameIcon>\n                    <WarningIcon />\n                  </ListItemNameIcon>\n                )}\n              </ListItemName>\n              {field.description && (\n                <ListItemDescription\n                  dangerouslySetInnerHTML={{\n                    __html: renderMarkdown(field.description),\n                  }}\n                ></ListItemDescription>\n              )}\n              {field.isDeprecated && field.deprecationReason && (\n                <ListItemDescription warning>\n                  <h3>Deprecated</h3>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: renderMarkdown(field.deprecationReason),\n                    }}\n                  ></p>\n                </ListItemDescription>\n              )}\n            </ListItem>\n          ))}\n        </ListItems>\n      </List>\n    );\n  }\n);\n\nexport default InfoFields;\n","import { renderTypeIcon } from \"@bcp/main/components/shared/icons\";\nimport { renderType } from \"@bcp/main/components/stage/schema-content/rendering\";\nimport { getInnerType } from \"@bcp/main/components/stage/schema-content/utils\";\nimport {\n  List,\n  ListItem,\n  ListItemDescription,\n  ListItemName,\n  ListItemNameIcon,\n  ListItemNameTitle,\n  ListItems,\n  ListTitle,\n} from \"@bcp/main/components/stage/shared/contentList\";\nimport { renderMarkdown } from \"@bcp/main/utils\";\nimport { SchemaType, SchemaValueType } from \"@bcp/shared/common\";\nimport React, { FunctionComponent, memo } from \"react\";\n\ninterface InfoTypesProperties {\n  title: string;\n  types: (SchemaType | SchemaValueType)[];\n  onNavigate: (toType: SchemaType | SchemaValueType) => void;\n}\n\nconst InfoTypes: FunctionComponent<InfoTypesProperties> = memo(\n  ({ title, types, onNavigate }) => {\n    return (\n      <List>\n        <ListTitle>{title}</ListTitle>\n        <ListItems>\n          {types!.map((type) => {\n            let innerType = getInnerType(type);\n\n            return (\n              <ListItem key={`info-types-${innerType.id}`}>\n                <ListItemName>\n                  <ListItemNameIcon>\n                    {renderTypeIcon(innerType.typeKind)}\n                  </ListItemNameIcon>\n                  <ListItemNameTitle>\n                    {renderType(innerType, (type) => onNavigate(type))}\n                  </ListItemNameTitle>\n                </ListItemName>\n                {innerType.description && (\n                  <ListItemDescription\n                    dangerouslySetInnerHTML={{\n                      __html: renderMarkdown(innerType.description),\n                    }}\n                  ></ListItemDescription>\n                )}\n              </ListItem>\n            );\n          })}\n        </ListItems>\n      </List>\n    );\n  }\n);\n\nexport default InfoTypes;\n","import {\n  ArrowLeftIcon,\n  ArrowRightIcon,\n  FieldIcon,\n  FlexIconContainer,\n  InfoIcon,\n  InterfaceIcon,\n  ObjectIcon,\n  renderTypeIcon,\n} from \"@bcp/main/components/shared/icons\";\nimport { renderType } from \"@bcp/main/components/stage/schema-content/rendering\";\nimport { fetchFieldOrType } from \"@bcp/main/components/stage/schema-content/utils\";\nimport {\n  Tabs,\n  Tab,\n  TabIconContainer,\n} from \"@bcp/main/components/stage/shared/content-tabs\";\nimport { schemaBrowser, languageService } from \"@bcp/main/services\";\nimport store, { activeTab, updateSchemaTab } from \"@bcp/main/state\";\nimport styled from \"@bcp/main/styled\";\nimport { renderMarkdown } from \"@bcp/main/utils\";\nimport {\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport {\n  isSchemaTab,\n  SchemaInfoTabId,\n  SchemaInfoPathItem,\n} from \"@bcp/shared/models/Tabs\";\nimport React, {\n  FunctionComponent,\n  memo,\n  Reducer,\n  useEffect,\n  useReducer,\n} from \"react\";\nimport { combineLatest } from \"rxjs\";\nimport InfoArguments from \"./InfoArguments\";\nimport InfoEnumValues from \"./InfoEnumValues\";\nimport InfoFields from \"./InfoFields\";\nimport InfoTypes from \"./InfoTypes\";\n\ninterface InfoProperties {\n  onNavigate: (toType: SchemaType | SchemaValueType) => void;\n}\n\nconst Info: FunctionComponent<InfoProperties> = memo(({ onNavigate }) => {\n  const [state, dispatch] = useReducer<Reducer<State, Action>>(reducer, {\n    activeId: \"info\",\n    position: 0,\n    size: 0,\n  });\n  const { fieldOrType, fields, position, size } = state;\n\n  const getClass = (tabId: SchemaInfoTabId) => {\n    return state.activeId === tabId ? \"active\" : \"\";\n  };\n\n  const handleBackward = () => {\n    if (position > 0) {\n      store.dispatch(\n        updateSchemaTab((draft) => {\n          draft.infoPosition = draft.infoPosition - 1;\n        })\n      );\n      dispatch({\n        kind: \"backward\",\n      });\n    }\n  };\n\n  const handleForward = () => {\n    if (size > position + 1) {\n      store.dispatch(\n        updateSchemaTab((draft) => {\n          draft.infoPosition = draft.infoPosition + 1;\n        })\n      );\n      dispatch({\n        kind: \"forward\",\n      });\n    }\n  };\n\n  const handleTabClick = (tabId: SchemaInfoTabId) => {\n    store.dispatch(\n      updateSchemaTab((draft) => {\n        if (tabId === \"info\") {\n          delete draft.infoPath[draft.infoPosition].activeTabId;\n        } else {\n          draft.infoPath[draft.infoPosition].activeTabId = tabId;\n        }\n      })\n    );\n    dispatch({\n      kind: \"activate-tab\",\n      activeId: tabId,\n    });\n  };\n\n  useEffect(() => {\n    let disposed = false;\n    let tabId: string | undefined;\n    let tabInfoPath: SchemaInfoPathItem[] | undefined;\n    let tabInfoPosition: number | undefined;\n    const subscription = combineLatest(\n      languageService.observable,\n      store.select(activeTab)\n    ).subscribe(([info, tab]) => {\n      if (\n        info.exists &&\n        isSchemaTab(tab) &&\n        (tabId !== tab.id ||\n          tabInfoPath !== tab.infoPath ||\n          tabInfoPosition !== tab.infoPosition)\n      ) {\n        tabId = tab.id;\n        tabInfoPath = tab.infoPath;\n        tabInfoPosition = tab.infoPosition;\n\n        const { id, activeTabId } = tab.infoPath[tab.infoPosition];\n\n        fetchFieldOrType(id).then((fieldOrType) => {\n          if (!disposed && fieldOrType) {\n            dispatch({\n              kind: \"update\",\n              fieldOrType,\n              activeId: activeTabId,\n              position: tab.infoPosition,\n              size: tab.infoPath.length,\n            });\n\n            if (\n              fieldOrType.kind === \"type\" &&\n              (fieldOrType.typeKind === \"input-object\" ||\n                fieldOrType.typeKind === \"interface\" ||\n                fieldOrType.typeKind === \"object\")\n            ) {\n              schemaBrowser.getFields(fieldOrType.name).then((fields) => {\n                if (!disposed) {\n                  dispatch({\n                    kind: \"update-fields\",\n                    fields,\n                  });\n                }\n              });\n            }\n          }\n        });\n      }\n    });\n\n    return () => {\n      disposed = true;\n      subscription.unsubscribe();\n      dispatch({ kind: \"dispose\" });\n    };\n  }, []);\n\n  return fieldOrType ? (\n    <Container>\n      <Header>\n        <FlexIconContainer>\n          {fieldOrType.kind === \"type\" ? (\n            renderTypeIcon(fieldOrType.typeKind)\n          ) : (\n            <FieldIcon />\n          )}\n        </FlexIconContainer>\n        <Title>{fieldOrType.name}</Title>\n        <HistoryNavigation>\n          <HistoryNavigationButton\n            disabled={position === 0}\n            onClick={handleBackward}\n          >\n            <ArrowLeftIcon />\n          </HistoryNavigationButton>\n          <HistoryNavigationButton\n            disabled={size === position + 1}\n            onClick={handleForward}\n          >\n            <ArrowRightIcon />\n          </HistoryNavigationButton>\n        </HistoryNavigation>\n      </Header>\n      <Navigation>\n        <Tabs>\n          <Tab\n            title=\"Tab: General\"\n            className={getClass(\"info\")}\n            onClick={() => handleTabClick(\"info\")}\n          >\n            <TabIconContainer>\n              <InfoIcon />\n            </TabIconContainer>\n            General\n          </Tab>\n          {fieldOrType.kind === \"type\" &&\n            fieldOrType.typeKind === \"interface\" &&\n            fieldOrType.types &&\n            fieldOrType.types.length > 0 && (\n              <Tab\n                title=\"Tab: Implemented By\"\n                className={getClass(\"types\")}\n                onClick={() => handleTabClick(\"types\")}\n              >\n                <TabIconContainer>\n                  <ObjectIcon />\n                </TabIconContainer>\n                Implemented By\n              </Tab>\n            )}\n          {fieldOrType.kind === \"type\" &&\n            fieldOrType.typeKind === \"object\" &&\n            fieldOrType.interfaces &&\n            fieldOrType.interfaces.length > 0 && (\n              <Tab\n                title=\"Tab: Implements\"\n                className={getClass(\"types\")}\n                onClick={() => handleTabClick(\"types\")}\n              >\n                <TabIconContainer>\n                  <InterfaceIcon />\n                </TabIconContainer>\n                Implements\n              </Tab>\n            )}\n        </Tabs>\n      </Navigation>\n      <GeneralInfo>\n        {fieldOrType.description && (\n          <Description\n            dangerouslySetInnerHTML={{\n              __html: renderMarkdown(fieldOrType.description),\n            }}\n          />\n        )}\n        {fieldOrType.kind === \"field\" && fieldOrType.isDeprecated && (\n          <Description warning>\n            <h3>Deprecated</h3>\n            {fieldOrType.deprecationReason && (\n              <p\n                dangerouslySetInnerHTML={{\n                  __html: renderMarkdown(fieldOrType.deprecationReason),\n                }}\n              ></p>\n            )}\n          </Description>\n        )}\n        {fieldOrType.kind === \"field\" && (\n          <Returns>\n            <Subtitle>Returns</Subtitle>\n            <code>\n              {renderType(fieldOrType.valueType, (fieldOrType) =>\n                onNavigate(fieldOrType)\n              )}\n            </code>\n          </Returns>\n        )}\n      </GeneralInfo>\n      {state.activeId === \"info\" &&\n        fieldOrType.kind === \"field\" &&\n        fieldOrType.arguments &&\n        fieldOrType.arguments.length > 0 && (\n          <InfoArguments\n            arguments={fieldOrType.arguments}\n            onNavigate={onNavigate}\n          />\n        )}\n      {state.activeId === \"info\" &&\n        fieldOrType.kind === \"type\" &&\n        [\"input-object\", \"interface\", \"object\"].includes(\n          fieldOrType.typeKind\n        ) &&\n        fields &&\n        fields.length > 0 && (\n          <InfoFields fields={fields} onNavigate={onNavigate} />\n        )}\n      {state.activeId === \"info\" &&\n        fieldOrType.kind === \"type\" &&\n        fieldOrType.typeKind === \"enum\" && (\n          <InfoEnumValues enumValues={fieldOrType.enumValues!} />\n        )}\n      {state.activeId === \"info\" &&\n        fieldOrType.kind === \"type\" &&\n        fieldOrType.typeKind === \"union\" &&\n        fieldOrType.types &&\n        fieldOrType.types.length > 0 && (\n          <InfoTypes\n            title=\"Types\"\n            types={fieldOrType.types}\n            onNavigate={onNavigate}\n          />\n        )}\n      {state.activeId === \"types\" &&\n        fieldOrType.kind === \"type\" &&\n        fieldOrType.typeKind === \"interface\" &&\n        fieldOrType.types &&\n        fieldOrType.types.length > 0 && (\n          <InfoTypes\n            title=\"Implemented By\"\n            types={fieldOrType.types}\n            onNavigate={onNavigate}\n          />\n        )}\n      {state.activeId === \"types\" &&\n        fieldOrType.kind === \"type\" &&\n        fieldOrType.typeKind === \"object\" &&\n        fieldOrType.interfaces &&\n        fieldOrType.interfaces.length > 0 && (\n          <InfoTypes\n            title=\"Implements\"\n            types={fieldOrType.interfaces}\n            onNavigate={onNavigate}\n          />\n        )}\n      {/*state.activeId === \"sdl\" && (\n        <Highlight language=\"graphql\">{convertTypeToSDL(fieldOrType)}</Highlight>\n      )*/}\n    </Container>\n  ) : (\n    <></>\n  );\n});\n\nexport default Info;\n\ninterface State {\n  activeId?: SchemaInfoTabId;\n  fieldOrType?: SchemaFieldType | SchemaType;\n  fields?: SchemaFieldType[];\n  position: number;\n  size: number;\n}\n\ninterface Action {\n  kind:\n    | \"activate-tab\"\n    | \"backward\"\n    | \"dispose\"\n    | \"forward\"\n    | \"update\"\n    | \"update-fields\";\n  activeId?: SchemaInfoTabId;\n  fieldOrType?: SchemaFieldType | SchemaType;\n  fields?: SchemaFieldType[];\n  position?: number;\n  size?: number;\n}\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.kind) {\n    case \"backward\":\n      return {\n        ...state,\n        position: state.position > 0 ? state.position - 1 : state.position,\n      };\n\n    case \"dispose\":\n      return {\n        fieldOrType: undefined,\n        fields: undefined,\n        position: 0,\n        size: 0,\n      };\n\n    case \"forward\":\n      return {\n        ...state,\n        position:\n          state.size > state.position + 1 ? state.position + 1 : state.position,\n      };\n\n    case \"activate-tab\":\n      return {\n        ...state,\n        activeId: action.activeId,\n      };\n\n    case \"update\":\n      return {\n        activeId: action.activeId || \"info\",\n        fieldOrType: action.fieldOrType,\n        fields: undefined,\n        position: action.position || 0,\n        size: action.size || 0,\n      };\n\n    case \"update-fields\":\n      return {\n        ...state,\n        fields: action.fields,\n      };\n\n    default:\n      throw new Error('Unexpected action with kind \"' + action.kind + '\".');\n  }\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  overflow-y: auto;\n`;\n\nconst Description = styled.div<{ warning?: boolean }>`\n  flex: 0 0 auto;\n  ${(props) =>\n    props.warning\n      ? `\n        border-top: 1px solid #856404;\n        border-bottom: 1px solid #856404;\n        padding: 5px 10px;\n        background: #fff3cd;\n        color: #856404;\n\n        h3 {\n          margin-bottom: 5px;\n          font-weight: bold;\n        }\n      `\n      : `\n        margin: 10px;\n      `}\n`;\n\nconst Returns = styled.div`\n  flex: 0 0 auto;\n  margin: 10px;\n`;\n\nconst Header = styled.header`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  align-items: center;\n  margin: 5px 10px;\n  font-size: 1.167em;\n`;\n\nconst Title = styled.h1`\n  display: flex;\n  flex: 1 1 auto;\n  padding: 0 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n`;\n\nconst Subtitle = styled.h2`\n  margin-bottom: 5px;\n  font-weight: bold;\n`;\n\nconst HistoryNavigation = styled.nav`\n  display: flex;\n  flex: 0 0 auto;\n`;\n\nconst HistoryNavigationButton = styled.button`\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin-left: 4px;\n  border: 1px solid ${(props) => props.theme.contentBorderLight};\n  padding: 2px 4px;\n  border-radius: 3px;\n  opacity: 0.75;\n  transition: background-color 0.2s ease, opacity 0.2s ease;\n\n  :hover {\n    opacity: 1;\n    background-color: ${(props) => props.theme.contentTabsBg};\n  }\n\n  :disabled,\n  :disabled:hover {\n    cursor: default;\n    opacity: 0.5;\n    background-color: transparent;\n  }\n`;\n\nconst Navigation = styled.nav`\n  display: flex;\n  flex: 0 0 30px;\n  flex-direction: row;\n  border-top: 1px solid ${(props) => props.theme.contentBorderLight};\n`;\n\nconst GeneralInfo = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n`;\n","import { SplitterIds, VerticalSplitter } from \"@bcp/main/components/shared\";\nimport store, {\n  activeTab,\n  changeSchemaInfoWidth,\n  schemaInfoWidth,\n  updateSchemaTab,\n} from \"@bcp/main/state\";\nimport {\n  SchemaFieldType,\n  SchemaType,\n  SchemaValueType,\n} from \"@bcp/shared/common\";\nimport { SchemaTab } from \"@bcp/shared/models/Tabs\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport Explorer from \"./Explorer\";\nimport Info from \"./info\";\nimport { getInnerType } from \"./utils\";\n\nconst ExplorerAndInfo: FunctionComponent = () => {\n  const { breadCrumbs, scrollPosition } = store.current(activeTab) as SchemaTab;\n  const width = store.current(schemaInfoWidth);\n\n  const handleAsideWidthChange = useCallback((width: number) => {\n    store.dispatch(changeSchemaInfoWidth(width));\n  }, []);\n\n  const handleOnNavigate = useCallback(\n    (\n      toType: SchemaFieldType | SchemaType | SchemaValueType,\n      reset?: boolean\n    ) => {\n      let type = toType.kind === \"field\" ? toType : getInnerType(toType);\n\n      if (reset === true) {\n        store.dispatch(\n          updateSchemaTab((draft) => {\n            draft.infoPath = [{ id: type.id }];\n            draft.infoPosition = 0;\n          })\n        );\n      } else {\n        store.dispatch(\n          updateSchemaTab((draft) => {\n            if (\n              draft.infoPath.length > draft.infoPosition + 1 ||\n              draft.infoPath[draft.infoPath.length - 1].id !== type.id\n            ) {\n              const copy = draft.infoPath\n                .map((p) => p)\n                .slice(0, draft.infoPosition + 1);\n\n              copy.push({ id: type.id });\n              draft.infoPath = copy;\n              draft.infoPosition = draft.infoPosition + 1;\n            }\n          })\n        );\n      }\n    },\n    []\n  );\n\n  return (\n    <VerticalSplitter\n      id={SplitterIds.SchemaContent}\n      asideWidth={width}\n      onAsideWidthChange={handleAsideWidthChange}\n      mainPane=\"left\"\n      leftContent={\n        <Explorer\n          breadCrumbs={breadCrumbs}\n          scrollPosition={scrollPosition}\n          onNavigate={handleOnNavigate}\n        />\n      }\n      rightContent={<Info onNavigate={handleOnNavigate} />}\n      showSeparator\n    />\n  );\n};\n\nexport default ExplorerAndInfo;\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeSchemaInfoWidth(width: number) {\n  return (draft: Application) => {\n    draft.settings.schemaInfoWidth = width;\n  };\n}\n","import {\n  ContentPanel,\n  FieldContainer,\n  HttpMethods,\n  SchemaEndpointUrlField,\n  Spinner,\n  SpinnerContainer,\n} from \"@bcp/main/components/stage/shared\";\nimport { workerContextProxyService, schemaFetcher } from \"@bcp/main/services\";\nimport styled from \"@bcp/main/styled\";\nimport HttpTransport from \"@bcp/shared/models/HttpTransport\";\nimport { faRedoAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { FunctionComponent, memo, useEffect, useState } from \"react\";\nimport { debounceTime } from \"rxjs/operators\";\n\ninterface HeaderProperties extends HttpTransport {\n  activeTabId: string;\n}\n\nconst Header: FunctionComponent<HeaderProperties> = memo(\n  ({ activeTabId, schemaEndpoint, httpMethod, httpHeaders, credentials }) => {\n    const [loading, updateLoading] = useState(false);\n\n    const handleReloadSchema = () => {\n      if (!loading) {\n        schemaFetcher.refetch();\n      }\n    };\n\n    useEffect(() => {\n      const subscription = schemaFetcher.isFetching\n        .pipe(debounceTime(250))\n        .subscribe((isLoading) => updateLoading(isLoading));\n\n      workerContextProxyService.update((session) => ({\n        ...session,\n        documentId: activeTabId,\n        schemaEndpoint,\n        httpMethod,\n        httpHeaders,\n        credentials,\n      }));\n      schemaFetcher.fetch();\n\n      return () => {\n        schemaFetcher.cancel();\n        subscription.unsubscribe();\n      };\n    }, [activeTabId, credentials, httpHeaders, httpMethod, schemaEndpoint]);\n\n    return (\n      <ContentPanel>\n        <FieldContainer>\n          <HttpMethods disabled={true} selectedKey={httpMethod} />\n          <SchemaEndpointUrlField type=\"url\" value={schemaEndpoint} disabled />\n          {loading && (\n            <SpinnerContainer>\n              <Spinner />\n            </SpinnerContainer>\n          )}\n          <Button\n            title=\"Reload Schema\"\n            disabled={loading}\n            onClick={handleReloadSchema}\n          >\n            <FontAwesomeIcon icon={faRedoAlt} />\n          </Button>\n        </FieldContainer>\n      </ContentPanel>\n    );\n  }\n);\n\nexport default Header;\n\ninterface ButtonProperties {\n  active?: boolean;\n}\n\nconst Button = styled.button<ButtonProperties>`\n  flex: 0 0 auto;\n  padding: 11px 11px;\n  color: ${(props) =>\n    props.active ? props.theme.red : props.theme.sideBarText};\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: ${(props) => props.theme.red};\n  }\n\n  &:disabled {\n    color: ${(props) => props.theme.sideBarBg};\n  }\n`;\n","import { HorizontalSplitter, SplitterIds } from \"@bcp/main/components/shared\";\nimport {\n  Footer,\n  FooterContent,\n} from \"@bcp/main/components/stage/shared/footer\";\nimport store, {\n  activeTab,\n  changeFooterCollapsed,\n  changeFooterHeight,\n  footerCollapsed,\n  footerHeight,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { activeTabId } from \"@bcp/main/state/selectors\";\nimport { SchemaTab } from \"@bcp/shared/models/Tabs\";\nimport React, { FunctionComponent, useCallback } from \"react\";\nimport ExplorerAndInfo from \"./ExplorerAndInfo\";\nimport Header from \"./Header\";\n\nconst SchemaContent: FunctionComponent = () => {\n  // triggers re-render if active tab id changes; don't remove\n  const tabId = useSelector(activeTabId)!;\n  const collapsed = useSelector(footerCollapsed);\n  const height = store.current(footerHeight);\n  const {\n    schemaEndpoint,\n    httpMethod,\n    httpHeaders,\n    credentials,\n  } = store.current(activeTab) as SchemaTab;\n\n  const handleAsideCollapsedChange = useCallback((collapsed) => {\n    store.dispatch(changeFooterCollapsed(collapsed));\n  }, []);\n\n  const handleAsideHeightChange = useCallback((height) => {\n    store.dispatch(changeFooterHeight(height));\n  }, []);\n\n  return (\n    <>\n      <Header\n        activeTabId={tabId}\n        schemaEndpoint={schemaEndpoint}\n        httpMethod={httpMethod}\n        httpHeaders={httpHeaders}\n        credentials={credentials}\n      />\n      <HorizontalSplitter\n        id={SplitterIds.Schema}\n        asideCollapsable\n        asideCollapsed={collapsed}\n        asideHeight={height}\n        onAsideCollapsedChange={handleAsideCollapsedChange}\n        onAsideHeightChange={handleAsideHeightChange}\n        mainPane=\"top\"\n        topContent={<ExplorerAndInfo />}\n        bottomContent={<FooterContent />}\n        showSeparator\n      />\n      <Footer />\n    </>\n  );\n};\n\nexport default SchemaContent;\n","import styled from \"@bcp/main/styled\";\n\nconst StageContainer = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n`;\n\nexport default StageContainer;\n","import React, { FunctionComponent } from \"react\";\nimport { useSelector } from \"@bcp/main/state\";\nimport { activeTabKind } from \"@bcp/main/state/selectors\";\nimport DocumentContent from \"./document-content\";\nimport Header from \"./shared/header\";\nimport PreferencesContent from \"./preferences-content\";\nimport SchemaContent from \"./schema-content\";\nimport StageContainer from \"./StageContainer\";\n\nconst Stage: FunctionComponent = () => {\n  return (\n    <StageContainer>\n      <Header />\n      <Content />\n    </StageContainer>\n  );\n};\n\nexport default Stage;\n\nconst Content: FunctionComponent = () => {\n  const kind = useSelector(activeTabKind);\n\n  switch (kind) {\n    case \"document\":\n    case \"history\":\n      return <DocumentContent />;\n\n    case \"schema\":\n      return <SchemaContent />;\n\n    case \"preferences\":\n      return <PreferencesContent />;\n\n    default:\n      return <></>;\n  }\n};\n","import Stage from \"./Stage\";\n\nexport default Stage;\n","import store, {\n  changeSideBarCollapsed,\n  changeSideBarWidth,\n  sideBarWidth,\n  useInitialized,\n  useSelector,\n} from \"@bcp/main/state\";\nimport { sideBarCollapsed, sideBarLocation } from \"@bcp/main/state/selectors\";\nimport React, { FunctionComponent } from \"react\";\nimport { SplitterIds, VerticalSplitter } from \"./shared/splitter\";\nimport SideBar from \"./side-bar\";\nimport Spinner from \"./Spinner\";\nimport Stage from \"./stage\";\n\nconst Main: FunctionComponent = () => {\n  const initialized = useInitialized();\n  const collapsed = useSelector(sideBarCollapsed);\n  const location = useSelector(sideBarLocation);\n  const width = store.current(sideBarWidth);\n\n  return initialized ? (\n    <VerticalSplitter\n      id={SplitterIds.Main}\n      asideCollapsable\n      asideCollapsed={collapsed}\n      asideWidth={width}\n      mainPane={location === \"left\" ? \"right\" : \"left\"}\n      onAsideWidthChange={(width) => store.dispatch(changeSideBarWidth(width))}\n      onAsideCollapsedChange={(collapsed) =>\n        store.dispatch(changeSideBarCollapsed(collapsed))\n      }\n      leftContent={\n        location === \"left\" ? <SideBar location={location} /> : <Stage />\n      }\n      rightContent={\n        location === \"left\" ? <Stage /> : <SideBar location={location} />\n      }\n    />\n  ) : (\n    <Spinner />\n  );\n};\n\nexport default Main;\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeSideBarWidth(width: number) {\n  return (draft: Application) => {\n    draft.settings.sideBarWidth = width;\n  };\n}\n","import Application from \"@bcp/shared/models/Application\";\n\nexport default function changeSideBarCollapsed(collapsed: boolean) {\n  return (draft: Application) => {\n    draft.settings.sideBarCollapsed = collapsed;\n  };\n}\n","import store, {\n  changeNavigationItem,\n  useInitialized,\n  useSelector,\n} from \"@bcp/main/state\";\nimport {\n  activeNavigationItemId,\n  sideBarCollapsed,\n} from \"@bcp/main/state/selectors\";\nimport styled from \"@bcp/main/styled\";\nimport NavigationItemId from \"@bcp/shared/models/NavigationItemId\";\nimport React, { FunctionComponent } from \"react\";\nimport { BookIcon, FilesIcon, HistoryIcon } from \"./shared/icons\";\n\nconst Navigation: FunctionComponent = () => {\n  const initialized = useInitialized();\n  const activeId = useSelector(activeNavigationItemId);\n  const isCollapsed = useSelector(sideBarCollapsed);\n\n  const changeActiveItem = (id: NavigationItemId) => {\n    store.dispatch(changeNavigationItem(id));\n  };\n\n  const getClass = (id: NavigationItemId) => {\n    return !isCollapsed && activeId === id ? \"active\" : \"\";\n  };\n\n  return initialized ? (\n    <Container>\n      <Button\n        title=\"Query Documents\"\n        className={getClass(NavigationItemId.QueryDocuments)}\n        onClick={() => changeActiveItem(NavigationItemId.QueryDocuments)}\n      >\n        <FilesIcon color={(theme) => theme.navItemText} size=\"x2\" />\n      </Button>\n      <Button\n        title=\"History\"\n        className={getClass(NavigationItemId.History)}\n        onClick={() => changeActiveItem(NavigationItemId.History)}\n      >\n        <HistoryIcon color={(theme) => theme.navItemText} size=\"x2\" />\n      </Button>\n      <Button\n        title=\"Schema\"\n        className={getClass(NavigationItemId.Schema)}\n        onClick={() => changeActiveItem(NavigationItemId.Schema)}\n      >\n        <BookIcon color={(theme) => theme.navItemText} size=\"x2\" />\n      </Button>\n    </Container>\n  ) : (\n    <></>\n  );\n};\n\nexport default Navigation;\n\nconst Container = styled.nav`\n  display: flex;\n  flex: 0 0 54px;\n  flex-direction: column;\n  /*justify-content: space-between;*/\n  background: linear-gradient(\n    15deg,\n    ${(props) => props.theme.navBgColor2} 0%,\n    ${(props) => props.theme.navBgColor} 75%,\n    ${(props) => props.theme.navBgColor} 100%\n  );\n  padding-top: 10px;\n`;\n\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n  margin: 5px;\n  border-radius: 6px;\n  font-size: 1.667em;\n  color: ${(props) => props.theme.navItemText};\n  opacity: 0.75;\n  transition: background-color 0.2s ease, color 0.2s ease, opacity 0.2s ease;\n\n  &.active,\n  &.active:hover {\n    background-color: ${(props) => props.theme.navItemActiveBgColor};\n    opacity: 1;\n  }\n\n  &:hover {\n    background-color: ${(props) => props.theme.navItemActiveBgColor};\n  }\n`;\n","import Application from \"@bcp/shared/models/Application\";\nimport NavigationItemId from \"@bcp/shared/models/NavigationItemId\";\n\nexport default function changeNavigationItem(id: NavigationItemId) {\n  return (draft: Application) => {\n    if (draft.selectedNavigationItemId === id) {\n      draft.settings.sideBarCollapsed = !draft.settings.sideBarCollapsed;\n    }\n\n    if (\n      draft.selectedNavigationItemId !== id &&\n      draft.settings.sideBarCollapsed\n    ) {\n      draft.settings.sideBarCollapsed = false;\n    }\n\n    draft.selectedNavigationItemId = id;\n  };\n}\n","import { useSelector } from \"@bcp/main/state\";\nimport { sideBarLocation } from \"@bcp/main/state/selectors\";\nimport styled, { ThemeProvider } from \"@bcp/main/styled\";\nimport defaultTheme from \"@bcp/main/theming/defaultTheme\";\nimport { editor as Editor } from \"monaco-editor/esm/vs/editor/editor.api\";\nimport hljs from \"highlight.js\";\nimport hljsDefineGraphQL from \"highlightjs-graphql\";\nimport React, { FunctionComponent } from \"react\";\nimport GlobalStyle from \"./GlobalStyle\";\nimport Main from \"./Main\";\nimport Navigation from \"./Navigation\";\n\nimport \"./highlight.css\";\n\nconst App: FunctionComponent = () => {\n  const location = useSelector(sideBarLocation);\n\n  setEditorTheme();\n  hljsDefineGraphQL(hljs);\n\n  return (\n    <ThemeProvider theme={defaultTheme}>\n      <Container onContextMenu={(e) => e.preventDefault()}>\n        <GlobalStyle />\n        {location === \"left\" ? (\n          <>\n            <Navigation />\n            <Main />\n          </>\n        ) : (\n          <>\n            <Main />\n            <Navigation />\n          </>\n        )}\n      </Container>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100vw;\n  height: 100vh;\n  background-color: ${(props) => props.theme.mainBgColor};\n`;\n\nfunction setEditorTheme() {\n  Editor.defineTheme(\"light\", {\n    base: \"vs\",\n    inherit: true,\n    rules: [\n      {\n        token: \"\",\n        background: defaultTheme.mainBgColor,\n      },\n      { token: \"annotation\", foreground: defaultTheme.annotationToken },\n      { token: \"comment\", foreground: defaultTheme.commentToken },\n      { token: \"delimiter\", foreground: defaultTheme.delimiterToken },\n      {\n        token: \"identifier\",\n        foreground: defaultTheme.identifierToken,\n      },\n      { token: \"keyword\", foreground: defaultTheme.keywordToken },\n      { token: \"number\", foreground: defaultTheme.numberToken },\n      { token: \"operator\", foreground: defaultTheme.operatorToken },\n      { token: \"string\", foreground: defaultTheme.stringToken },\n      { token: \"type\", foreground: defaultTheme.typeToken },\n    ],\n    colors: {\n      \"editor.foreground\": defaultTheme.textColor,\n      \"editor.background\": defaultTheme.mainBgColor,\n      \"scrollbar.shadow\": \"#00000066\",\n      //\"editorGutter.background\": \"#232d3875\"\n      //\"editorCursor.foreground\": \"#8B0000\",\n      \"editor.lineHighlightBackground\": \"#f5f9fb\",\n      //\"editorLineNumber.foreground\": \"#008800\",\n      //\"editor.selectionBackground\": \"#88000030\",\n      //\"editor.inactiveSelectionBackground\": \"#88000015\",\n      //\"scrollbarSlider.background\": defaultTheme.mainBgColor\n    },\n  });\n}\n","import React, { FunctionComponent, StrictMode } from \"react\";\nimport App from \"./components/App\";\n\nconst Root: FunctionComponent = () => {\n  return (\n    <StrictMode>\n      <App />\n    </StrictMode>\n  );\n};\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./Root\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}