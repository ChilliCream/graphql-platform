(this["webpackJsonp@banana-cake-pop/main"]=this["webpackJsonp@banana-cake-pop/main"]||[]).push([[6],{109:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m})),t.d(n,"c",(function(){return h})),t.d(n,"d",(function(){return v})),t.d(n,"f",(function(){return y})),t.d(n,"g",(function(){return g})),t.d(n,"e",(function(){return b})),t.d(n,"h",(function(){return k}));var r=t(7),a=t.n(r),i=t(145),o=t(64),c=t(79);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){l(i,r,a,o,c,"next",e)}function c(e){l(i,r,a,o,c,"throw",e)}o(void 0)}))}}function p(e,n,t){function r(){return(r=f(a.a.mark((function r(){var i,o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(c.d)();case 2:return i=r.sent,o=i.transaction("document","readwrite"),r.next=6,o.store.get(e);case 6:if(!(s=r.sent)){r.next=11;break}return s=x(u(u({},s),{},{id:n,isDraft:!1,isNew:!1,name:t||s.name})),r.next=11,o.store.put(s);case 11:return r.abrupt("return",s);case 12:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(i.a)(function(){return r.apply(this,arguments)}())}function m(e,n,t,r){function o(){return(o=f(a.a.mark((function i(){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=w(e,n,t,r),a.next=3,Object(c.e)("document",o);case 3:return a.abrupt("return",o);case 4:case"end":return a.stop()}}),i)})))).apply(this,arguments)}return Object(i.a)(function(){return o.apply(this,arguments)}())}function h(e){function n(){return(n=f(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)("document",I(e));case 2:return n.next=4,Object(c.a)("document",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(i.a)(function(){return n.apply(this,arguments)}())}function v(e){return Object(i.a)(Object(c.c)("document",e))}function y(e){function n(){return(n=f(a.a.mark((function n(){var t,r,i,o,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.d)();case 2:return t=n.sent,r=t.transaction("document","readwrite"),n.next=6,r.store.get(e);case 6:if(!(i=n.sent)||!i.isDraft&&!i.isNew){n.next=20;break}return n.next=10,r.store.delete(e);case 10:return o=I(e),n.next=13,r.store.get(o);case 13:if(!(s=n.sent)){n.next=20;break}return i=x(u(u({},s),{},{id:e,isDraft:!1})),n.next=18,r.store.put(i);case 18:return n.next=20,r.store.delete(o);case 20:return n.abrupt("return",i);case 21:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(i.a)(function(){return n.apply(this,arguments)}())}function g(e,n){function t(){return(t=f(a.a.mark((function t(){var r,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.d)();case 2:return r=t.sent,i=r.transaction("document","readwrite"),t.next=6,i.store.get(e);case 6:if(!(o=t.sent)||!o.isDraft&&!o.isNew){t.next=13;break}return o=x(u(u({},o),{},{isDraft:!1,isNew:!1,name:null!==n&&void 0!==n?n:o.name})),t.next=11,i.store.put(o);case 11:return t.next=13,i.store.delete(I(e));case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.a)(function(){return t.apply(this,arguments)}())}function b(e,n){function t(){return(t=f(a.a.mark((function t(){var r,i,o,s,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.d)();case 2:return r=t.sent,i=r.transaction("document","readwrite"),t.next=6,i.store.get(e);case 6:if(!(o=t.sent)){t.next=18;break}return o=x(u(u({},o),{},{id:e,name:n})),t.next=11,i.store.put(o);case 11:return s=I(e),t.next=14,i.store.get(s);case 14:if(!(d=t.sent)){t.next=18;break}return t.next=18,i.store.put(x(u(u({},d),{},{id:e,name:n})));case 18:return t.abrupt("return",o);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.a)(function(){return t.apply(this,arguments)}())}function k(e,n){function t(){return(t=f(a.a.mark((function t(){var r,i,o,s,d,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.d)();case 2:return r=t.sent,i=r.transaction("document","readwrite"),t.next=6,i.store.get(e);case 6:if(!(o=t.sent)){t.next=29;break}if(s=I(e),!o.isDraft){t.next=22;break}return t.next=12,i.store.get(s);case 12:if(d=t.sent,o=x(u(u({},n(o)),{},{id:e})),!d||d.hash!==o.hash){t.next=18;break}return o=x(u(u({},d),{},{id:e,isDraft:!1})),t.next=18,i.store.delete(s);case 18:return t.next=20,i.store.put(o);case 20:t.next=29;break;case 22:if(l=x(u(u({},o),{},{id:s})),o=x(u(u({},n(o)),{},{id:e,isDraft:!0})),l.hash===o.hash){t.next=29;break}return t.next=27,i.store.put(l);case 27:return t.next=29,i.store.put(o);case 29:return t.abrupt("return",o);case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.a)(function(){return t.apply(this,arguments)}())}function x(e){var n=Object(o.d)(JSON.stringify(u(u({},e),{},{id:"",name:"",hash:"",isDraft:!1})));return u(u({},e),{},{hash:n})}function w(e,n,t,r){return x(r?{id:e,name:n,isDraft:!1,isNew:t,hash:"",credentials:r.credentials,graphQLDocument:r.graphQLDocument||"",httpHeaders:r.httpHeaders&&JSON.stringify(r.httpHeaders)||void 0,httpMethod:r.httpMethod||"POST",schemaEndpoint:r.useBrowserUrlAsEndpoint?window.location.href:""}:{id:e,name:n,isDraft:!1,isNew:t,hash:"",graphQLDocument:"",httpMethod:"POST",schemaEndpoint:""})}function I(e){return e.endsWith("-origin")?e:e+"-origin"}},162:function(e,n,t){"use strict";var r=t(302);t.d(n,"fromTransferablePosition",(function(){return r.a}));var a=t(303);t.o(a,"LogLevel")&&t.d(n,"LogLevel",(function(){return a.LogLevel})),t.o(a,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return a.createDocumentId})),t.o(a,"createFolderId")&&t.d(n,"createFolderId",(function(){return a.createFolderId})),t.o(a,"createId")&&t.d(n,"createId",(function(){return a.createId}));var i=t(304);t.o(i,"LogLevel")&&t.d(n,"LogLevel",(function(){return i.LogLevel})),t.o(i,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return i.createDocumentId})),t.o(i,"createFolderId")&&t.d(n,"createFolderId",(function(){return i.createFolderId})),t.o(i,"createId")&&t.d(n,"createId",(function(){return i.createId}));var o=t(305);t.o(o,"LogLevel")&&t.d(n,"LogLevel",(function(){return o.LogLevel})),t.o(o,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return o.createDocumentId})),t.o(o,"createFolderId")&&t.d(n,"createFolderId",(function(){return o.createFolderId})),t.o(o,"createId")&&t.d(n,"createId",(function(){return o.createId}));var c=t(306);t.o(c,"LogLevel")&&t.d(n,"LogLevel",(function(){return c.LogLevel})),t.o(c,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return c.createDocumentId})),t.o(c,"createFolderId")&&t.d(n,"createFolderId",(function(){return c.createFolderId})),t.o(c,"createId")&&t.d(n,"createId",(function(){return c.createId}));var s=t(307);t.o(s,"LogLevel")&&t.d(n,"LogLevel",(function(){return s.LogLevel})),t.o(s,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return s.createDocumentId})),t.o(s,"createFolderId")&&t.d(n,"createFolderId",(function(){return s.createFolderId})),t.o(s,"createId")&&t.d(n,"createId",(function(){return s.createId}));var u=t(308);t.o(u,"LogLevel")&&t.d(n,"LogLevel",(function(){return u.LogLevel})),t.o(u,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return u.createDocumentId})),t.o(u,"createFolderId")&&t.d(n,"createFolderId",(function(){return u.createFolderId})),t.o(u,"createId")&&t.d(n,"createId",(function(){return u.createId}));var d=t(309);t.d(n,"LogLevel",(function(){return d.a}));var l=t(310);t.o(l,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return l.createDocumentId})),t.o(l,"createFolderId")&&t.d(n,"createFolderId",(function(){return l.createFolderId})),t.o(l,"createId")&&t.d(n,"createId",(function(){return l.createId}));var f=t(311);t.o(f,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return f.createDocumentId})),t.o(f,"createFolderId")&&t.d(n,"createFolderId",(function(){return f.createFolderId})),t.o(f,"createId")&&t.d(n,"createId",(function(){return f.createId}));var p=t(312);t.o(p,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return p.createDocumentId})),t.o(p,"createFolderId")&&t.d(n,"createFolderId",(function(){return p.createFolderId})),t.o(p,"createId")&&t.d(n,"createId",(function(){return p.createId}));var m=t(313);t.o(m,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return m.createDocumentId})),t.o(m,"createFolderId")&&t.d(n,"createFolderId",(function(){return m.createFolderId})),t.o(m,"createId")&&t.d(n,"createId",(function(){return m.createId}));var h=t(314);t.o(h,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return h.createDocumentId})),t.o(h,"createFolderId")&&t.d(n,"createFolderId",(function(){return h.createFolderId})),t.o(h,"createId")&&t.d(n,"createId",(function(){return h.createId}));var v=t(315);t.o(v,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return v.createDocumentId})),t.o(v,"createFolderId")&&t.d(n,"createFolderId",(function(){return v.createFolderId})),t.o(v,"createId")&&t.d(n,"createId",(function(){return v.createId}));var y=t(316);t.o(y,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return y.createDocumentId})),t.o(y,"createFolderId")&&t.d(n,"createFolderId",(function(){return y.createFolderId})),t.o(y,"createId")&&t.d(n,"createId",(function(){return y.createId}));var g=t(317);t.o(g,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return g.createDocumentId})),t.o(g,"createFolderId")&&t.d(n,"createFolderId",(function(){return g.createFolderId})),t.o(g,"createId")&&t.d(n,"createId",(function(){return g.createId}));var b=t(318);t.o(b,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return b.createDocumentId})),t.o(b,"createFolderId")&&t.d(n,"createFolderId",(function(){return b.createFolderId})),t.o(b,"createId")&&t.d(n,"createId",(function(){return b.createId}))},233:function(e,n,t){"use strict";var r=t(162);t.o(r,"createDocumentId")&&t.d(n,"createDocumentId",(function(){return r.createDocumentId})),t.o(r,"createFolderId")&&t.d(n,"createFolderId",(function(){return r.createFolderId})),t.o(r,"createId")&&t.d(n,"createId",(function(){return r.createId})),t.o(r,"fromTransferablePosition")&&t.d(n,"fromTransferablePosition",(function(){return r.fromTransferablePosition}));var a=t(64);t.d(n,"createDocumentId",(function(){return a.b})),t.d(n,"createFolderId",(function(){return a.c})),t.d(n,"createId",(function(){return a.e}))},302:function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return o}));var i=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"characterValue",void 0),a(this,"lineValue",void 0),this.lineValue=n,this.characterValue=t}var n,t,i;return n=e,(t=[{key:"character",get:function(){return this.characterValue}},{key:"line",get:function(){return this.lineValue}},{key:"lessThanOrEqualTo",value:function(e){return this.line<e.line||this.line===e.line&&this.character<=e.character}},{key:"setCharacter",value:function(e){this.characterValue=e}},{key:"setLine",value:function(e){this.lineValue=e}}])&&r(n.prototype,t),i&&r(n,i),e}();function o(e){var n=e.character,t=e.line;return new i(t,n)}},303:function(e,n){},304:function(e,n){},305:function(e,n){},306:function(e,n){},307:function(e,n){},308:function(e,n){},309:function(e,n,t){"use strict";var r;t.d(n,"a",(function(){return r})),function(e){e[e.error=0]="error",e[e.warning=1]="warning",e[e.info=2]="info"}(r||(r={}))},310:function(e,n){},311:function(e,n){},312:function(e,n){},313:function(e,n){},314:function(e,n){},315:function(e,n){},316:function(e,n){},317:function(e,n){},318:function(e,n){},321:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(64);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=function e(n,t,i){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=n,this.payload=t,a(this,"id",void 0),a(this,"createdAt",void 0),this.id=i||Object(r.e)(),this.createdAt=Object(r.h)()}},322:function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return i}));var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"handlers",[]),a(this,"responseHandlers",new Map)}var n,t,i;return n=e,(t=[{key:"handleMessage",value:function(e,n){var t=this.responseHandlers.get(n.id);t?t(n,e):this.handlers.filter((function(e){return e.type===n.type})).forEach((function(t){return(0,t.handle)(n,e)}))}},{key:"registerReceiveMessageHandler",value:function(e,n){var t=this,r={type:e,handle:n};return this.handlers.push(r),function(){var e=t.handlers.indexOf(r);t.handlers.splice(e,1)}}},{key:"sendAndReceiveMessage",value:function(e){var n=this,t=this.getContext();return new Promise((function(r){n.responseHandlers.set(e.id,(function(e){var t=e.id,a=e.payload;r(a),n.responseHandlers.delete(t)})),t.sendMessage(e)}))}},{key:"sendMessage",value:function(e){this.getContext().sendMessage(e)}}])&&r(n.prototype,t),i&&r(n,i),e}()},323:function(e,n){},405:function(e,n){},406:function(e,n){},64:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return p})),t.d(n,"d",(function(){return i})),t.d(n,"e",(function(){return l})),t.d(n,"g",(function(){return m})),t.d(n,"f",(function(){return h})),t.d(n,"h",(function(){return v})),t.d(n,"i",(function(){return y}));var r=t(351),a=t.n(r);function i(){for(var e=new a.a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.forEach((function(n){return e=e.update(n)})),e.digest("hex")}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){var n=i(JSON.stringify(c(c({},e),{},{hash:void 0})));return c(c({},e),{},{hash:n})}var d=t(299);function l(e){return e&&e.length>0?"".concat(e,"|").concat(Object(d.a)()):Object(d.a)()}function f(){return l("doc")}function p(){return l("dir")}function m(e){return"OperationDefinition"===e.kind}function h(e,n){if(e>n)throw new Error("'start' must be smaller than 'end'.");return n-e}function v(){return Date.now()}function y(e){return new Date(new Date(new Date(new Date(e).setUTCHours(0)).setUTCMinutes(0)).setUTCSeconds(0)).setUTCMilliseconds(0)}},66:function(e,n,t){"use strict";var r=t(321);t.d(n,"Message",(function(){return r.a}));var a=t(322);t.d(n,"MessageObserver",(function(){return a.a}));t(323)},79:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"e",(function(){return m})),t.d(n,"f",(function(){return v})),t.d(n,"d",(function(){return g}));var r=t(7),a=t.n(r),i=t(380);function o(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)}))}}function s(e,n){return u.apply(this,arguments)}function u(){return(u=c(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return r=e.sent,e.next=5,r.delete(n,t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return(l=c(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,e.next=5,t.getAll(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,n){return p.apply(this,arguments)}function p(){return(p=c(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return r=e.sent,e.next=5,r.get(n,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,n){return h.apply(this,arguments)}function h(){return(h=c(a.a.mark((function e(n,t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return r=e.sent,e.next=5,r.put(n,t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,n,t){return y.apply(this,arguments)}function y(){return(y=c(a.a.mark((function e(n,t,r){var i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return i=e.sent,o=i.transaction(n,"readwrite"),e.next=6,o.store.get(t);case 6:if(!(c=e.sent)){e.next=12;break}if(!(c=r(c))){e.next=12;break}return e.next=12,o.store.put(c);case 12:return e.next=14,o.done;case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return Object(i.a)("bcp-preview",1,{upgrade:function(e){e.createObjectStore("document",{keyPath:"id"}),e.createObjectStore("schema-query-result",{keyPath:"endpoint"});var n=e.createObjectStore("history",{keyPath:"id"}),t=e.createObjectStore("node",{keyPath:"id"});n.createIndex("day","day"),t.createIndex("children","parentId"),t.createIndex("workspace","workspaceId")}})}},898:function(e,n,t){"use strict";t.r(n),t.d(n,"worker",(function(){return mn})),t.d(n,"workerContext",(function(){return hn}));var r,a,i=t(7),o=t.n(i),c=t(64),s=t(453);function u(e,n,t){var a;if(n)return r&&r.id===n.id&&r.hash===n.hash||(r=function(e,n,t,r,a){if(t.length>0)try{return{id:n,hash:r,document:Object(s.a)(t)}}catch(i){return void(a&&g(e,n,"The Document couldn't be parsed. Please go to the query editor and fix syntax issues.",i))}return}(e,n.id,n.graphQLDocument,n.hash,t)),null===(a=r)||void 0===a?void 0:a.document;r=void 0}function d(e){var n=[];return e&&e.definitions.forEach((function(e){var t;Object(c.g)(e)&&null!==(t=e.name)&&void 0!==t&&t.value&&n.push({name:e.name.value,type:e.operation})})),n}function l(e,n){var t=e.definitions.map((function(e){return e})).filter((function(e){return!!e})),r=1===t.length?t[0]:t.find((function(e){return e.name&&e.name.value===n||!1}));return r?r.operation:"query"}function f(e,n,t){var r;if(n)return a&&a.id===n.id&&a.hash===n.hash||(a=function(e,n,t,r,a){if(null!==t&&void 0!==t&&t.length)try{return{id:n,hash:r,headers:JSON.parse(t)}}catch(i){return void(a&&g(e,n,"HTTP headers couldn't be parsed. Please go to the HTTP header editor and fix syntax issues.",i))}return{id:n,hash:r}}(e,n.id,n.httpHeaders,n.hash,t)),null===(r=a)||void 0===r?void 0:r.headers;a=void 0}var p=t(66),m=t(162);function h(e,n,t,r,a){e.sendMessage(new p.Message("history-entry",{documentId:n,operationFailed:t,operationName:a,operationType:r}))}function v(e,n,t){e.sendMessage(new p.Message("receive-result",{documentId:n,result:t}))}function y(e,n,t,r){e.sendMessage(new p.Message("receive-result-patch",{documentId:n,resultId:t,patch:r}))}function g(e,n,t,r){e.sendMessage(new p.Message("log-entry",{tabId:t,level:m.LogLevel.error,message:n,details:r}))}function b(e,n,t,r){e.sendMessage(new p.Message("log-entry",{tabId:t,level:m.LogLevel.info,message:n,details:r}))}function k(e,n,t,r){e.sendMessage(new p.Message("log-entry",{tabId:t,level:m.LogLevel.warning,message:n,details:r}))}var x=t(79);function w(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function I(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){w(i,r,a,o,c,"next",e)}function c(e){w(i,r,a,o,c,"throw",e)}o(void 0)}))}}function O(e,n){return S.apply(this,arguments)}function S(){return(S=I(o.a.mark((function e(n,t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)({endpoint:n,hash:"",result:t}),e.next=3,Object(x.e)("schema-query-result",r);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return Object(x.c)("schema-query-result",e)}function T(e,n){return Object(c.a)({endpoint:e,hash:"",result:n}).hash}var N,j,D=t(998);function M(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){M(i,r,a,o,c,"next",e)}function c(e){M(i,r,a,o,c,"throw",e)}o(void 0)}))}}function R(e){return E.apply(this,arguments)}function E(){return(E=P(o.a.mark((function e(n){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=N)||void 0===t?void 0:t.endpoint)!==n){e.next=2;break}return e.abrupt("return",N);case 2:return e.next=4,F(n);case 4:if(!(r=e.sent)){e.next=9;break}return a=Object(D.a)(r.result),N={endpoint:n,hash:r.hash,schema:a},e.abrupt("return",N);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,n){return V.apply(this,arguments)}function V(){return(V=P(o.a.mark((function e(n,t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(n);case 2:if(r=e.sent,a=T(n,t),r&&r.hash===a){e.next=10;break}return e.next=7,O(n,t);case 7:return i=Object(D.a)(t),N={endpoint:n,hash:a,schema:i},e.abrupt("return",N);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,n,t){var r;if(n)return j&&j.id===n.id&&j.hash===n.hash||(j=function(e,n,t,r,a){if(null!==t&&void 0!==t&&t.length)try{return{id:n,hash:r,variables:JSON.parse(t)}}catch(i){return void(a&&g(e,n,"Variables couldn't be parsed. Please go to the variable editor and fix syntax issues.",i))}return{id:n,hash:r}}(e,n.id,n.variables,n.hash,t)),null===(r=j)||void 0===r?void 0:r.variables;j=void 0}var _=t(233),C=t(109),H=t(384);function Q(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function G(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Q(i,r,a,o,c,"next",e)}function c(e){Q(i,r,a,o,c,"throw",e)}o(void 0)}))}}var J={"GraphQL: Validation":"validation","GraphQL: Deprecation":"deprecation","GraphQL: Syntax":"syntax"};function A(e,n){return U.apply(this,arguments)}function U(){return(U=G(o.a.mark((function e(n,t){var r,a,i,c,s,l,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload.documentId,i=n.type,e.next=3,Object(C.d)(a).toPromise();case 3:c=e.sent,s={documentId:a,operations:[]},c&&(l=u(t,c))&&(f=d(l),s={documentId:a,operations:f}),t.sendMessage(new p.Message(i,s,r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,n){return z.apply(this,arguments)}function z(){return(z=G(o.a.mark((function e(n,t){var r,a,i,c,s,u,d,l,f,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload,i=a.documentId,c=a.cursor,s=n.type,u=Object(_.fromTransferablePosition)(c),e.next=4,Object(C.d)(i).toPromise();case 4:if(d=e.sent,l=[],!d){e.next=11;break}return e.next=9,R(d.schemaEndpoint);case 9:(f=e.sent)&&(m=Object(H.a)(f.schema,d.graphQLDocument,u),l=m.map((function(e){var n=e.label;return{label:n,kind:e.kind,detail:e.detail,documentation:e.documentation,insertText:n}})));case 11:t.sendMessage(new p.Message(s,l,r));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,n){return K.apply(this,arguments)}function K(){return(K=G(o.a.mark((function e(n,t){var r,a,i,c,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload.documentId,i=n.type,e.next=3,Object(C.d)(a).toPromise();case 3:if(c=e.sent,s=[],!c){e.next=11;break}return e.next=8,R(c.schemaEndpoint);case 8:u=e.sent,d=Object(H.b)(c.graphQLDocument||"",u?u.schema:void 0),s=d.map((function(e){var n=e.message,t=e.range,r=e.severity,a=e.source;return{message:n,severity:r?Z(r):1,source:a?J[a]:void 0,startLineNumber:t.start.line+1,startColumn:t.start.character+1,endLineNumber:t.end.line+1,endColumn:t.end.character+1}}));case 11:t.sendMessage(new p.Message(i,s,r));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,n){return Y.apply(this,arguments)}function Y(){return(Y=G(o.a.mark((function e(n,t){var r,a,i,c,s,u,d,l,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload,i=a.documentId,c=a.cursor,s=n.type,u=Object(_.fromTransferablePosition)(c),e.next=4,Object(C.d)(i).toPromise();case 4:if(d=e.sent,l=void 0,!d){e.next=12;break}return e.next=9,R(d.schemaEndpoint);case 9:(f=e.sent)&&(l=Object(H.c)(f.schema,d.graphQLDocument||"",u)),t.sendMessage(new p.Message(s,l,r));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return[8,4,2,1][e-1]}var $=t(26);function ee(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function ne(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){ee(i,r,a,o,c,"next",e)}function c(e){ee(i,r,a,o,c,"throw",e)}o(void 0)}))}}function te(e,n){return re.apply(this,arguments)}function re(){return(re=ne(o.a.mark((function e(n,t){var r,a,i,c,s,u,d,l,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload,i=a.documentId,c=a.fieldName,s=a.typeName,u=n.type,e.next=3,Object(C.d)(i).toPromise();case 3:if(d=e.sent,l=void 0,!d){e.next=10;break}return e.next=8,R(d.schemaEndpoint);case 8:(f=e.sent)&&(l=de(f.schema,s,c));case 10:t.sendMessage(new p.Message(u,l,r));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,n){return ie.apply(this,arguments)}function ie(){return(ie=ne(o.a.mark((function e(n,t){var r,a,i,c,s,u,d,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload,i=a.documentId,c=a.typeName,s=n.type,e.next=3,Object(C.d)(i).toPromise();case 3:if(u=e.sent,d=void 0,!u){e.next=10;break}return e.next=8,R(u.schemaEndpoint);case 8:(l=e.sent)&&(d=le(l.schema,c));case 10:t.sendMessage(new p.Message(s,d,r));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,n){return ce.apply(this,arguments)}function ce(){return(ce=ne(o.a.mark((function e(n,t){var r,a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.type,i=n.payload.documentId,e.next=3,Object(C.d)(i).toPromise();case 3:if(c=e.sent,s=void 0,!c){e.next=10;break}return e.next=8,R(c.schemaEndpoint);case 8:(u=e.sent)&&(s=fe(u.schema));case 10:t.sendMessage(new p.Message(a,s,r));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,n){return ue.apply(this,arguments)}function ue(){return(ue=ne(o.a.mark((function e(n,t){var r,a,i,c,s,u,d,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.payload,i=a.documentId,c=a.typeName,s=n.type,e.next=3,Object(C.d)(i).toPromise();case 3:if(u=e.sent,d=void 0,!u){e.next=10;break}return e.next=8,R(u.schemaEndpoint);case 8:(l=e.sent)&&(d=pe(l.schema,c));case 10:t.sendMessage(new p.Message(s,d,r));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,n,t){var r=e.getType(n);if(r)return function(e,n,t){if(n instanceof $.b){var r=n.getFields()[t];if(r)return{id:"".concat(n.name,"-").concat(r.name),name:r.name,kind:"field",description:r.description||void 0,valueType:ve(e,r.type),defaultValue:r.defaultValue}}else if(n instanceof $.c||n instanceof $.f){var a=n.getFields()[t];if(a){var i=0===a.args.length?void 0:a.args.map((function(t){var r=ve(e,t.type);return{id:"".concat(n.name,"-").concat(a.name,"-").concat(t.name),name:t.name,kind:"argument",description:t.description||void 0,defaultValue:t.defaultValue||void 0,type:r}}));return{id:"".concat(n.name,"-").concat(a.name),name:a.name,kind:"field",description:a.description||void 0,arguments:i,valueType:ve(e,a.type),isDeprecated:a.isDeprecated,deprecationReason:a.deprecationReason||void 0}}}return}(e,r,t)}function le(e,n){var t=e.getType(n);if(t)return function(e,n){var t=[];if(n instanceof $.b){var r=n.getFields();for(var a in r){var i=r[a];t.push({id:"".concat(n.name,"-").concat(i.name),name:i.name,kind:"field",description:i.description||void 0,valueType:ve(e,i.type),defaultValue:i.defaultValue})}}else if(n instanceof $.c||n instanceof $.f){var o=n.getFields(),c=function(r){var a=o[r],i=0===a.args.length?void 0:a.args.map((function(t){var r=ve(e,t.type);return{id:"".concat(n.name,"-").concat(a.name,"-").concat(t.name),name:t.name,kind:"argument",description:t.description||void 0,defaultValue:t.defaultValue||void 0,type:r}}));t.push({id:"".concat(n.name,"-").concat(a.name),name:a.name,kind:"field",description:a.description||void 0,arguments:i,valueType:ve(e,a.type),isDeprecated:a.isDeprecated,deprecationReason:a.deprecationReason||void 0})};for(var s in o)c(s)}return t}(e,t)}function fe(e){var n=[],t=e.getQueryType(),r=e.getMutationType(),a=e.getSubscriptionType();return t&&n.push(he(e,t)),r&&n.push(he(e,r)),a&&n.push(he(e,a)),0===n.length?void 0:n}function pe(e,n){var t=e.getType(n);if(t)return he(e,t)}function me(e){return e instanceof $.a?"enum":e instanceof $.b?"input-object":e instanceof $.c?"interface":e instanceof $.g?"scalar":e instanceof $.h?"union":e instanceof $.d||e instanceof $.e?me(e.ofType):"object"}function he(e,n){var t,r,a;return n instanceof $.a&&(t=n.getValues().map((function(e){return{id:"".concat(n.name,"-").concat(e.name),name:e.name,kind:"enum-value",description:e.description||void 0,value:e.value,isDeprecated:e.isDeprecated,deprecationReason:e.deprecationReason||void 0}}))),n instanceof $.c&&(a=e.getPossibleTypes(n).map((function(n){return ve(e,n)}))),n instanceof $.f&&(r=n.getInterfaces().map((function(e){return{id:e.name,name:e.name,kind:"type",description:e.description||void 0,typeKind:"interface"}}))),n instanceof $.h&&(a=n.getTypes().map((function(n){return ve(e,n)}))),{id:n.name,name:n.name,kind:"type",description:n.description||void 0,typeKind:me(n),enumValues:t,interfaces:r,types:a}}function ve(e,n){var t,r=!1,a=!0;return n instanceof $.e?(a=!1,n.ofType instanceof $.d?(t=n.ofType.ofType,r=!0):t=n.ofType):n instanceof $.d?(t=n.ofType,r=!0):t=n,{kind:"value-type",isList:r,isOptional:a,type:t instanceof $.d||t instanceof $.e?ve(e,t):he(e,t)}}var ye=t(104);t(887);function ge(e){return(ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){we(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function we(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ie(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function Oe(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Ie(i,r,a,o,c,"next",e)}function c(e){Ie(i,r,a,o,c,"throw",e)}o(void 0)}))}}var Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"introspection_phase_1"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"schema"},name:{kind:"Name",value:"__type"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"__Schema",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"directive"},name:{kind:"Name",value:"__type"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"__Directive",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:199,source:{body:'query introspection_phase_1 {\n  schema: __type(name: "__Schema") {\n    name\n    fields {\n      name\n    }\n  }\n\n  directive: __type(name: "__Directive") {\n    name\n    fields {\n      name\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function Fe(e,n,t){return Te.apply(this,arguments)}function Te(){return(Te=Oe(o.a.mark((function e(n,t,r){var a,i,c,s,u,d,l,f,p,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(n,t,r);case 2:if(a=e.sent,i=a.response,c=i.isMultipart,(s=i.responseOrError)instanceof Response){e.next=6;break}return e.abrupt("return",{isMultipart:c,request:a.request,response:{error:s}});case 6:if(!c){e.next=9;break}return u=Ne({},s),e.abrupt("return",{isMultipart:c,request:a.request,response:u});case 9:return e.next=11,_e(s);case 11:if(d=e.sent,l=d.data,!(f=d.error)){e.next=17;break}return p=je(f,s),e.abrupt("return",{isMultipart:c,request:a.request,response:p});case 17:return m=Ne(l,s),e.abrupt("return",{isMultipart:c,request:a.request,response:m});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,n){return{parsedBody:e,headers:De(n.headers),statusCode:n.status,statusText:n.statusText}}function je(e,n){return{error:e,headers:De(n.headers),statusCode:n.status,statusText:n.statusText}}function De(e){var n=Object.create(null);return e.forEach((function(e,t){n[t]=e})),n}function Me(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Oe(o.a.mark((function e(n){var t,r,a,i,c,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(n,{query:Se,variables:{},operationName:"introspection_phase_1"});case 2:if(t=e.sent,(r=t.response.responseOrError)instanceof Response){e.next=6;break}return e.abrupt("return",r);case 6:return e.next=8,_e(r);case 8:if(!(a=e.sent).error){e.next=11;break}return e.abrupt("return",a.error);case 11:return i=Ae(a.data.data),c=Ge(i),e.next=15,Re(n,{query:c,variables:{},operationName:"introspection_phase_2"});case 15:if(s=e.sent,(u=s.response.responseOrError)instanceof Response){e.next=19;break}return e.abrupt("return",u);case 19:return e.next=21,_e(u);case 21:if(!(d=e.sent).error){e.next=24;break}return e.abrupt("return",d.error);case 24:return e.abrupt("return",d.data.data);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,n,t){var r=e.credentials||"omit",a=n.extensions,i=n.operationName,o=n.variables,c={cache:"no-cache",credentials:r,referrerPolicy:"no-referrer"};if(e.useGET){var s=function(e,n){var t=[],r=function(e,n){t.push("".concat(e,"=").concat(encodeURIComponent(n)))};n.query&&r("query",Object(ye.print)(n.query));n.operationName&&r("operationName",n.operationName);n.variables&&r("variables",JSON.stringify(n.variables));n.extensions&&r("extensions",JSON.stringify(n.extensions));var a="",i=e,o=e.indexOf("#");-1!==o&&(a=e.substr(o),i=e.substr(0,o));var c=-1===i.indexOf("?")?"?":"&";return i+c+t.join("&")+a}(e.uri,n),u=xe(xe({},c),{},{method:"GET",headers:e.headers});return self.fetch(s,u).catch(Le).then((function(e){return Ve(e,t)})).then((function(n){return Ee(s,"GET",n,e.headers,u.credentials)}))}var d={extensions:a,operationName:i,query:Object(ye.print)(n.query),variables:o},l=JSON.stringify(d),f=xe(xe({},e.headers),{},{"Content-Type":"application/json"}),p=xe(xe({},c),{},{method:"POST",headers:f,body:l});return self.fetch(e.uri,p).catch(Le).then((function(e){return Ve(e,t)})).then((function(n){return Ee(e.uri,"POST",n,f,p.credentials,d)}))}function Ee(e,n,t,r,a,i){return{request:{uri:e,cache:"no-cache",credentials:a,headers:r,method:n,referrerPolicy:"no-referrer",body:i},response:t}}function Le(e){return e instanceof TypeError?He("Server Not Reachable",e.message):He("Server Not Reachable")}function Ve(e,n){var t=!1;if(e instanceof Response&&e.ok&&!e.bodyUsed&&e.headers&&n){var r=e.headers.get("Content-Type")||"";if(~r.indexOf("multipart/mixed"))t=!0,function(e,n,t){var r=e.body.getReader(),a=new TextDecoder;new qe(n,t).startReading(r,a,e)}(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="boundary=",t=e.indexOf(n);return~t?e.substring(t+n.length).trim().replace(/['"]/g,""):"-"}(r),n)}return{isMultipart:t,responseOrError:e}}var qe=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.boundary=n,this.observable=t,we(this,"actualValue",""),we(this,"contentEnd",void 0),we(this,"crlf","\r\n"),we(this,"delimiter",void 0),we(this,"headers",{contentType:""}),we(this,"partCount",0),we(this,"position",0),we(this,"receivedTerminator",!1),we(this,"state","delimiter"),we(this,"terminator",void 0),this.contentEnd="".concat(this.crlf).concat(this.crlf),this.delimiter="--".concat(this.boundary).concat(this.crlf),this.terminator="--".concat(this.boundary,"--").concat(this.crlf)}var n,t,r;return n=e,(t=[{key:"startReading",value:function(e,n,t){var r=this,a=function(){var i=Oe(o.a.mark((function i(c){var s,u,d;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=c.value,!c.done&&!r.receivedTerminator){i.next=5;break}r.observable.onComplete(r.partCount),i.next=9;break;case 5:u="";try{u=n.decode(s),r.readBuffer(u)}catch(o){d=Qe(t,o,""),r.observable.onError(d)}return i.next=9,e.read().then(a);case 9:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}();return e.read().then(a)}},{key:"readBuffer",value:function(e){for(;e.length>this.position&&!this.receivedTerminator;)switch(this.state){case"delimiter":this.readDelimiterOrTerminator(e);break;case"headers":this.readHeaders(e);break;case"content":this.readContent(e)}this.position=0}},{key:"readDelimiterOrTerminator",value:function(e){if(this.actualValue===this.delimiter)this.state="headers",this.partCount++;else if(this.actualValue===this.terminator)this.receivedTerminator=!0;else{if(this.terminator[this.actualValue.length]===e[this.position])return void(this.actualValue+=e[this.position++]);if(this.delimiter[this.actualValue.length]===e[this.position])return void(this.actualValue+=e[this.position++])}this.actualValue=""}},{key:"readHeaders",value:function(e){if(this.actualValue===this.crlf)if(""===this.headers.contentType){var n=Ce(new Error("Invalid MultiPart Response, no content-type header"),this.actualValue,e,this.position);this.observable.onError(n,this.partCount-1),this.state="delimiter",this.headers={contentType:""}}else this.state="content";else{if(!this.actualValue.endsWith(this.crlf))return void(this.actualValue+=e[this.position++]);try{this.parseHeader()}catch(r){var t=Ce(r,this.actualValue,e,this.position);this.observable.onError(t,this.partCount-1),this.state="delimiter",this.headers={contentType:""}}}this.actualValue=""}},{key:"readContent",value:function(e){if(this.actualValue.endsWith(this.contentEnd))try{var n=JSON.parse(this.actualValue);this.observable.onNext({content:n,headers:this.headers},this.partCount-1)}catch(r){var t=Ce(r,this.actualValue,e,this.position);this.observable.onError(t,this.partCount-1)}finally{this.state="delimiter",this.headers={contentType:""},this.actualValue=""}else this.actualValue+=e[this.position++]}},{key:"parseHeader",value:function(){this.parseMultipartPartContentType()}},{key:"parseMultipartPartContentType",value:function(){if(-1!==this.actualValue.toLowerCase().indexOf("content-type:")){var e=this.actualValue.split(":");if(2!==e.length)throw new Error("Invalid MultiPart Response, could not parse content-type");if(this.headers.contentType=e[1].trim(),-1===this.headers.contentType.toLowerCase().indexOf("application/json; charset=utf-8"))throw new Error("Invalid content type");return!0}return!1}}])&&be(n.prototype,t),r&&be(n,r),e}();function _e(e){return e.text().then((function(n){try{var t=JSON.parse(n);return"object"===ge(t)&&(t.data||t.errors)?{data:t}:{error:function(e,n,t){var r=e.status,a=e.statusText;return{message:t,name:"ServerError",statusCode:r,statusText:a,bodyText:n}}(e,n,"Response not successful: Received status code ".concat(e.status))}}catch(r){return{error:Qe(e,r,n)}}}))}function Ce(e,n,t,r){return xe(xe({},e),{},{name:"MultipartParseError",actualValue:n,chunk:t,position:r})}function He(e,n){return{message:e,name:"ServerNetworkError",statusText:n}}function Qe(e,n,t){var r=e.status,a=e.statusText;return xe(xe({},n),{},{name:"ServerParseError",statusCode:r,statusText:a,bodyText:t})}function Ge(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"introspection_phase_2"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__schema"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mutationType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FullType"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"directives"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"args"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FullType"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__Type"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDeprecated"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"args"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDeprecated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deprecationReason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"inputFields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputValue"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interfaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"enumValues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDeprecated"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDeprecated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deprecationReason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"possibleTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"InputValue"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__InputValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeRef"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultValue"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TypeRef"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"__Type"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ofType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1138,source:{body:"query introspection_phase_2 {\n  __schema {\n    queryType {\n      name\n    }\n    mutationType {\n      name\n    }\n    subscriptionType {\n      name\n    }\n    types {\n      ...FullType\n    }\n    directives {\n      name\n      description\n      args {\n        ...InputValue\n      }\n    }\n  }\n}\n\nfragment FullType on __Type {\n  kind\n  name\n  description\n  fields(includeDeprecated: true) {\n    name\n    description\n    args {\n      ...InputValue\n    }\n    type {\n      ...TypeRef\n    }\n    isDeprecated\n    deprecationReason\n  }\n  inputFields {\n    ...InputValue\n  }\n  interfaces {\n    ...TypeRef\n  }\n  enumValues(includeDeprecated: true) {\n    name\n    description\n    isDeprecated\n    deprecationReason\n  }\n  possibleTypes {\n    ...TypeRef\n  }\n}\n\nfragment InputValue on __InputValue {\n  name\n  description\n  type {\n    ...TypeRef\n  }\n  defaultValue\n}\n\nfragment TypeRef on __Type {\n  kind\n  name\n  ofType {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},t=n.definitions.find((function(e){return"OperationDefinition"===e.kind})).selectionSet.selections.find((function(e){return"Field"===e.kind}));return function(e,n){var t=[];e.selectionSet.selections.forEach((function(e){return t.push(e)})),n.isRepeatable&&t.push(Je("isRepeatable"));n.locations?t.push(Je("locations")):(t.push(Je("onField")),t.push(Je("onFragment")),t.push(Je("onOperation")));e.selectionSet.selections=t}(t.selectionSet.selections.find((function(e){return"Field"===e.kind&&"directives"===e.name.value})),e),function(e,n){if(!n.subscription){var t=[];e.selectionSet.selections.forEach((function(e){"Field"===e.kind&&"subscriptionType"===e.name.value||t.push(e)})),e.selectionSet.selections=t}}(t,e),n}function Je(e){return{kind:"Field",name:{kind:"Name",value:e},directives:[],arguments:[]}}function Ae(e){var n=e.directive;return{isRepeatable:!!n.fields.find((function(e){return"isRepeatable"===e.name})),locations:!!n.fields.find((function(e){return"locations"===e.name})),subscription:!!e.schema.fields.find((function(e){return"subscriptionType"===e.name}))}}function Ue(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function Be(e,n,t,r,a,i,s){var u=n.credentials,d=n.httpMethod,l=n.id,f=n.schemaEndpoint,m=function(){e.sendMessage(new p.Message("operation-request-succeeded",{documentId:l,operationType:r}))};return{documentId:l,cancel:function(){return e.sendMessage(new p.Message("operation-request-cancelled",{documentId:l,operationType:r})),b(e,a?"Cancelled ".concat(r,' operation "').concat(a,'".'):"Cancelled ".concat(r," operation."),l),Promise.resolve()},execute:function(){var n,x=(n=o.a.mark((function n(){var x,w,I,O,S,F,T,N,j,D,M,P,R;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(f.length>0)){n.next=21;break}return w=Object(c.h)(),e.sendMessage(new p.Message("operation-request-started",{documentId:l,operationType:r})),b(e,a?"Starting ".concat(r,' operation "').concat(a,'".'):"Starting ".concat(r," operation."),l),I=Object(c.e)(),O="query"===r?"Query":"Mutation",S=a?'"'.concat(a,'" '):"",F={headers:s||{},uri:f,useGET:"GET"===d,credentials:u},n.next=11,Fe(F,{operationName:a,query:t,variables:i},{onComplete:function(n){b(e,"Patch completed (".concat(n," patches received)."),l),m()},onError:function(n,t){y(e,l,I,{payload:n,success:!1,timestamp:Object(c.h)()}),g(e,t?"Patch ".concat(t," failed."):"Multipart error.",l,n)},onNext:function(n,t){y(e,l,I,{payload:n.content,success:!0,timestamp:Object(c.h)()}),b(e,"Received patch ".concat(t,"."),l,n)}});case 11:T=n.sent,N=Object(c.h)(),j=T.response,D=j.parsedBody,M=j.error,P=!!M||!(null===(x=D.errors)||void 0===x||!x.length)||!1,h(e,l,P,r,a),v(e,l,{id:I,payload:T,duration:Object(c.f)(w,N),operationName:a,operationType:r,success:!P,timestamp:w}),R="".concat(O," operation ").concat(S),P?(e.sendMessage(new p.Message("operation-request-failed",{documentId:l,operationType:r})),g(e,"".concat(R," failed."),l,M||D.errors)):(b(e,"".concat(R," succeeded."),l),T.isMultipart||m()),n.next=23;break;case 21:e.sendMessage(new p.Message("operation-request-failed",{documentId:l,operationType:r})),k(e,"Invalid schema endpoint.",l);case 23:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){Ue(i,r,a,o,c,"next",e)}function c(e){Ue(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(){return x.apply(this,arguments)}}()}}function ze(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function We(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){ze(i,r,a,o,c,"next",e)}function c(e){ze(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ke(e,n,t,r){var a,i=n.credentials,s=n.httpMethod,u=n.id,d=n.schemaEndpoint,l=function(){return{endpoint:d,exists:!1,hasMutationType:!1,hasSubscriptionType:!1}},f=function(){var n=We(o.a.mark((function n(t,r){var i,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Me(r);case 2:if(i=n.sent,t!==a){n.next=15;break}if(!("__schema"in i)){n.next=12;break}return n.next=7,L(d,i);case 7:c=n.sent,e.sendMessage(new p.Message("schema-request-succeeded",{documentId:u,info:{endpoint:d,exists:!0,hash:c.hash,hasMutationType:!!c.schema.getMutationType(),hasSubscriptionType:!!c.schema.getSubscriptionType()}})),b(e,"Fetched schema successfully.",u),n.next=15;break;case 12:s=l(),e.sendMessage(new p.Message("schema-request-failed",{documentId:u,info:s})),g(e,"Fetching schema failed.",u,i);case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),m=function(){var e=We(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(d);case 2:return n=e.sent,e.abrupt("return",n?{endpoint:d,exists:!0,hash:n.hash,hasMutationType:!!n.schema.getMutationType(),hasSubscriptionType:!!n.schema.getSubscriptionType()}:void 0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var n=We(o.a.mark((function n(t,r,i){var s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.sendMessage(new p.Message("schema-request-started",{documentId:t})),b(e,i?"Reload schema.":"Started schema fetching.",u),s=Object(c.e)(),a=s,n.next=6,f(s,r);case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();return{documentId:u,cancel:function(){var n=We(o.a.mark((function n(){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0,b(e,"Cancelled schema fetching.",u),n.next=4,m();case 4:if(n.t0=n.sent,n.t0){n.next=7;break}n.t0=l();case 7:t=n.t0,e.sendMessage(new p.Message("schema-request-cancelled",{documentId:u,info:t}));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),execute:function(){var n=We(o.a.mark((function n(){var a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(d.length>0)){n.next=20;break}if(a={headers:t||{},uri:d,useGETForQueries:"GET"===s,credentials:i},!r){n.next=8;break}return n.next=6,h(u,a,!0);case 6:n.next=18;break;case 8:return n.next=10,m();case 10:if(!(c=n.sent)){n.next=16;break}e.sendMessage(new p.Message("schema-request-succeeded",{documentId:u,info:c})),b(e,"Fetched schema from cache.",u),n.next=18;break;case 16:return n.next=18,h(u,a,!1);case 18:n.next=20;break;case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}}var Xe=t(452);function Ye(e,n,t,r,a,i){var o,s=n.id,u=n.schemaEndpoint,d=n.subscriptionEndpoint;return{documentId:s,cancel:function(){return o&&(b(e,a?'Cancelled subscription operation "'.concat(a,'".'):"Cancelled subscription operation.",s),o(),o=void 0,e.sendMessage(new p.Message("operation-request-cancelled",{documentId:s,operationType:r}))),Promise.resolve()},execute:function(){var n=!d&&u?u.replace(/^http/i,"ws"):d||"";if(n.length){e.sendMessage(new p.Message("operation-request-started",{documentId:s,operationType:r})),b(e,a?'Subscribing to subscription "'.concat(a,'".'):"Subscribing to subscription.",s);var l=new Xe.SubscriptionClient(n,{lazy:!0});l.onConnected((function(){o=f.unsubscribe,h(e,s,!1,r,a)})),l.onError((function(n){g(e,a?'Subscribing to subscription "'.concat(a,'" failed.'):"Subscribing to subscription failed.",s,n),h(e,s,!0,r,a)}));var f=l.request({operationName:a,document:t,variables:i}).subscribe({next:function(n){var t=n&&n.errors&&n.errors.length>0||!1;t?g(e,"New subscription result arrived.",s,n.errors):b(e,"New subscription result arrived.",s),v(e,s,{id:Object(c.e)(),payload:{raw:n},duration:0,operationName:a,operationType:r,success:!t,timestamp:Object(c.h)()})},error:function(n){g(e,"A subscription result ended up in an error.",s,n),v(e,s,{id:Object(c.e)(),payload:{error:n},duration:0,operationName:a,operationType:r,success:!1,timestamp:Object(c.h)()})},complete:function(){b(e,a?'Unsubscribing from subscription "'.concat(a,'".'):"Unsubscribing from subscription.",s)}})}else e.sendMessage(new p.Message("operation-request-failed",{documentId:s,operationType:r})),k(e,"Invalid schema endpoint.",s);return Promise.resolve()}}}function Ze(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function $e(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Ze(i,r,a,o,c,"next",e)}function c(e){Ze(i,r,a,o,c,"throw",e)}o(void 0)}))}}var en=new Map;function nn(e){en.set(e.documentId,e),e.execute().then((function(){en.delete(e.documentId)}))}function tn(e,n){return rn.apply(this,arguments)}function rn(){return(rn=$e(o.a.mark((function e(n,t){var r,a,i,c,s,d,m,h,v,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.payload,a=r.documentId,i=r.operationName,en.has(a)){e.next=6;break}return e.next=4,Object(C.d)(a).toPromise();case 4:(c=e.sent)&&(m=u(t,c,!0),h=f(t,c),v=q(t,c),!m||!h&&null!==(s=c.httpHeaders)&&void 0!==s&&s.length||!v&&null!==(d=c.variables)&&void 0!==d&&d.length?t.sendMessage(new p.Message("operation-request-failed",{documentId:a})):nn("subscription"===(y=l(m,i))?Ye(t,c,m,y,i,v):Be(t,c,m,y,i,v,h)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,n){return on.apply(this,arguments)}function on(){return(on=$e(o.a.mark((function e(n,t){var r,a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.payload,a=r.documentId,i=r.refetch,en.has(a)){e.next=6;break}return e.next=4,Object(C.d)(a).toPromise();case 4:(c=e.sent)&&(!(u=f(t,c))&&null!==(s=c.httpHeaders)&&void 0!==s&&s.length||nn(Ke(t,c,u,i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(e){return(cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,n){return(un=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function dn(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=pn(e);if(n){var a=pn(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return ln(this,t)}}function ln(e,n){return!n||"object"!==cn(n)&&"function"!==typeof n?fn(e):n}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mn=self,hn={sendMessage:function(e){return mn.postMessage(e)}};new(function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&un(e,n)}(i,e);var n,t,r,a=dn(i);function i(){var e,n,t,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),e=a.call(this),n=fn(e),r={sendMessage:function(e){return mn.postMessage(e)}},(t="context")in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,e.initialize(),e}return n=i,(t=[{key:"getContext",value:function(){return this.context}},{key:"initialize",value:function(){var e=this;mn.onmessage=function(n){var t=n.data;e.handleMessage(e.context,t)},this.registerOnCancelRequest(),this.registerOnDocumentUpdated(),this.registerOnFetchCompletionItems(),this.registerOnFetchDiagnostics(),this.registerOnFetchHoverInformation(),this.registerOnSchemaRequest(),this.registerOnFetchSchemaFieldType(),this.registerOnFetchSchemaFieldTypes(),this.registerOnFetchSchemaRootTypes(),this.registerOnFetchSchemaType(),this.registerOnOperationRequest()}},{key:"registerOnCancelRequest",value:function(){this.registerReceiveMessageHandler("cancel-request",(function(e){return function(e){var n;null===(n=en.get(e))||void 0===n||n.cancel()}(e.payload.documentId)}))}},{key:"registerOnDocumentUpdated",value:function(){this.registerReceiveMessageHandler("document-updated",A)}},{key:"registerOnFetchCompletionItems",value:function(){this.registerReceiveMessageHandler("fetch-completion-items",B)}},{key:"registerOnFetchDiagnostics",value:function(){this.registerReceiveMessageHandler("fetch-diagnostics",W)}},{key:"registerOnFetchHoverInformation",value:function(){this.registerReceiveMessageHandler("fetch-hover-information",X)}},{key:"registerOnFetchSchemaFieldType",value:function(){this.registerReceiveMessageHandler("fetch-field",te)}},{key:"registerOnFetchSchemaFieldTypes",value:function(){this.registerReceiveMessageHandler("fetch-fields",ae)}},{key:"registerOnFetchSchemaRootTypes",value:function(){this.registerReceiveMessageHandler("fetch-root-types",oe)}},{key:"registerOnFetchSchemaType",value:function(){this.registerReceiveMessageHandler("fetch-type",se)}},{key:"registerOnOperationRequest",value:function(){this.registerReceiveMessageHandler("operation-request",tn)}},{key:"registerOnSchemaRequest",value:function(){this.registerReceiveMessageHandler("schema-request",an)}}])&&sn(n.prototype,t),r&&sn(n,r),i}(p.MessageObserver))}},[[898,5,0,8]]]);