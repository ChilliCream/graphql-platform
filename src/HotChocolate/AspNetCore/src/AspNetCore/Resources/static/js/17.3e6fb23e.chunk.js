(this["webpackJsonp@banana-cake-pop/main"]=this["webpackJsonp@banana-cake-pop/main"]||[]).push([[17],{1204:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return ee}));var r=t(111),c=t(284),i=t(137),a=t(150),u=t(98),o=t(79),s=t.n(o),l=t(91),d=t(80),f=t(114),b=t(102),j=t(120),p=t(11),v=t(151),O=t(158),m=t(130),h=t(368),g=t(106),S=t(27),y=t(191),x=t(365),w=t(228),k=t(441),T=t(531),R=t(532),V=t(364),D=t(534),E=t(229),I=t(779);function C(e){return M(e,(function(e){return!Object(D.d)(e)}),F)}function F(e){return!Object(V.d)(e)&&!Object(R.d)(e)}function M(e,n,t){var r=e.getDirectives().filter(n),c=Object.values(e.getTypeMap()).filter(t);return[A(e)].concat(Object(S.a)(r.map((function(e){return function(e){return N(e)+"directive @"+e.name+q(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e)}))),Object(S.a)(c.map((function(e){return function(e){if(Object(E.y)(e))return function(e){return N(e)+"scalar ".concat(e.name)+function(e){if(null==e.specifiedByURL)return"";var n=Object(k.a)({kind:w.a.STRING,value:e.specifiedByURL});return" @specifiedBy(url: ".concat(n,")")}(e)}(e);if(Object(E.w)(e))return function(e){return N(e)+"type ".concat(e.name)+B(e)+L(e)}(e);if(Object(E.s)(e))return function(e){return N(e)+"interface ".concat(e.name)+B(e)+L(e)}(e);if(Object(E.z)(e))return function(e){var n=e.getTypes(),t=n.length?" = "+n.join(" | "):"";return N(e)+"union "+e.name+t}(e);if(Object(E.p)(e))return function(e){var n=e.getValues().map((function(e,n){return N(e,"  ",!n)+"  "+e.name+G(e.deprecationReason)}));return N(e)+"enum ".concat(e.name)+Q(n)}(e);if(Object(E.q)(e))return function(e){var n=Object.values(e.getFields()).map((function(e,n){return N(e,"  ",!n)+"  "+z(e)}));return N(e)+"input ".concat(e.name)+Q(n)}(e);Object(x.a)(!1,"Unexpected type: "+Object(y.a)(e))}(e)})))).filter(Boolean).join("\n\n")}function A(e){if(null!=e.description||!function(e){var n=e.getQueryType();if(n&&"Query"!==n.name)return!1;var t=e.getMutationType();if(t&&"Mutation"!==t.name)return!1;var r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e)){var n=[],t=e.getQueryType();t&&n.push("  query: ".concat(t.name));var r=e.getMutationType();r&&n.push("  mutation: ".concat(r.name));var c=e.getSubscriptionType();return c&&n.push("  subscription: ".concat(c.name)),N(e)+"schema {\n".concat(n.join("\n"),"\n}")}}function B(e){var n=e.getInterfaces();return n.length?" implements "+n.map((function(e){return e.name})).join(" & "):""}function L(e){return Q(Object.values(e.getFields()).map((function(e,n){return N(e,"  ",!n)+"  "+e.name+q(e.args,"  ")+": "+String(e.type)+G(e.deprecationReason)})))}function Q(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function q(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===e.length?"":e.every((function(e){return!e.description}))?"("+e.map(z).join(", ")+")":"(\n"+e.map((function(e,t){return N(e,"  "+n,!t)+"  "+n+z(e)})).join("\n")+"\n"+n+")"}function z(e){var n=Object(I.a)(e.defaultValue,e.type),t=e.name+": "+String(e.type);return n&&(t+=" = ".concat(Object(k.a)(n))),t+G(e.deprecationReason)}function G(e){if(null==e)return"";if(e!==D.a){var n=Object(k.a)({kind:w.a.STRING,value:e});return" @deprecated(reason: ".concat(n,")")}return" @deprecated"}function N(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.description;if(null==r)return"";var c=Object(k.a)({kind:w.a.STRING,value:r,block:Object(T.b)(r)}),i=n&&!t?"\n"+n:n;return i+c.replace(/\n/g,"\n"+n)+"\n"}var U=t(1211),J=(t(272),t(105)),P=t(0),H=t(2),K="schema-sdl",W=Object(P.memo)((function(e){var n=e.documentId,t=Object(u.c)(O.b.selectActive,(function(e,n){return(null===e||void 0===e?void 0:e.hash)===(null===n||void 0===n?void 0:n.hash)})),r=function(e,n){var t=Object(v.c)(m.c.selectActiveSchemaSdlEditorViewState),r=Object(b.i)(),c=Object(P.useRef)(null),i=Object(v.c)(m.c.selectActiveFocusedElement),o=Object(u.b)(),s=Object(a.a)((function(n){var t,r=null!==(t=n.saveViewState())&&void 0!==t?t:void 0;o(m.a.changeSchemaSdlEditorViewState({id:e,schemaSdlEditorViewState:r}))}),250,[e,o]);return Object(P.useEffect)((function(){var a=c.current,u=Object(d.a)(Object(d.a)({},p.a),{},{model:n,readOnly:!0}),l=J.editor.create(a,u);return window.setTimeout((function(){return l.render()}),500),r.register(K,l),Object(j.k)(l),t&&l.restoreViewState(t),"schema-sdl-editor"===i&&l.focus(),l.onDidChangeCursorPosition((function(){return s(l)})),l.onDidChangeCursorSelection((function(){return s(l)})),l.onDidScrollChange((function(){return s(l)})),l.onDidFocusEditorText((function(){o(m.a.changeFocus({id:e,focusedElement:"schema-sdl-editor"}))})),function(){r.unregister(K),l.dispose()}}),[e,r,i,t,n,o,s]),Object(a.b)(K,c),c}(n,function(e,n){var t=Object(b.j)(),r=Object(P.useRef)(J.editor.createModel("","graphql"));return r.current.updateOptions({indentSize:2,insertSpaces:!0,tabSize:2}),Object(P.useEffect)((function(){(null===n||void 0===n?void 0:n.exists)?function(e){return X.apply(this,arguments)}(n.endpoint).then((function(e){r.current.setValue(e)})).catch((function(n){t.error(e,"Could not get SDL. Please reload the schema and try again.",Object(d.a)({},n))})):r.current.setValue("")}),[e,t,r,n]),r.current}(n,t));return h.api.schemaInfo=null!==t&&void 0!==t?t:null,Object(H.jsx)(i.o,{ref:r})}));function X(){return(X=Object(l.a)(s.a.mark((function e(n){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.getSchemaQueryResult)(n);case 2:if(!(t=e.sent)){e.next=6;break}return r=C(Object(U.a)(t.result)).replace(/""""""/gi,""),e.abrupt("return",Object(g.n)(r));case 6:return e.abrupt("return","");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=t(128),Z=t(126),$=function(e){var n=e.isFetchingSchema;return Object(H.jsxs)(i.e,{children:[Object(H.jsx)(i.m,{children:"Schema Definition"}),Object(H.jsx)(i.l,{}),Object(H.jsx)(_,{disabled:n})]})},_=function(e){var n=e.disabled,t=Object(b.i)(),r=Object(u.c)(O.b.selectActive,(function(e,n){return(null===e||void 0===e?void 0:e.hash)===(null===n||void 0===n?void 0:n.hash)}));return Object(H.jsx)(Y.c,{disabled:n||!r,tooltip:"Download as SDL",onClick:function(){var e,n;if(null===r||void 0===r?void 0:r.exists){var c=null===(e=t.get("schema-sdl"))||void 0===e||null===(n=e.getModel())||void 0===n?void 0:n.getValue();if(c){var i=new Blob([c],{type:"text/plain"});Object(j.m)(i)}}},children:Object(H.jsx)(Z.k,{})})},ee=function(){var e=Object(u.c)(r.c.selectActiveId),n=Object(a.d)();return Object(H.jsxs)(i.a,{children:[Object(H.jsx)($,{isFetchingSchema:n}),Object(H.jsx)(i.n,{}),n?Object(H.jsx)(c.a,{}):Object(H.jsx)(W,{documentId:e})]})}}}]);