title: Interface_Field_With_Type_Refinements_Exclusive_To_Other_Schema
request:
  document: |
    {
      someField {
        value
        ... on ConcreteTypeA {
          specificToA
        }
        ... on ConcreteTypeB {
          specificToB
        }
      }
    }
response:
  body: |
    {
      "data": {
        "someField": {
          "value": "ConcreteTypeA: Q29uY3JldGVUeXBlQTox",
          "specificToA": "ConcreteTypeA: Q29uY3JldGVUeXBlQTox"
        }
      }
    }
sourceSchemas:
  - name: A
    schema: |
      schema {
        query: Query
      }
      
      interface SomeInterface {
        value: String
      }
      
      type ConcreteTypeA implements SomeInterface {
        value: String
        specificToA: String
      }
      
      type Query {
        someField: SomeInterface
      }
    interactions:
      - request:
          document: |
            query Op_cb97e457_1 {
              someField {
                __typename
                value
                ... on ConcreteTypeA {
                  specificToA
                }
              }
            }
        response:
          results:
            - |
              {
                "data": {
                  "someField": {
                    "__typename": "ConcreteTypeA",
                    "value": "ConcreteTypeA: Q29uY3JldGVUeXBlQTox",
                    "specificToA": "ConcreteTypeA: Q29uY3JldGVUeXBlQTox"
                  }
                }
              }
  - name: B
    schema: |
      schema {
        query: Query
      }
      
      interface SomeInterface {
        value: String
      }
      
      type ConcreteTypeB implements SomeInterface {
        value: String
        specificToB: String
      }
      
      type Query {
        anotherField: SomeInterface
      }
operationPlan:
  operation:
    - document: |
        {
          someField {
            __typename @fusion__requirement
            value
            ... on ConcreteTypeA {
              specificToA
            }
            ... on ConcreteTypeB {
              specificToB
            }
          }
        }
      hash: cb97e457dc45c45e2e5ae55929cf81a0
      searchSpace: 1
  nodes:
    - id: 1
      type: Operation
      schema: A
      operation: |
        query Op_cb97e457_1 {
          someField {
            __typename
            value
            ... on ConcreteTypeA {
              specificToA
            }
          }
        }
