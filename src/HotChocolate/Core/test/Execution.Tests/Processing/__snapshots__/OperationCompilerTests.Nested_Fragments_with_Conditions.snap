query(
  $if: Boolean!
) {
  human(id: "1000") {
    ... Human1 @include(if: $if)
    ... Human2 @skip(if: $if)
  }
}

fragment Human1 on Human {
  friends {
    edges {
      ... FriendEdge1
    }
  }
}

fragment FriendEdge1 on FriendsEdge {
  node {
    __typename
    friends {
      nodes {
        __typename
        ... Human3
      }
    }
  }
}

fragment Human2 on Human {
  friends {
    edges {
      node {
        __typename
        ... Human3
      }
    }
  }
}

fragment Human3 on Human {
  name
  otherHuman {
    __typename
    name
  }
}

---------------------------------------------------------

query(
  $if: Boolean!
) {
  ... on Query {
    human(id: "1000") @__execute(id: 2, kind: PURE, type: COMPOSITE) {
      ... on Human {
        friends @conditional @__execute(id: 4, kind: DEFAULT, type: COMPOSITE) {
          ... on FriendsConnection {
            edges @conditional @__execute(id: 6, kind: PURE, type: COMPOSITE_LIST) {
              ... on FriendsEdge {
                node @conditional @__execute(id: 8, kind: PURE, type: COMPOSITE) {
                  ... on Human {
                    __typename @conditional @__execute(id: 10, kind: PURE, type: LEAF)
                    friends @conditional @__execute(id: 11, kind: DEFAULT, type: COMPOSITE) {
                      ... on FriendsConnection {
                        nodes @conditional @__execute(id: 15, kind: PURE, type: COMPOSITE_LIST) {
                          ... on Human {
                            __typename @conditional @__execute(id: 17, kind: PURE, type: LEAF)
                            name @conditional @__execute(id: 18, kind: PURE, type: LEAF)
                            otherHuman @conditional @__execute(id: 19, kind: PURE, type: COMPOSITE) {
                              ... on Human {
                                __typename @conditional @__execute(id: 21, kind: PURE, type: LEAF)
                                name @conditional @__execute(id: 22, kind: PURE, type: LEAF)
                              }
                            }
                          }
                          ... on Droid {
                            __typename @conditional @__execute(id: 24, kind: PURE, type: LEAF)
                          }
                        }
                      }
                    }
                    name @conditional @__execute(id: 12, kind: PURE, type: LEAF)
                    otherHuman @conditional @__execute(id: 13, kind: PURE, type: COMPOSITE) {
                      ... on Human {
                        __typename @conditional @__execute(id: 26, kind: PURE, type: LEAF)
                        name @conditional @__execute(id: 27, kind: PURE, type: LEAF)
                      }
                    }
                  }
                  ... on Droid {
                    __typename @conditional @__execute(id: 29, kind: PURE, type: LEAF)
                    friends @conditional @__execute(id: 30, kind: DEFAULT, type: COMPOSITE) {
                      ... on FriendsConnection {
                        nodes @conditional @__execute(id: 32, kind: PURE, type: COMPOSITE_LIST) {
                          ... on Human {
                            __typename @conditional @__execute(id: 34, kind: PURE, type: LEAF)
                            name @conditional @__execute(id: 35, kind: PURE, type: LEAF)
                            otherHuman @conditional @__execute(id: 36, kind: PURE, type: COMPOSITE) {
                              ... on Human {
                                __typename @conditional @__execute(id: 38, kind: PURE, type: LEAF)
                                name @conditional @__execute(id: 39, kind: PURE, type: LEAF)
                              }
                            }
                          }
                          ... on Droid {
                            __typename @conditional @__execute(id: 41, kind: PURE, type: LEAF)
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
